,subject,title,content
0,next.js,Next.js SSR + react-query 조합에서의 serializing 에러,"안녕하세요! Next.js SSR + react-query 조합을 사용하려고 하는데요, page 컴포넌트 내 getServerSideProps 함수에서 prefetching을 받아온 후에 serializing 에러가 발생합니다. (Next.js는 13버젼입니다.) 에러 내용은 다음과 같습니다. Error: Error serializing `.dehydratedState.queries[0].state.data.headers` returned from `getServerSideProps` in ""/top"". Reason: `object` (""[object AxiosHeaders]"") cannot be serialized as JSON. Please only return JSON serializable data types. 해당 에러 내용으로 구글링을 해보니, 대부분 getServerSideProps 함수 반환 코드에서 return { props: { dehydratedState: JSON.parse(JSON.stringify(dehydrate(queryClient))), }, }; 와 같이 dehydrate(queryClient)값을 JSON화 -> Object화를 하라고 하는데요, 이와 같이 사용해도 또 다시 아래와 같은 에러가 납니다. TypeError: Converting circular structure to JSON --> starting at object with constructor 'ClientRequest' | property 'socket' -> object with constructor 'Socket' --- property '_httpMessage' closes the circle Backend API는 Express.js를 사용하고 있으며, res.status(200).json({ data: ~ })와 같은 방식으로 응답을 주고 있습니다. 어떻게 해결할 수 있을까요? 코드 첨부가 안되네요, 아래는 page 컴포넌트가 위치한 파일의 전체 코드입니다. import type { ReactElement } from 'react'; import { dehydrate, QueryClient, useQuery } from '@tanstack/react-query'; import { format } from 'date-fns'; import TopMusicContainer from '~containers/TopMusicContainer'; import Layout from '~layouts/Layout'; import type { NextPageWithLayout } from '~pages/_app'; import TopMusicService from '~services/topMusicService'; import * as MusicType from '~types/musicType'; export async function getServerSideProps() { const queryClient = new QueryClient(); await queryClient.prefetchQuery(['fetchTopMusic'], () => { const params: MusicType.ListRequestType = { filter: 'title', keyword: '', page: 1, limit: 25, time: format(new Date(), 'yyyyMMddHH'), }; return TopMusicService.list(params); }); return { props: { dehydratedState: JSON.parse(JSON.stringify(dehydrate(queryClient))), }, }; } const Top: NextPageWithLayout = (): JSX.Element => { const { data, isLoading } = useQuery({ queryKey: ['fetchTopMusic'], queryFn: () => { const params: MusicType.ListRequestType = { filter: 'title', keyword: '', page: 1, limit: 25, time: format(new Date(), 'yyyyMMddHH'), }; return TopMusicService.list(params); }, }); return ( <section> <TopMusicContainer /> </section> ); }; Top.getLayout = function getLayout(page: ReactElement) { return <Layout>{page}</Layout>; }; export default Top;"
1,next.js,Next.js 에서 fluent-ffmpeg 사용 시 에러 해결 가능할까요?,"Next.js 에서 puppeteer를 사용해서 특정 url에 접속하여 애니메이션을 png로 100장 정도 캡처하여 생성하고, fluent-ffmpeg를 사용해서 해당 png 이미지들을 mp4 영상으로 만들려고 하는데요. yarn add puppeteer fluent-ffmpeg @ffmpeg-installer/ffmpeg yarn add --dev @types/fluent-ffmpeg 위와 같이 라이브러리들을 설치했구요. 아래 page.tsx 파일에서 코드를 구현했는데요. dev로 실행해서 해당 페이지에 접속을 하면 아래와 같은 에러가 발생하는데요. 해결이 가능할까요?? 다른 라이브러리를 써야할지 구현한 코드가 문제가 있는지 모르겠네요. 도움 부탁드립니다!! # 에러 코드 # 1 of 1 error Next.js (14.2.3) Server Error Error: Cannot find module '/Users/.../animation-capture/node_modules/@ffmpeg-installer/darwin-arm64/package.json' This error happened while generating the page. Any console logs will be displayed in the terminal window. Call Stack webpackEmptyContext file:///Users/.../animation-capture/.next/server/app/capture/page.js (22:10) eval node_modules/@ffmpeg-installer/ffmpeg/index.js (40:27) (rsc)/./node_modules/@ffmpeg-installer/ffmpeg/index.js file:///Users/.../animation-capture/.next/server/vendor-chunks/@ffmpeg-installer.js (20:1) Next.js eval /./src/app/capture/page.tsx (rsc)/./src/app/capture/page.tsx file:///Users/.../animation-capture/.next/server/app/capture/page.js (286:1) Next.js # 코드 구현부 # import { NextApiRequest, NextApiResponse } from 'next'; import puppeteer from 'puppeteer'; import fs from 'fs'; import path from 'path'; import ffmpeg from 'fluent-ffmpeg'; import ffmpegInstaller from '@ffmpeg-installer/ffmpeg'; ffmpeg.setFfmpegPath(ffmpegInstaller.path); .... 중략.... const outputFilePath = path.resolve(""./screenshots/video.mp4""); ffmpeg() .addInput(`${folderPath}/screenshot-%d.png`) .inputFPS(10) .output(outputFilePath) .on(""end"", () => { res.status(200).send(`Video created successfully at ${outputFilePath}`); }) .on(""error"", (err) => { console.error(""Error generating video:"", err); res.status(500).send(""Failed to generate video""); }) .run(); } catch (error) { console.error(""Error capturing screenshots:"", error); res.status(500).send(""Failed to capture screenshots""); }"
2,next.js,(SSR 새로고침 문제)NextJS page에서 redux persist gate 설정하면 Client컴포넌트로 인식되는 문제,"NextJS Pages Router에서 유저 데이터를 상태관리하기위해 redux를 사용했으나, 새로고침 시 데이터가 날라가는 문제를 해결하기 위해 persist gate를 사용했습니다. 하지만 redux persist gate를 사용하면 클라이언트 컴포넌트로 인지되는 문제가 있습니다. 궁금한 것 1) persist gate를 잘못써서 생긴 문제일까요? 아님 persist gate를 쓰면 안될까요? 2) 해결 방법으로 생각 해본 것은, ""persist gate를 사용하지 않고 매 새로고침 시 저장되어있는 local storage에서 데이터를 새로 가져온다."" 입니다. 3) ssr시 상태관리 새로고침 다른 방법으로 해결해본 경험 있으시면 아무렇게나 대답해주시면 감사하겠습니다!!! ----------------------------------------------- 문제의 코드 위치: https://github.com/bbookng/zippyziggy-v2/blob/main/frontend/zippy-ziggy/src/pages/_app.tsx 문제의 코드: import GlobalStyle from '@/styles/Global.style'; import useDarkMode from '@/hooks/useDarkMode'; import { media } from '@/styles/media'; import { darkTheme, lightTheme } from '@/styles/theme'; import type { AppProps } from 'next/app'; import { ThemeProvider, createGlobalStyle } from 'styled-components'; import normalize from 'styled-normalize'; import '@/styles/index.css'; import { QueryClient, QueryClientProvider } from '@tanstack/react-query'; import AppLayout from '@/layout/AppLayout'; import store, { persistor } from '@/core/store'; import { PersistGate } from 'redux-persist/integration/react'; import { Provider } from 'react-redux'; import { ReactQueryDevtools } from '@tanstack/react-query-devtools'; import 'toastify-js/src/toastify.css'; import { ToastContainer } from 'react-toastify'; import 'react-toastify/dist/ReactToastify.css'; import DefaultHead from '@/components/Head/DefaultHead'; import Construction from './construction'; const queryClient = new QueryClient({ defaultOptions: { queries: { refetchOnWindowFocus: false, // default: true }, }, }); function App({ Component, pageProps }: AppProps) { const { colorTheme, toggleTheme } = useDarkMode(); return ( <Provider store={store}> <PersistGate persistor={persistor}> <QueryClientProvider client={queryClient}> <ThemeProvider theme={colorTheme === 'dark' ? darkTheme : lightTheme}> <AppLayout toggleTheme={toggleTheme}> <Component {...pageProps} /> ... </AppLayout> </ThemeProvider> <ReactQueryDevtools initialIsOpen={false} /> </QueryClientProvider> </PersistGate> </Provider> ); } export default App;"
3,next.js,DRF를 자세히 공부해보고싶은데 독학으로 하려니 자꾸 턱턱걸립니다... django 백엔드에서 프론트엔드로 보낸 data가 안불러와져요,"django rest framework로 웹을 개발하는 것을 공부하는 중인데 막히는부분이 많아서 점점 괴로워지네요. 이거를 보면서 독학하고 있는데요. https://wikidocs.net/book/9596 django views.py에서 response(data)를 발신하는 것까지는 되는데 next.js를 이용한 프론트에서 data를 받아오지 못하고 있어요... 왜 그럴까요? 디버그 메시지가 안뜨니 더 알기가 어렵네요. # backend/views.py """""" from django.shortcuts import render from django.http import HttpResponse from rest_framework.decorators import api_view, permission_classes from rest_framework.permissions import AllowAny from rest_framework.response import Response # Create your views here. @api_view(['GET']) @permission_classes([AllowAny]) def hello_world(request): return Response('Hello, World!') # frontend/index.js """""" import React, { useState, useEffect } from ""react""; // config.js export const BACKEND_URL = ""http://127.0.0.1:8000/""; const Home = () => { // State to store the data fetched from the backend const [data, setData] = useState(""""); // useEffect hook to fetch data from the backend when the component mounts useEffect(() => { // Fetch data from the backend API using the '/api/hello' endpoint fetch(""${BACKEND_URL}api/hello"") .then((response) => response.json()) .then((data) => setData(data)); }, []); // Render the component JSX return ( <div> <h1>Welcome to Fine-Tuning Chatbot!</h1> <p>{data}</p> </div> ); }; export default Home; """""" pure django-template를 이용해서 홈페이지 만들고 그 원리를 이해하는 것까지는 되는데 DRF는 정말 다른 세상이라고 느껴지네요...ㅎㅎ 좋은 강의나 책이 있으면 추천부탁드립니다. ㅠㅠ 위에 언급한 강의로 RESTful 배워보려는데, 기술스택이 많아서 그런건지 정보량도 많고 어렵네요 ㅠ"
4,next.js,Next.js 14 서버액션을 사용한 폼 데이터 처리 중 질문입니다.,"next.js 14의 서버액션을 사용해서 사용자로부터 form으로 데이터를 입력받아 DB에 저장하고 첨부파일을 서버에 업로드하는 모듈을 개발중입니다. 문제점은, 첨부파일을 input으로 입력받아 서버액션 함수로 formData로 넘겨주는데, 서버액션 함수에서 첨부파일의 파일명에 한글이 포함됐을 경우 파일명의 한글이 유니코드로 보이는 문자열로 찍히고 있습니다. // Form.jsx ""use client""; // [other code] export default function Form() { const [formState, formAction] = useFormState(inquiryAction, { success: undefined, message: """", }); const { register, handleSubmit, reset, formState: { errors }, } = useForm(); const onSubmit = (data) => { const formData = new FormData(); const jsonData = JSON.stringify(data); formData.append(""jsonData"", jsonData); data.attachment[0] && formData.append(""attachment"", data.attachment[0]); formAction(formData); }; return ( <form action={handleSubmit(onSubmit)}> // [other code] <FileInput label=""첨부파일"" {...register(""attachment"")} error={errors} resetTrigger={resetTrigger} /> // [other code] </form> ); } // inquiryAction.js ""use server""; import { connectDB } from ""./connectDB""; export async function inquiryAction(prevState, formData) { const fields = JSON.parse(formData.get(""jsonData"")); const attachment = formData.get(""attachment""); console.log(attachment); } Form 컴포넌트는 클라이언트 컴포넌트이고, react-hook-form과 next14의 서버액션을 사용하기 위해, form의 action에는 react-hook-form의 handleSubmit함수에 onSubmit 함수를 인자로 전달합니다. onSumbit 함수에서 서버액션 함수를 가져와 처리를 하고 있습니다. 그런데 여기서 서버함수쪽에서 첨부파일을 받을 때 한글 파일명이 다 깨지고 있네요... 기존에 api route와 fetch api를 사용했을 땐 문제가 없었는데.. 제가 놓치고 있는 부분이 있을까요?"
5,next.js,"마이크로 프론트 구현(Nextjs, React)","요구사항 마이크로 프론트엔드로 A라는 프로젝트에서 B라는 프로젝트의 컴포넌트를 사용하고 싶다 프로젝트 설명 ModuleFederationPlugin 사용해서 expose remote 설정 A 프로젝트 (remote) : react, styled-component 사용 B 프로젝트 (expose) : nextjs, scss 사용 첫번째 오류 styled 이 달라서 nextjs 에서 노드가 불러와지지 않는 것 해결 : <noscript id=""**next_css__DO_NOT_USE**""></noscript> → 두번째 오류 발생 오류 내용 Cannot read properties of null (reading 'parentNode') TypeError: Cannot read properties of null (reading 'parentNode') at options.insert (webpack- 두번째 오류 Nextjs 에서 expose 할 때 Page 컴포넌트에 있는 useState를 사용 못한다고함 해결 : peerDependencies 로 nextjs 추가 → 오류동일 오류 내용 TypeError: Cannot read properties of null (reading 'useState') at useState (react.development.js:1623:21) at Page (index.js:8:40) react-dom.development.js:18704 The above error occurred in the <Page> component: 참고 : https://dev.to/omher/building-react-app-with-module-federation-and-nextjsreact-1pkh 두번째 오류를 해결해야 되는데 가능한 방법인지 모르겠습니다. 아시는 분은 댁글 남겨주세요~(코드상에 보안상 문제되는 부분은 a b 로 바꿨습니다."
6,next.js,nextjs 초보 fetch & DELETE 동작이 안되요.,"app/api/list/[id]/route.js export async function DELETE(request, {params}) { const id = params.id; const {searchParams} = request.nextUrl; const sort = searchParams.get('sort'); return NextResponse.json({message: 'test', id, sort}); } 위처럼 되어있고, app/list/ListItem.js <button className=""blue""> <span onClick={() => { fetch('/api/list/' + post._id, { method: 'DELETE' }).then(() => { console.log('call delete'); }); }}>삭제</span> </button> 위 처럼 코드를 작성했는데, DELETE route가 실행이 되지 않습니다. 어떻게 해야 하나요?... POST의 경우에는 아래와 같은데 동작이 잘 되서요.. app/write/route.js export async function POST(request) { const data = await request.formData(); let body = Object.fromEntries(data); const db = (await connectDB).db('exam'); await db.collection('post').insertOne(body); return new Response('POST'); } app/write/page.js <form action=""/api/write"" method=""POST""> <input type=""text"" name=""title"" placeholder=""제목""/> <br/> <input type=""text"" name=""content"" placeholder=""내용""/> <button type=""submit"">NEW</button> </form>"
7,next.js,Nextjs App router 동작 방식이 이해가 안됩니다.,"https://nextjs.org/docs/app/building-your-application/rendering/client-components // 문서내용 Defining multiple use client entry points: You can define multiple ""use client"" entry points in your React Component tree. This allows you to split your application into multiple client bundles (or branches). However, ""use client"" doesn't need to be defined in every component that needs to be rendered on the client. Once you define the boundary, all child components and modules imported into it are considered part of the client bundle. => 클라이언트 컴포넌트의 하위 컴포넌트들은 자동으로 전부 클라이언트 컴포넌트가 됨(use-client 명시할 필요X) 으로 이해했습니다. 그런데 첨부한 코드의 동작방식이 이해가 안됩니다. 예상 1. TestComponent가 클라이언트 컴포넌트(CSR)이므로 내부에 있는 HotEventList도 클라이언트 단에서동작할 것이다. 2. TestComponent를 ‘use client’로 클라이언트 컴포넌트로 만들었다. HotEventList에서는 useState등 CSR에 필요한 요소를 추가하더라도 ‘use client’를 추가할필요가 없다. TestComponent하위에 있어서 자동으로 클라이언트 컴포넌트가 되기 때문이다. 실제 1. HotEventList는 여전히 SSR로 동작한다. 2. HotEventList에 state를 추가하면 ‘use client’를 명시하라는 에러가 발생한다. 제가 어떤 부분을 잘못 이해하고 있는걸까요?"
8,next.js,next js middleware redirect 질문 있습니다.,"안녕하세요, next js middleware를 사용해 로그인 사용별 화면을 분기하고 있습니다. 다름이 아니라 사용하면서 문제가 있어 이리저리 검색하다가 해결방법을 찾지 못해 글 남깁니다. 문제1. 브라우저 뒤로가기시 redirect대상 페이지면 title 미변경 문제. redirect된 페이지의 title이 아닌, redirect대상의 title이 적용되었습니다. redirect가 서버에서 브라우저에 요청하는 것이고 브라우저는 이를 실행은 하나 title은 변경되지 않았습니다. 2. 로그인후 뒤로가기를 계속 진행한후 브라우저 첫 페이지(구글)도달후 앞으로 가기를 하면 무한 리디렉션 문제가 발생. 해당 문제는 로그인후 메인 화면으로 넘어간 후 다시 뒤로가기를 반복하고 첫 페이지 도달시, 다시 앞으로 가기해서(예를 들어 로그인 페이지)면 미들웨어가 화면전환 도중에 리디렉션 요청이 많다고 에러를 발생 시킵니다. 아래는 제가 사용하는 코드를 첨부하겠습니다. 요약하자면 redirect하면 title 변경이 안됨. 뒤로가기후 다시 앞으로 가기하면 리디렉션 에러가 발생함. 만약 다른 방법이 있다면, 현업에선 어떻게 처리하는지 궁금합니다. export const verifyUser = (request: NextRequest, moveUrl: string) => { // const includesPage = ['/', '/auth/login', '/dashboard/customdashboard']; const accessToken = request.cookies.get('accessToken')?.value; const url = request.nextUrl.clone(); if (accessToken && isTokenExpired(accessToken)) { // 로그인 페이지 요청시 사용자 검증이 완료된 상태면 / 페이지로 강제 리다이렉트시킴. if (moveUrl === '/auth/login' || moveUrl.startsWith('/signup')) { url.pathname = '/'; return NextResponse.redirect(url); } return NextResponse.next(); } else { // 일반 페이지 요청시 사용자 검증이 미완료된 상태라면 로그인 페이지로 강제 리다이렉트시킴. if (moveUrl === '/auth/login' || moveUrl.startsWith('/signup')) { return NextResponse.next(); } removeLoginCookie(); url.pathname = '/auth/login'; return NextResponse.redirect(url); } };"
9,next.js,next.js 12version setting (npx create-next-app@12 my-next-app) 12버전이 설치되지 않는 이유,"현재 회사에서 사용하는 next.js 12버전으로 기술 학습을 하려합니다. 그러나 아래와 같은 에러가 계속 발생하는데요, error next@14.0.4: The engine ""node"" is incompatible with this module. Expected version "">=18.17.0"". Got ""16.14.2"" error Found incompatible module. info Visit https://yarnpkg.com/en/docs/cli/add for documentation about this command. 12버전으로 설치하려는데 자꾸 14버전이 설치가 되면서 node version 에러가 뜨고 있습니다.. 저는 node 16.14.2를 사용중이며, 사측도 동일하게 해당 버전을 사용중입니다. 초기 세팅과정에서 next.js 12버전으로 세팅이 안된다고 판단하고, next.js 12로 다운그레이드 하려면 14버전으로 설치 후에, 다운그레이드를 시도해보았으나 ""Detected next.config.js, no exported configuration found"" 터미널에 해당 에러가 발생되었습니다. 제가 너무 답답한 부분을 요약하겠습니다. 1. next.js 12버전 초기 세팅이 안된다고 판단. 이후 next.js 최신 14버전 설치 ➡️ 실행하면 잘 작동함. 2. 최신 14버전에서 12버전으로 버전을 낮추고 실행하면 next.config.js에서 문제가 발생함 혹시 최근에 next.js 12버전으로 초기세팅 되신 분이 계실까요..😢"
10,next.js,react next js 환경에서 뒤로가기 핸들링 이슈 (여러가지 시도함),"안녕하세요, react next js 환경에서 프로젝트를 구축하고 있습니다. 하지만 한 가지 문제가 발생했는데요, 제가 대시보드를 개발하면서 각각의 대시보드 메뉴를 구성했습니다(동적페이지). 그래서 각각의 페이지에서 대시보드 수정이 일어나면 뒤로가기 컨펌을 띄우고 취소를 하면 해당 페이지에 남게하려는 로직을 구상했습니다. 여기서 제가 직면한 문제점은 1. 동적 페이지는 브라우저 히스토리에 남지않아 뒤로가기 확인을 누르면 이전 대시보드(동적페이지)화면이 아닌, 일반 화면으로 넘어간다는점. 2. 뒤로가기 취소를 반복하면 url이 변경되지만 강제로 현재 페이지 url로 변경하여도, 다른 대시보드 동적페이지로 이동후 정상적인 뒤로가기를 시도했을경우 완전 엉뚱한 페이지를 가거나 url이 변경되어도 페이지 전환이 되지 않고 현재 페이지에 남는 문제점. 제가 원하는 기능 1. 각각의 동적페이지에서 뒤로가기를 하면 경고창을 알리고 정상적인 이전 동적페이지로 핸들링 되는것 2. 뒤로가기 취소를 반복하여도 브라우저 히스토리에 계속 이전 url이 쌓이지 않은것 만약에 방법이 없다면 차선책은 무엇일까요? 시도해본 코드 1. useEffect(() => { const handleBeforePopState = (state: any) => { window.history.replaceState(null, '', router.asPath); const isConfirmed = confirm('뒤로가시겠습니까?'); if (isConfirmed) { router.beforePopState(() => true); router.back(); } return false; }; router.beforePopState(handleBeforePopState); return () => { router.beforePopState(() => true); }; }, [router.asPath]); 2. useEffect(() => { const handleReload = (e: BeforeUnloadEvent) => { e.preventDefault(); e.returnValue = ''; }; window.addEventListener('beforeunload', handleReload); // window.addEventListener('popstate', handlePopstate); return () => { window.removeEventListener('beforeunload', handleReload); // window.removeEventListener('popstate', handlePopstate); }; }, [router.asPath]);"
11,next.js,NextJS에서 Component 호출 할 때 getServerSideProps 호출 방법이 있나요?,"JSTL 이나 Thymeleaf 하다가 NextJS 하려니 많이 해메고 있네요. @,@;;; 우선 시나리오는 ProductList.html 페이지에서 서버로부터 상품 목록 주욱 받아 화면 출력 하는 것 까지는 했어요. 이때 서버 목록은 getServerSideProps 함수에서 받아 처리 했구요. 이제 상품 이름 클릭 했을 때 상세 정보를 Layer 화면으로 띄우려는데 그게 잘 안되네요. Thymeleaf에선 해당 페이지만 빌드 돼 html 형태로 받아 올 수 있었는데 nextjs는 어떻게 해야 하는지 모르겠어요. // 상품 상세 내용 export default function ProductModalLayer({ product }:IProduct) { return (<div> {product.name}</div>); } export async function getServerSideProps(context: any) { // 서버 통신으로 product 상세 정보 전달 const data = ... 생략... return { props: { product: data, }, }; } ------ ProductList 부분에서 상품 이름을 클릭 했을 때 const ModalView = dynamic(() => import(""../ProductModal.layer"")); // 선언 ... // 화면 그리기 <ModalView seq={prod.productSeq}></ModalView> 이런 형식으로 호출 하니까 getServerSideProps를 호출 하지 않네요. 다른 방법으로 fetch를 이용해 호출 해 봤는데 const res = await fetch(""/ProductModal.layer?seq="" + seq); const content = await res.text(); 이렇게 하면 getServerSideProps를 호출 하지만 html Tag가 엄청 붙어 나오고 return 의 결과가 아닙니다. getServerSideProps를 고집 하는 이유는 서버 호출 인터페이스는 꼭 서버에서 이뤄지게 하고 싶어서에요. 브라우져 디버거로 노출 안되게 하고 싶어서. 힌트나 방법좀 부탁 드려요~ 다시 JSTL 이나 Thymeleaf로 돌아 갈 수 없어~~~~"
12,next.js,Next.js v13 React Essentials부분 질문입니다.,"[카테고리]App Router->React Essentials https://nextjs.org/docs/getting-started/react-essentials 1번문장 Client Components에서 ""Once ""use client"" is defined in a file, all other modules imported into it, including child components, are considered part of the client bundle.""라는 문장과 2번문장 Composing Client and Server Components에서 ""On the server, React renders all Server Components before sending the result to the client. This includes."" 1번문장과 2번문장이 모순된것처럼 느껴집니다. 1번문장을 ""use client""를 명시한 file에 import된 하위 자식컴포넌트 역시 Client Components로 간주된다고 이해했는데, 그럼 2번문장과 같이 클라이언트 컴포넌트하위에 있는 ""Server Components nested inside Client Components"" 역시 클라이언트 컴포넌트로 간주되어서 클라이언트 컴포넌트의 렌더링방식을 따라야하는 것 아닌가요??"
13,next.js,NextJS 폴더 구조 (pages 폴더 아래에 components),"안녕하세요, 회사 프로젝트 폴더 구조를 잡아야 하는데 궁금한 게 있습니다. (NextJS 버전은 12 사용 중) next.config.js에서 아래의 설정 후 pages 폴더 아래 components를 두는 구조를 사용하시는 분 계실까요? pageExtensions: ['page.tsx', 'page.ts', 'page.jsx', 'page.js'] https://nextjs.org/docs/pages/api-reference/next-config-js/pageExtensions 아래와 같은 구조가 괜찮다고 판단되어 사용하려고 하는데 어떨지 의견 좀 여쭤보고 싶습니다. - apps/ --- pages/ ----- Main/ ------- page.ts ------- component.ts ------- hook.ts ------- test.ts --- shared-components/ ------- Button.ts ------- Input.ts 기존에는 pages 폴더에는 index.js만 두고 components 폴더 아래에 모든 컴포넌트들을 두는 구조로 사용 중인데, 프로젝트의 페이지가 많아지면서 특정 페이지에서만 사용하는 독립적인 컴포넌트들이 많아지다 보니 components 폴더에 있는 파일들이 구분이 잘 안됩니다. 어떤 페이지에서 사용하는 컴포넌트인지, 재사용 가능한 컴포넌트인지 명확한 구분이 어려워서 위와 같은 구조를 고민해보았는데 혹시 실제 비슷하게라도 사용 중인 곳이 있는지 궁금합니다. components 폴더 아래 page 별로 구분할 수도 있지만, 독립적인 컴포넌트는 page.ts와 같이 있는 게 조금 더 유지보수면에서 편할 것 같아 고민해보았습니다. 더 좋은 의견이 있다면 환영입니다. 어떤 폴더 구조를 사용하고 계시는지, 추천할만한 구조가 있다면 꼭 의견 부탁드리겠습니다!"
14,next.js,Nextjs async 서버컴포넌트 질문있습니다.,"// page.tsx import WeatherList from ""@/components/containers/main/WeatherList""; export default function Home({ searchParams, }: { searchParams: { country: string }; }) { const country = searchParams.country ? searchParams.country : ""kr""; return ( <> <WeatherList country={country} /> </> ); } // server component export default async function WeatherList({ country }: { country: string }) { const res = await fetch( `http://localhost:3000/api/cityList?country=${country}` ); const cityList = await res.json(); return ( ... ); } 'WeatherList' cannot be used as a JSX component. page.tsx 에서 WeatherList 컴포넌트부분에 위와같은 에러가 뜹니다.. @types/react 를 18.2.8 버전으로 바꿔줘도 해결이안되는데 저와 같은분 계실까요?"
15,next.js,next.js 특정 페이지에 컴포넌트 미출력 기능 구현 이슈(use client 사용),"로그인페이지(/user-page)에서 footer컴포넌트를 안띄우는 기능을 구현하고 싶어 footer 컴포넌트를 csr 방식으로 사용하도록 'use client' 줬습니다. 근데 error ReferenceError: window is not defined 라는 에러가 뜨면서 적용이 안되네요ㅠㅠ nextjs는 ssr이니까 window에 접근하기 위해선 'use client'를 주면 된다고 들었는데 왜 안되는걸까요?? 찾아보니까 useEffect 쓰라해서 useEffect도 써봤는데 에러가 뜨진않지만 여전히 적용안되더라구요. 문제점 알려주시면 감사하겠습니다ㅠㅠㅠ <footer.tsx 파일> 'use client' import React, { useEffect } from 'react' import style from '../styles/footer.module.scss' const Footer = () => {     if (window.location.pathname === '/user-page') return null return ( -생략- ) } <루트 layout.tsx 파일> 'use client' export default function RootLayout({     children, }: {     children: React.ReactNode }) {   return (         <html lang=""ko"">             <body className={inter.className}>                 <div className=""wrap bg-white"">                     <Header />                     {children}                     <Footer />               </div>             </body>         </html>     ) }"
16,next.js,Next.js 코드 가독성..,"안녕하세요 프론트앤드 1년차에 다가가고 있는 신입 개발자입니다. 현재 Next14를 사용하고 있으며 코드의 가독성, 효율성을 많이 고려하면서 코드를 짜려고하는데 너무 고민이 되네요 저보다 앞서서 달려가고 있는 개발자 선배님의 생각을 듣고싶습니다 ㅠㅠ... 2가지가 궁금합니다. 먼저 첫번째 이미지처럼 Version에 관련된 파일을 저렇게 분리했을 때 저는 Version의 최상위 Layout.tsx에서 모든 것을 선언하기가.. 너무 오히려 가독성이 안좋다고 생각을 하고 있습니다 즉, 변수나 함수를 모두 최상위 Layout.tsx에서 선언 및 정의를 해두고 props로 내려주는게 이상하다고 생각을 합니다. 변수, 함수, useEffect 모두 직접 해당 변수나 함수를 컨트롤하는 부분에서 선언 및 가공을 하는게 맞다고 생각을 합니다. 최상위 Layout.tsx가 너무 무거우면 오히려 나는 VersionDataTable에 관련된 변수나 함수만 보려고 하였으나 최상위 Layout.tsx를 보고 아 이게 VersionDataTable에 필요하구나 뭐가 필요없구나, useEffect의 의존성 배열까지 고려하는것이 불필요하다고 생각을 하고 있습니다.. 근데 같이 프론트 앤드 개발하시는 분께서는 '단기적으로 절대 코드가 변하지 않는다고 생각하면 그 말씀이 맞는데 그건 아니잖아요? 우리는 계속 유지보수를 할거고 그러면 결과적으로 A에서만 사용하던 변수나 함수들을 A,B,C에서 같이 사용할 수 있게 변경하게 되면 그때 변경하면 유지보수 측면에서 너무 안좋습니다. 최상위에 모두 선언이나 정의를 해두고 props로 내려주는게 맞다 이런 형식으로 코드를 작성하면 몇개월 뒤에 코드를 수정할 때 A가서 수정했다가 C가서 수정했다가 D가서 수정하실 거에요? 바로 알아보실 수 있겠어요?' 라고 말씀을 하시더라구요.. 물론 몇개월 뒤에 코드를 보거나 하면 제가 작성한 코드인데도 저는 헷갈리는 경우가 많습니다. 그러나 최상위에 모두 선언 및 정의해둬도 마찬가지 아닌가..? 유지보수 측면에서 뭐가 안좋은거지..? 라고 생각되게 됩니다.. 선배님의 말씀을 따라가고는 싶은데 이해가 안돼서요 제가 아직 기본기가 많이 부족한 상황이라 이 상황에서 말씀드리면 이론부터 말하며 설득시키기가 부족하다고 생각하기 때문에 말씀드리면 오히려 '저는 이렇게 생각해요 틀렸는데요?' 라고 말하는 것 같아 말다툼이 될 것 같습니다. 2. 밑 사진을 보면 modalTemplate라는 폴더, ConfirmTemplate이라는 폴더가 존재하는데요 이것에 대해서 저는 사용하는 용도에 따라서 Create면 Create Create와 Update를 동시에 할 수 있는거면 BundleCreateAndUpdate 이런 형식으로 각각의 파일을 생성을 하고 문법상 공유되는 부분은 중복이 되어서 실제로 보여주는 부분을 영역으로 나눠서 BasicOptions, SelectList, VersionDetail, VersionOptions로 나누고 각각의 파일에서 사용하는 부분만 불러와서 쓰는 형식으로 코드를 작성했습니다. 그러나 이렇게 용도에 따라 구분하지 않고 최상위 Layout.tsx파일 하나만 만들고 ModalType이라는 props를 받아서 ModalType이 create, update, create&update, delete ... 등 JSX에서 삼항 연산자를 써서 처리를 할수도 있습니다. 저는 ModalType으로 처음에 구분하다보니 나는 'create' 속성일 때 어떤 형식으로 되는지 코드로 보고싶은데.. 그러면 너무 뜯어서 봐야하더라구요 그래서 용도에 맞게 파일을 만들고 거기서 form을 불러오기만해서 중복 코드를 줄이는 방식을 택했습니다.. (더 나은 코드라고 생각했습니다.) 그랬지만 선배님께서 'ModalType으로 나누는게 더 좋아요 저렇게 지으면 가독성이 너무 떨어지고 파일의 이름이 너무 길어지잖아요 이상하지 않나요?' 라고 말씀을 하시더라구요... 물론 가독성은 사람마다 다른거 알고있습니다. 그러나 ModalType으로 나누기 시작하면 한도 끝도없이 나누고 ModalType이 delete일 때만 사용하는 함수, create일 때만 사용하는 함수 등 필요없는 함수도 너무 많아져서 용도에 맞게 파일을 구분하고 거기서 중복 코드만 최대한 줄이자! 라고 생각하여 코드를 작성했는데 이 내용도 말씀드려 봤지만 '가독성' 이라는 이유 하나만으로 너무 안좋다고 합니다.. 진짜 안좋은건가요..? Next 도 그렇고 프론트 앤드 너무 어렵습니다.."
17,next.js,nextjs styled-component ssr 에러,"모든 분들이 격어보셨을 에러에 대해 해결이 되지 않아 질문 드려봅니다. 아래 참고를 통해 nextjs ssr에서 styled-component가 적용되게 시도했습니다 (현재 app router 방식을 사용하고 있습니다) 하지만 동일하게 했을 때 여전히 아래와 같은 오류가 떴습니다. babel, swc 둘 다 시도 했을 때 동일 했고 혹시 제가 놓지고 있는 부분이 있을까요? 4번까지 진행했습니다. nextjs styled-component typescript 오류 : Error: createContext only works in Client Components. Add the ""use client"" directive at the top of the file to use it. Read more: https://nextjs.org/docs/messages/context-in-server-component 참고 : https://dev.to/rashidshamloo/using-styled-components-with-nextjs-v13-typescript-2l6m#5"
18,next.js,Next.js API 에서 쿠키를 접근할수 있는 방법이 궁금합니,"안녕하세요 nexst.js 쓰고 있는 주니어 프런트엔드 개발자입니다 DB API에 접근하기 위해 next에서도 API를 구성했는데 쿠키에 저장되있는 토큰값을 가져오질 못하고 있네요 방법 알려주시면 감사하겠습니다 아래 파일은 src/pages/api 에 존재합니다 const getOrder = async (token, order_no) => { return await fetch(`${process.env.NEXT_PUBLIC_API_HOST}/front/order/${order_no}`, { headers: { Authorization: `Bearer ${token}`, Accept: ""application/json"" } }).then(res => res.json()).then(data => data) } export default async function handler(req, res) { const { order_no } = req.query const token = ""쿠키에 어떻게 접근해야 하나요???"" const order = await getOrder(token, order_no) try { res.status(200).json({ ...order }) } catch (err) { res.status(200).json({ err }) } }"
19,next.js,Type error: Property 'session' does not exist on type '{}' (nextjs auth google 연동),"next-auth 라이브러리를 사용해서 구글 로그인을 구현하고있는데 에러가 발생합니다. https://dantechblog.gatsbyjs.io/posts/next-auth/ 이 글을 따라서 연동중이고 import type { AppProps } from ""next/app""; import {SessionProvider} from 'next-auth/react'; const App = ({Component, pageProps}:AppProps) => { return ( <SessionProvider session={pageProps.session}> <Component {...pageProps} /> </SessionProvider> ); } export default App; 위와 같이 작성한 코드에서 pageProps가 session 타입을 가지고 있지 않다고 에러가 나옵니다.. (Type error: Property 'session' does not exist on type '{}' ) 혹시 next-auth로 구글 연동하신 분들 같은 이슈 해결해본적 있으신가요??"
20,next.js,micro repo 세팅하면서 격은 문제(같은 문제 격는 분들 댁글),"이번 프로젝트에서 하나의 레포지토리에서 client, server, admin, common 4가지 패키지를 만들었습니다. client, server, admin은 common을 의존하도록 모노레포로 만들었고, client는 admin을 의존할 수 있게 micro로 만들었습니다. 간단한 패키지 설명: - client: 메뉴 헤더 등 구현, 페이지는 admin을 remote 해서 사용, React로 구현 - admin: 페이지에 나오는 콘텐츠의 전반적인 부분이 컴포넌트로 되어있음, React로 구현 - server: Node.js로 되어있고 실제 Spring 서버에서 준 데이터를 포맷하는 형태 - common: 공통 컴포넌트, 라벨 등 문제1: 다른 프로젝트에서 expose 되어있는 Next.js 프로젝트(scss로 스타일 구현)를 client에서 사용할 때 의존성 관련 오류가 생깁니다. client의 package.json에서 peerDependencies로 next를 설정해줘야 하는지, 양쪽 패키지(다른 프로젝트와 client)에서 Next.js와 React를 share 설정을 해야 되는지 잘 모르겠습니다. 여러 방법으로 시도는 해봤지만 의존성 오류나 Next.js에서 훅을 사용 못하는 오류 때문에 해결하지 못하고 있습니다. 문제2: 빌드 최적화를 위해 트리쉐이킹이나 코드 스플리팅을 해야 합니다. 웹팩에서 아래와 같이 코드 스플리팅을 하면 청크 파일 이름이 겹치기 때문에 filename을 해시값으로 설정해야 합니다. 여기서 문제가 생기는데, micro의 client처럼 remote 하는 부분에서 remote.js, app.js 청크가 필요하기 때문에 이름이 해시값으로 바뀌면 해당 청크를 찾을 수 없습니다. 또한 ModuleFederationPlugin이 빌드 시 자동으로 코드 스플리팅을 해준다는 이야기도 있는데, 이 부분은 정확하지 않습니다. 저와 같은 문제를 격고 있거나 해결하신 분들 같이 나눴으면 합니다."
21,next.js,Next.js App router + recoil 적용 방법에 질문이있습니다.,next.js 에 recoil 을 적용하려하니 RecoilRoot 컴포넌트로 감싸줘야하는 부분에서 어려움이 생겼습니다. RecoilRoot 는 react.createContext를 쓰기에 클라이언트 컴포넌트에서 사용해야 한다는 것인데 이를 위해 RecoilRoot만을 return 하는 클라이언트 컴포넌트를 만들고 root layout 에서 불러와 그것으로 children을 감싸주면 된다는 것이였습니다. https://velog.io/@pakxe/Next.js-Recoil%EC%9D%84-Next.js-%EC%97%90%EC%84%9C-%EC%82%AC%EC%9A%A9%ED%95%98%EB%8A%94-%EB%B0%A9%EB%B2%95%EC%97%90-%EB%8C%80%ED%95%9C-%EA%B3%A0%EC%B0%B0%EA%B3%BC-children-prop-pattern 위 블로그의 마지막 하단을 보면 ``` // ./app/layout.tsx // 보이는 코드 <RecoilRoot> {children} </RecoilRoot> // 실제 코드 <RecoilRoot children={<Home/>}/> ``` 처럼 동작하기에 RecoilRoot 클라이언트 컴포넌트 하위에 서버 컴포넌트 들이 들어가는게 아니라 RecoilRoot 와 chilren 이 같은 부모를 두고 서로 부모자식 관계가 아니니 클라이언트 컴포넌트 하위에 서버 컴포넌트가 들어가는 것이 아니다 라고 하는데 이 부분이 이해하기 어려워서요... 실제코드 부분을 보면 RecolRoot 가 children 이라는 컴포넌트를 파라미터로 받기에 파라미터로 받는 과정에서 이미 렌더링이 되어 넘어가기에 Recoil Root는 서버 컴포넌트인 children이 렌더링된 상태에서 파라미터로 받아 서버 컴포넌트가 클라이언트 컴포넌트 하위에서 렌더링 되는 것이 아니다.. 가 맞는 것인지 궁금합니다.
22,next.js,nextjs에서 랜더링 시점 바꾸기,"안녕하세요! nextjs 프로젝트 진행중에 궁금증이 생겼습니다. 현재 Sidebar 컴포넌트에서 카카오맵이 불러와져야 작업을 할 수 있는 상태입니다. 카카오 맵은 children 에서 랜더링되기 때문에 아래와 같이 코드작성시, Sidebar 랜더링 시점에 kakao is not defined 라는 오류가 뜹니다. 혹시 Sidebar를 좀 늦게 랜더링 할 수 있을까요? export default function RootLayout({ children, }: { children: React.ReactNode; }) { return ( <html lang=""en""> <body className={inter.className}> <div id=""login-modal"" /> <section className=""flex h-screen""> <nav className="" h-full bg-slate-100""> <Sidebar /> </nav> {children} </section> </body> <Script src={`//dapi.kakao.com/v2/maps/sdk.js?appkey=${APIKEY}&libraries=services,clusterer`} strategy=""beforeInteractive"" /> </html> ); }"
23,next.js,Next.js의 Suspense VS dynamic,"https://nextjs.org/docs/app/building-your-application/optimizing/lazy-loading#nextdynamic Lazy Loading을 사용하기 위해서 Next.js에서는 2가지의 방법을 제공하고있습니다. 1. dynamic 2. React.lazy + Suspense 또한, Next 의 Streaming 관련글을 읽다 보니 https://nextjs.org/docs/app/building-your-application/routing/loading-ui-and-streaming#example 예제에서는 Suspense를 사용한 예제를 보여주는데 위의 예제에서는 dynamic을 사용하지 않고 Suspense를 사용한 이유가 궁금합니다. 처음 링크된 글을 읽었을때는 dynamic 함수가 React.lazy + suspense를 구현함 과 동시에 여러 옵션들을 제공하고 있어서 dynamic 함수가 더 좋다(?) 라고 생각을 하게 되었는데, dynamic과 suspense의 정확한 차이점이 궁금합니다."
24,next.js,next.js getServerSideProps 관련해서 질문드립니다.,"1. getServersideProps(serverless function)는 동적인 컨텐츠를 제공해야하기 때문에 정적인 콘텐츠를 전달해주는 cdn를 거칠 수 없다고 알고 있습니다. 그래서 vercel origin 서버까지 통신을 거쳐서 콘텐츠를 전달 받기 때문에 TTFB가 느릴 것 같다고 생각했는데 여기까지 맞는 생각인가요? 2. next.js v13에서 edge(cdn)에서 동적인 콘텐츠를 받아올 수 있게 하기 위해 세그먼트 런타임 옵션(https://beta.nextjs.org/docs/rendering/edge-and-nodejs-runtimes#segment-runtime-option)을 통해 nodejs 대신 edge runtime으로 설정해주면 serverless function이 edge function이 되는건가요? 3. 커리어리 홈화면을 보니 getServersideProps를 사용하고 있고 pre-rendering는 간단한 골격만 하고 pre-fetch는 안해주고 있는것 같은데, 새로고침 했을때 TTFB를 300ms 정도로 유지할 수 있는건지가 궁금합니다! 저는 프로젝트 규모가 크지않은데도 불구하고 가끔씩 새로고침을 하면 TTFB가 1초이상 걸릴 때도 있거든요.. 어떻게 적용했는지 알려주신다면 큰 도움이 될 것 같습니다! 🙇🏻‍♂️"
25,next.js,Next.js 서버 컴포넌트와 클라이언트 컴포넌트 관련 질문입니다.,"입사한지 얼마 안된 신입 프론트엔드 개발자입니다. 회사에서 Next.js를 사용하게 되어 개념을 공부중입니다. Next.js 12까지 사용되던 SSR과 CSR, SSG의 개념은 문서를 뒤져가며 어느정도 이해했다고 생각합니다. 하지만 이번에 Next.js 13 app dir에서 사용되는 서버 컴포넌트(RSC)와 클라이언트 컴포넌트의 개념을 구글링을 통해 며칠동안 알아봐도 이해가 안가는 부분이 많아 겉핥기식으로만 이해가 갑니다. 제가 앞으로 해야할 분야인데 아무리 문서랑 검색을 통해 정보를 찾아봐도 제대로 이해가 가지않아 질문 올려봅니다. 1. 서버 컴포넌트는 서버에서 렌더링이 된다고 이해했는데, 그렇다면 서버 컴포넌트는 db에 직접 접근할 수 있다는 점 외에 SSR과 어떤 차이점이 있는건가요? 2. Next.js13 app dir는 use client를 사용하지 않은 모든 페이지가 서버 컴포넌트라고 알고있는데, 그렇다면 기존 Next.js12에서 지원하던 SSG은 더이상 Next.js13에서 지원하지 않는 건가요? 아니면 서버 컴포넌트랑 SSG는 공존할 수 있는 개념인가요? 3. 기존 Next.js 12에서는 데이터를 fetching해오지 않는 정적인 페이지는 기본적으로 SSG로 작동한다고 알고있습니다. 그렇다면 Next.js 13에서는 기본적으로 모든 컴포넌트가 서버 컴포넌트이니 데이터를 fetching하지 않는 페이지도 서버에서 렌더링이 되는건가요? 4. 클라이언트 컴포넌트에서 서버 컴포넌트를 import해 사용할 수 없다는데.. 저는 잘만 됩니다. 여기서 서버 컴포넌트는 클라이언트 컴포넌트가 된 건가요? 5. 서버 컴포넌트도 SSR처럼 브라우저에서 해당 페이지를 접속했을 때 렌더링이 되고 클라이언트에 내려오나요? 아직 Next.js 이해도가 낮아 질문이 이상할 수 있습니다. 양해 부탁드립니다. 이게 이해가 안가서 스트레스를 너무 받고있네요.. 도와주세요"
26,next.js,Next.js의 dynamic import를 이용한 Ref 전달,"현재 next.js 13버전과 toast ui calendar를 사용해서 프로젝트를 진행하고있습니다. toast ui calendar는 서버사이드에서는 렌더링이 되지 않기 때문에 dynamic 함수를 사용해서 import를 했습니다. dynamic 함수를 사용해서 import한 component에 ref를 넘기는 방법이 궁금합니다! https://careerly.co.kr/qnas/2078 위의 질문글을 보고 현재 아래 코드와 같이 작성을했는데 이렇게 작성을 하게된다면 결국 TuiCalendar라는 컴포넌트에는 ref={ref}, forwardRef를 사용해서 넘기는것이 아닌 forwardedRef라는 props로 ref를 넘기는형태가 되는건데 dynamic 함수를 사용해서 받아온 컴포넌트에 ref를 넘기는것은 이방법밖에 없을까요? 또한 ""use client"" import { useRef } from ""react""; import Child from ""./child""; export default function Parent (props : any) { const testRef = useRef(3) return ( <> <button onClick={() => console.log(testRef.current)}>버튼</button> <Child testRef={testRef} /> </> ) } 이것과 같이 ref를 그냥 props로 넘기는것과 ref + forwardRef 로넘기는 것의 차이점을 알고싶습니다!"
27,next.js,next js 프로젝트 mfa 구축 질문.,"안녕하세요, next js프로젝트로 mfa를 구축중입니다. 모노레프 기반으로 구축중인데요, 타입스크립트를 적용하기 위해서 @module-federation/typescript 모듈설치후 next.config설정을 했는데, 아래와 같은 에러로그가 발생하면서 @mf-types폴더가 자동으로 생성되지않고있습니다.. 덕분에 리모트 파일은 타입에러를 뱉고 있는 상황이구요, 혹시 next js프로젝트로 mfa구축하신분들중 저와같은 사례가 있으신분 계신가요? 에러 내용 [1] <e> [FederatedTypesPlugin] Unable to download 'container' remote types index file: timeout of 3000ms exceeded [1] <e> [FederatedTypesPlugin] Unable to download types from remote 'container'"
28,next.js,Nextjs 에서 부분적으로 FOUC 가 발생하는 것 같습니다.,"안녕하세요. 오늘도 Next의 심오함에 허우적대고 있는 주니어 프론트엔더 입니다. Next 에서 디자인관련 프레임워크와 라이브러리로 Ant-Design 과 Styled-components를 선택하여 프로젝트를 진행하는 중입니다. 그리고 방식은 기본 Antd의 컴포넌트를 import 하여 필요 부분만 Styled-components로 덮어 커스텀하는 방안으로 택하였습니다. 이전에 Next는 기본적으로 서버에서 html을 생성하려는 경향이 있기에 css-in-js는 가끔가다 hydrating 과정으로 인해 스타일이 적용되지 않는 부분만 먼저 보여진다고 들었습니다. 그래서 현재 next 13을 사용하고 있어 (app routing 방식이 아닌 구 버전인 pages routing 방식을 사용하고 있습니다.) next.config.js에서 styled-components를 인식하게 도와주는 설정 코드를 작성하였습니다. - 해당 설정은 최하단에 첨부하였습니다. 문제는 FOUC 관련 이슈가 일부 컴포넌트에만 나타납니다. Button컴포넌트와 Input컴포넌트를 위와 같은 스타일 방식으로 제작을 하였는데, 페이지가 리프레쉬가 되면 Button 컴포넌트는 기존 styled-components의 커스텀을 유지하지만, Input 컴포넌트는 styled-comopents의 커스텀을 입히기 전의 Ant-Design의 기본 디자인으로 렌더링되는 문제가 발생하였습니다. 그래서 제가 진행했던 FOUC 관련 설정에 문제가 있는지 궁금하여 질문을 드리려고 합니다!"
29,next.js,Next.js 12버전으로 프로젝트 시작하기?,npx create-next-app 로 프로젝트를 시작하면 next.js 13버전으로 시작이 되더라구요!! 아직 13버전은 확실한 커뮤니티가 없어서 12 버전으로 프로젝트를 만들고 싶은데 12버전으로 설치하는 게 없더라구요! 구글링과 스택오버 플로우를 뒤져본 결과 npx create-next-app@12 cd my-new-app npm i next@12 이런식으로 하라고 해서 해봤는데 12버전으로 다운되진 않았습니다... npx말고 관련 모듈들을 직접 설치를 해야 하는 걸까요? 찾아본 관련 링크들입니다. 1. https://stackoverflow.com/questions/75470624/how-to-create-next-app-using-version-12-instead-of-version-13 2. https://github.com/vercel/next.js/discussions/35794
30,next.js,Next js에서의 CSS,"안녕하세요 . 현재 Nextjs랑 global.scss(_app.tsx 에 물려있는)로만 프로젝트가 이루어져있는데, 페이지랑, 컴포넌트의 개수가 많아지다보니, 페이지별 또는 컴포넌트별 또는 아예 파일별로 css파일을 분리하려고 합니다. Next js 에서 파일별로 css를 다루기 위해서는, 여러가지 방법 중. index.moduel.css 파일을 생성 . header { // 스타일작성 } index.tsx에서 ""import styles from ""./index.moduel.css"" //임포트 <div className={styles.header}>hello</div> //스타일적용 이런식으로 사용하는것으로 알고 있습니다. 궁금한것이, 이런식으로 classname을 자체적으로 생성해주면서 , 스타일을 적용하는 방식의 경우에는 document.getElementByClassName 식의 접근은 불가한데, 1. 이를 id나 name으로 대체하고 사용하는 것인지요 ? 2. Next js에서의 파일별로 CSS를 작성하고 싶을때 어떤 것을 사용하고 계신지요?(CSS,SCSS,tailwind,styled component,,,) 두서없이 적은 글 죄송합니다. 도움 주시면 감사하겠습니다."
31,next.js,data fetching은 어디서 하는 게 좋은 것일까요?,"안녕하세요. 저는 프론트엔드 개발자가 되기 위해 공부중인 취준생입니다. 피드백을 적극 환영하기에 많은 피드백 혹은 의견을 많이 남겨주시면 감사하겠습니다. 저는 데이터 페칭을 어디서 하는 게 좋을지 고민 중이라 글을 남깁니다. 아래와 같이 3개로 글을 구성해봤습니다. 1. 현재 개발상황 2. 현재 저의 데이터 페칭 위치 3. 궁금한 점 1. 현재 개발상황 저는 개인 프로젝트로 Next.js와 React Query를 사용하여 개발하고 있습니다. 현재 Next.js의 App Router를 사용 중이며, 프로젝트 구조는 아래와 같습니다. app: page.tsx, layout.tsx components: 최소 2번 반복 사용되는 재사용 가능한 컴포넌트 container: 일반적인 컴포넌트 (조합 등) hook, service 등 2. 현재 저의 데이터 페칭 위치 현재 데이터 페칭은 최상단의 app -> page.tsx에서 수행하고 있으며, 자식 컴포넌트에는 데이터를 props로 전달하고 있습니다. 이러한 이유는 prop drilling이 발생하더라도 데이터 페칭을 한 곳에서 처리하면 코드 이해가 쉬울 것 같아서입니다. 현재로서는 전역 상태 라이브러리를 사용하지 않아 최대 4단계까지 prop drilling이 발생하고 있지만, 전역 상태 라이브러리를 도입하면 prop drilling 문제는 해결될 것으로 생각하고 있습니다. 추가적으로 현재 이렇게 구현하면서 data fetch할때 필요한 query값들도 최상단에서 관리해야하는 불편함이 있었습니다. -> 최상단에서 관리해야 하는 상태값이 늘어남 3. 궁금한 점 3-1. 아래의 2가지 data fetching 방법 중 어느것이 적절한지? 합리적인지 의견이 궁금합니다. - 최상단에서 Fetching - 장점 : 한 곳에서 Fetching하기에 코드 일관성, 가독성, 코드를 이해하는데 좋다고 생각 - 단점 : prop drilling, 추가적인 전역 상태 관리 해야한다고 생각 - 필요한 컴포넌트에서 Fetching - 장점 : 필요한 컴포넌트에서 fetching 하기에 prop driling과 같은 불필요한 코드 작성 할 필요 x - 단점 : 어떤 컴포넌트에서 fetching 했는지 파악하기 힘들어짐 3-2. 현재 최상단에서 모든 데이터 페칭을 하고 props로 전달하는 방식 vs 필요한 컴포넌트에서 데이터 페칭을 하는 두 가지 방식 중 어느 것이 더 많이 사용되는 패턴인지 궁금합니다. 3-3. React Query는 서버 상태 관리, 캐싱, Optimistic Update와 같은 기능을 위해 도입했습니다. 그러나 prop drilling을 해결하기 위해 React Query에서 가져온 서버 데이터를 전역 상태 라이브러리에 담게 되면 서버와 클라이언트 상태를 구분하는 의미가 없어지는 것 같다는 생각이 듭니다. 제가 잘못 사용하고 있는것인지 궁금합니다."
32,next.js,로그인 구현 관련 질문 subdomain.com,"안녕하세요 슬랙처럼 로그인을 하면 워크스페이스 리스트가 나오고 해당 워크스페이스를 클릭하면 해당 워크 스페이스로 로그인이 되는 페이지를 구현하려 하는데요. Next.js를 사용중이고 iron-session 라이브러리 통해서 세션을 저장하고 있습니다. ex) app.oursite.com <- 통합 로그인 페이지 워크스페이스 클릭하면 해당 워크스페이스 로그인을 하고 세션을 저장해서 워크 스페이스 사이트로 redirect 시키려 하는데, const session = await getIronSession<Session>(cookies(), { cookieName: 'cookie', password: IRON_SESSION_SECRET_KEY, cookieOptions: { secure: false, // 로컬 테스트에서는 false, 실제 배포에서는 true로 설정 sameSite: 'Lax', // sameSite 옵션을 Lax로 설정 domain: 'localhost', // 로컬 테스트 시 domain 설정을 제거하거나 localhost로 설정 path: '/', }, }); {workspace1}.ourstie.com {workspace2}.ourstie.com 세션 저장이랑 redirect 처리했을때 세션 저장하고 해당 페이지 확인은 하였는데 해당 페이지에서 로그인 인증은 제대로 되지 않고 있습니다. 로그인 페이지로 이동되더라고요 로그인이 안되는 원인으로 짐작가는게 있으면 알려주시면 감사하겠습니다"
33,next.js,Next.js에서 코드 스플리팅을 적용할 예정인데 궁금한 점이 있습니다.,"Next.js에서 제공해주는 dynamic을 사용해서 스플리팅을 할 건데 어떤 경우에 옵션을 사용하면 좋을 까요?? ProjectCardContainer에는 react-query로 api를 비동기적으로 호출받고 있습니다. const ProjectCardContainer = dynamic( () => import('@/components/container/ProjectCardContainer') ); 위의 부분처럼 받아오거나 const ProjectCardContainer = dynamic( () => import('@/components/container/ProjectCardContainer'), { ssr: false, } ); 그리고 위의 ssr을 해체하는 경우 ssr을 해체하는 경우에는 공식문서에서 window나 외부 API같은 작업을 할 때 사용한다 하는데 여기서 말하는 외부 API가 서버에서 가져오는 API가 맞나요??"
34,next.js,이력서에 첨삭할 진행했던 프로젝트들 내용을 보다 더 잘 적고 싶어요.,"이력서에 첨삭할 지금까지 진행했던 프로젝트들 내용을 적고 있는데 한눈에 보기 쉽게 큰 범주로 적기에는 너무 포괄적으로 적는것 같고 개발한 기능들을 세부적으로 적거나 해당 프로젝트 진행 후 낸 성과들을 다 나열하면 내용이 너무 길어지는것 같아서 어느정도로 구체화해서 적어야될지 헷갈려서 조언을 구해 봅니다. 아래는 지금 작성된 내용입니다. 현재는 프로젝트별로 포괄적으로 적거나 좀 더 디테일하게 적거나 기준점을 못찾은 상황입니다. [ 2022. 12 ~ 2022. 01 • 프로젝트 명 : 집 클릭 • 주요 설명 : 전세임대 지원 사이트로 권리분석을 의뢰할 수 있는 사이트 • 담당 업무 : 자사 서비스 웹 크롤링 기능 개발 -puppeteer 사용 등기부등본 발급 자동화 웹 크롤링 작업 • 기술 스택 : Node.js 2023. 06 ~ 2023. 07 • 프로젝트 명 : 브릭 인프라 • 주요 설명 : 자사 서비스 종합 관리 사이트 • 담당 업무 : 자사 어드민 프론트엔드 개발 • 기술 스택 : React 2023. 08 ~ 2024. 06 • 프로젝트 명 : 키오 솔루션 • 주요 설명 : QR 주문 결제로 보다 편리한 결제 시스템을 이용할 수 있는  솔루션 • 담당 업무 : 자사 솔루션 ""키오"" 활용 서비스 개발 및 운영 유지 보수 - 메뉴형 결제 서비스 ""키오브릭"" 프론트엔드 유지 보수 - 금액입력형 결제 서비스 ""스마트 노점"" 프론트엔드 개발 및 - 해당 서비스 관련 어드민 풀스택 유지 보수 - 자사 어드민 풀스택 유지 보수 • 기술 스택 : React, GraphQL, Node.js, MySQL 2023. 09 ~ 2024. 06 • 프로젝트 명 : 오늘 우리 가게 • 주요 설명 : 자영업자 대상 매출, 리뷰, 주문 현황, 광고 현황 분석 앱 • 담당 업무 : 자사 서비스 오늘 우리 가게 기능 개발 및 운영 유지 보수 - React Native 앱 메인 화면 개발 - 전체 React Native 앱 기반 프로젝트 WebView 기반 프로젝트로 전환 작업 진행 - 리뉴얼 된 WebView 구성 화면 프론트엔드 개발 - 우리 가게 리뷰 듣기 TTS 하이브리드 기능 개발 - 네이버 클라우드 이용 카카오 알림톡 서비스 벡앤드 유지 보수 - 앱 테스트 및 배포, CodePush 작업 진행 • 기술 스택 : React Native, MobX, React, Redux, TypeScript, Next.js, Node.js, MySQL 2023. 11 ~ 2024. 02 • 프로젝트 명 : 빌딩 CAS • 주요 설명 : 건물 내 입주사들을 위한 공지, 관리비 결제 및 장터 커뮤니티 기능을 제공하는 앱 • 담당 업무 : 외주 서비스 빌딩 CAS 프론트엔드 및 앱 개발 - WebView 기반 프로젝트 초기 환경 구축 및 아키텍처 설계 - React Native 앱 메인 화면 개발 - WebView 주요 기능 프론트엔드 개발(소셜로그인, 회원 정보 관리, 관리비 결제, 문의하기, 중고장터 게시판) - 앱 테스트 및 배포, CodePush 작업 진행 • 기술 스택 : React Native, React, MobX, Node.js, PostgreSQL *** 포트폴리오 링크를 통해 더 자세한 내용을 확인 하실 수 있습니다. ]"
35,next.js,next.js CSS라이브러리 선택,"안녕하세요. 취업준비를 하며 사이드 프로젝트로 next.js를 공부중입니다. css-in-js 가 편해서 styled-component를 프로젝트에 활용해왔는데 최근 app router 방식 (13, 14) 에서는 아직 css-in-js 를 ssr 환경에서 지원하지 않지만 stylex는 가능하다는 말에 swc > babel 로 변경하고 stylex를 쓰던 중 문제가 발생하였습니다. 'use server' 코드에서는 async 만 export 가능한데 swc를 채택한 next.js 에서 babel을 고려하지 않아 async 를 못 알아보고 에러가 난다는 것입니다. ( 추측입니다... ) 결국 많은 경험이 도움이 될 것이라는 긍정적인 마인드와 함께 css-in-css 라이브러리를 배워보고자 합니다. 혹시 next.js 프로젝트를 진행중인 선배님들은 어떤 css라이브러리를 사용중이신가요?"
36,next.js,NextJs 확장 fetch로 서버 컴포넌트에서 동적으로 api를 받는 방법,"안녕하세요. 선배 개발자 선생님들. 오늘도 한 단계 성장하기 위해 질문을 남겨봅니다. 저는 NextJs, App router 방식으로 코드를 구현중이며, 서버 상태는 React-Query로 상태값을 관리하고 있었습니다. 왜 리액트 쿼리를 사용했는가? why? 1. Optimistic update, 무한스크롤에 대해 공부하고 적용해보고 싶었습니다. 2. 클라이언트 상태, 서버 상태를 나눈다는 개념이 너무 좋아서 서버 상태는 React-Query로 다뤘습니다. 3. statleTime, gcTime을 조정하여 캐싱기능이 좋았습니다. 갑자기 문득 나는 NextJS를 잘 쓰고 있는건가? 리액트랑 폴더 구조 말고는 다른게 없는거 아닌가? 라는 생각이 들었고, NextJs의 기능을 최대한 활용하고 나머지 불편한 부분이 생긴다면 외부 라이브러리를 사용하자! 라는 생각이 들었습니다. 그래서 저는 React-Query로 상태를 관리하던걸 NextJs의 확장 fetch로 바꿀려고 합니다. Optimistic update, 무한스크롤 기능을 제외하고 나머지 모든 서버 상태는 확장 fetch로 바꿀려고 합니다. 페이지네이션 페이지네이션 처럼 사용자와 상호 작용하는 부분, 즉 동적으로 데이터를 받아오게 하기 위해 url을 변경한 뒤, [id]/page.tsx에서 param로 받던지 혹은 header()를 통해 params를 받아서 처리를 할 수 있다고 생각하고, 저는 header()로 params를 받아서 처리를 했습니다. 모달에서의 페이지네이션 그런데 문제는 모달을 띄우고, 모달 내부에서 페이지네이션이 있는 경우 어떻게 데이터를 동적으로 받아오는지 고민을 해봐도 방법이 없는 것 같습니다. 1. 모달에서 다음 페이지 클릭시 url을 변경한다. -> 안해봤지만 동작을 할 수 있더라도 뭔가 느낌적으로 아닌 것 같습니다. 2. 클라이언트 컴포넌트에서 상태값을 서버 컴포넌트로 전달한다 -> 불가능 궁금한 점 1. 모달 내부에서 페이지네이션을 처리할때 url을 변경해서 서버 컴포넌트에서 확장 fetch로 데이터를 관리하는 게 적절할까요? 2. 모달 내부에서는 페이지네이션을 처리할 때는 react-query로 데이터를 관리하는 걸 확장 fetch로 바꿀 수 없는 건가요?? 바꿀 필요가 없는 건가요? 3. 더 좋은 방법이 있는 건가요?"
37,next.js,NextJS13 모바일 구분 및 기술 문의,"안녕하세요 nextjs13 으로 프로젝트를 진행할려고 하면서 문의 사항이 있습니다. 전제 조건으로 하이브리드앱으로 구현 예정이며, 웹뷰 방식으로 웹, 앱을 같이 사용할려고 합니다. (레이아웃을 웹, 앱 별도 구성 예정) 궁금한게 많아서 질문이 많이 있네요. 전문가분들 도움 부탁드립니다. 1. react-device-detect 모바일 여부를 구분하여 레이아웃을 구성할려고하는데, MobileView의 경우 use client 에서만 작동되는 것같습니다. MobileView을 사용하여 ssr 사용은 불가능한건가요? 2. style-component nextjs12 에서는 style-component를 사용되었는데 13으로 올라가면서 css-in-js방식을 사용 못하는것으로 보이며, tailwindcss, postcss를 권장하는걸로 보이는데 맞나요? 추가로 style-component 를 use client로 사용할 경우 하위에 들어가는 컴포넌트들이 다 csr 형식으로 되는게 맞는건가요? 3. RCS(React Server Components) children 으로 화면을 넘겨서 사용하는데 중간에 use client 를 사용하면 하위도 csr 형태로 인식이 되는건지 문의 드립니다. 감사합니다."
38,next.js,[next-auth] 서버사이드에서 session 생성 및 수정 하는 방법,"(next.js 13버전 app route 기준) 안녕하세요. 이번 프로젝트에서 next-auth를 사용하여 인증 구현을 진행 하고 있는데요. 일반적인 사용법들은 구현을 하였습니다. - 클라이언트에서 signIn, signOut, update 등 session 제어 - 서버사이드에서 getServerSession를 사용하여 session 정보 확인 하지만, 아래의 두 가지를 구현하는 것에 있어 어려움을 겪고 있습니다. 1. 서버사이드에서 사이트 첫 접속 시(새로고침 시) session이 없다면 세션 자동 생성 2. 서버사이드 전용 axios 유틸 파일에서 session의 토큰이 만료되었다면, refresh token(쿠키)으로 새로운 access token을 가져와서 기존 session에 업데이트 후 재요청 next-auth를 많이 사용하는 것 같고, 서버와 클라이언트에서 적절히 사용하실 것 같은데 아무리 찾아봐도 위에 대한 해결책은 없는 것 같습니다. 1번 사항과 같이 서버 사이드에서 session을 즉시 만드는 경우는 저희 프로젝트에 좀 특수한 경우인 것 같고, 2번의 경우는 일반적인 토큰 갱신 방식인 것 같은데 토큰 갱신은 서버사이드에서 어떻게 할 수 있을까요? 해결 방안이 있거나, 이러한 상황에서는 어쩔 수 없이 access token을 쿠키로만 관리해야 하는 것인지 의견 부탁 드립니다. 서버와 클라이언트에서 access token의 만료 갱신 처리를 위해 access token을 보통 어디에 관리하시나요? cookie만이 방법일까요?"
39,next.js,next.js 폴더나 컴포넌트 구조를 어떻게 짜시나요?,"회사에서 next.js 폴더 구조랑 컴포넌트를 한 번 리팩토링하려고 하는데, 어떤 구조로 접근하는게 좋은지 의견을 좀 구하려고합니다 ㅎㅎ 현재는: pages, templates, components, elements 형태로 폴더가 나뉘어져있고, pages → templates → components → elements 형태로 의존하도록 설계가 되었다고 하더라구요. 그치만 설계와는 달리 여러 훅 (비즈니스, UI 모두)들이 혼용되어서 pages, templates, components에 범벅이 되어 있는 상태입니다. 제가 생각한건: pages → templates → components → elements 형태는 유지하고, pages는 최소한의 로직만 있고 templates 에서 비즈니스 로직을 아래로 넘겨주는 형태를 생각하고 있어요. 어떤 방식일지는 케바케일 것 같은데, 가장 단순한 방법은 prop으로 넘겨주는 형태를 생각하고 있습니다. 컴포넌트 간 상태가 공유되어야한다면 카카오 형님들 블로그 (https://fe-developers.kakaoent.com/2022/220505-how-page-part-use-atomic-design-system/) 를 좀 참고해서 compound pattern으로 만들어볼까 생각중이구요. 막상 고민하다보니 다른 분들은 어떻게 작업하시는지 궁금해서요. 혹시 여러분들은 next.js 쓰시면서 구조 같은거는 어떻게 잡으셨나요??"
40,next.js,Next.js app router 다크모드 깜빡 거림 문제,"혹시 next app router에서 다크모드 설정 깜빡거리는 현상 해결해 보신 분 계신가요? 테마는 로컬스토리지에 저장해서 초기에 보여줍니다. Next 14 + styled-components 사용중입니다. 기존 page router에서는 _document.tsx에서 script 태그 dangerouslySetInnerHTML 사용해서 DOM요소 렌더링 이전에 로컬스토리지 저장된 모드 가져와서 관련 코드 실행 되게 끔 해서 깜빡임 현상을 해결했었습니다. app router에서 layout.tsx에 Script태그 이용해서 똑같이 적용하면 DOM요소가 렌더링 되고나서 실행이 되어서 기존 다크모드설정 후 새로고침 시 깜빡거리는 문제가 발생합니다ㅠㅠ 기존에 _document.tsx랑_app.tsx에 작성된 코드들은 layout.tsx에서 관리하는 걸로 알고 있는데 동작 방식이 다른 건지 기존과 다르게 동작합니다.. 여러 옵션을 사용해봐도 똑같네요... 관련 자료도 너무 없어서 nextjs github issue 뒤져보니까 똑같지는 않지만 비슷한 문제를 겪고 있는 issue가 있던데 해결이 안 된 거 같더라구요.. 이러한 상황에는 어떻게 해야할까요..? 개인 프로젝트고 해결이 된다면 정말 좋겠는데, 면접에서 이렇게 해결하지 못한 상황에 대해서는 어떻게 말해야할지도 고민입니다.."
41,next.js,getServerSideProps의 context를 nextjs13에서 사용하기.,"현재 nextjs12로 짜여진 코드를 nextjs13으로 옮기는 작업을 하고 있습니다. 기존에 getServerSideProps의 context를 이용하여 많은걸 하고 잇었는데 nextjs13에서 getServerSideProps를 사용할 수 없게 되면서 애를 먹고 있습니다. context의 req, res, resolvedUrl 등을 nextjs13에서도 사용하고 싶은데 어떻게 해야 하나요 ㅜㅜ ??"
42,next.js,사용자 등급에 따라 다른 화면을 보여주고 싶어요.,"Next.js 14버전을 사용하고 있습니다. 홈페이지에 접속했을 때, 사용자의 로그인 상태 여부에 따라 각기 다른 컴포넌트를 보여주고 싶습니다. const Main = () => { const isLogin = useRecoilValue(loginStatus); const user = useRecoilValue(userAtom); return ( <> <AuthWrapper> {isLogin && user ? <Login/> : <Logout />} </AuthWrapper> </> ) }; export default Main; isLogin과 user는 로그인 여부와 회원 정보에 대한 전역 변수입니다. isLogin의 default값은 false이고, user의 경우 isLogin이 true일 때만 존재합니다. (로그인 상태일 때 해당 유저 정보를 api로 호출) 그리고 <AuthWrapper>를 통해 해당 전역 변수들을 업데이트 해줍니다. 제가 원하는 건 최초 페이지 접속 시에 AuthWrapper를 통해 state값을 초기화해주고, 이에 알맞게 컴포넌트가 렌더링 되는 것입니다. 하지만 isLogin의 default값이 false이기에 로그인 상태일 경우, 순간적으로 Logout컴포넌트가 출력되었다가 AuthWrapper에서 검증 후 state값이 변경되면 Login컴포넌트가 출력됩니다. 이 순간적인 깜빡임을 없애고 바로 동작할 수 있게 하는 방법이 있을까요? +) 추가로.. 서버 사이드에서 처리하기에는 AuthWrapper 내부에서 storage값을 사용하거나 useEffect등을 사용하기에 불가능했습니다."
43,next.js,next.js hydrate가 무엇인가요? (Did not expect server HTML to contain the text node),안녕하세요 next.js로 개발하고 있는 1년차 뉴비 프론트엔드 개발자입니다. 페이지에서 간헐적으로 문구가 안보이는 이슈가 있어 콘솔을 확인해보니 'Did not expect server HTML to contain the text node' <- 이런 에러가 발생하고 있었습니다. 검색하다가 hydrate하는 과정에서 mismatch가 생겨서 발생한 에러라는 영어 댓글을 보긴 했는데 hydrate에 대한 설명을 찾아봐도 너무 어렵더라구요.. 혹시 간단하게라도 hydrate에 대해 설명해주실 수 있으신가요? 또 'Did not expect server HTML to contain the text node'에러는 왜 발생했는지 궁금합니다..
44,next.js,next.js를 사용하는것의 의미,"안녕하세요. 신입 프론트엔드 개발자로 취업한지 3주된 뉴비입니다. react만 써보다가 취업 후 next.js를 공부하고 있는데요, next.js를 공부한지 얼마 안돼서 아직 모르는게 많은데 본질적으로 궁금한게 있어서 질문드립니다. next.js가 서버 사이드 렌더링이 되는것 뿐만 아니라 next.js 프로젝트 내에서 다양한 백엔드 로직을 수행하는 api들도 정의할 수 있는(심지어 DB 접근까지) 풀스택 프레임워크라고 알고있어요. 그럼 next.js로 프론트엔드와 백엔드 로직 모두 다루면 백엔드 서버는 따로 만들 필요 없는건가요? 그리고 요즘 프론트엔드 기술을 next.js를 채택하고 있는 기업들이 굉장히 많은데, 이런 곳들도 사실상 모두 백엔드 개발자가 따로 있잖아요? DB 데이터 처리, 보안 등과 같은 중요한 백엔드 작업을 전문적으로 수행하는 백엔드 개발자가 따로 있으면 어차피 프론트엔드 개발자는 결국 React 등을 사용해서 개발할 때처럼 클라이언트단만 신경쓰면 될듯한데 왜 굳이 프론트를 풀스택 프레임워크인 next.js를 사용하는 경우가 그렇게 많은 것인지가 궁금합니다. 단지 서버 사이드 렌더링이 된다는게 그렇게 의미가 큰걸까요? 궁금합니다..!"
45,next.js,NextJS 14에서 JWT를 쿠키를 통해 관리하려고 하는데 서버에서 set-cookie 해주는 방식말고 route 핸들러에서 주입할수는 없나요?,"안녕하세요. 최근 NextJs를 공부하며 이전 리액트 기반의 사이드 프로젝트를 NextJs로 구현해보고 있습니다. 카카오 로그인만 지원을 하고 있고, 프론트 쪽에서 카카오 인가 코드를 백엔드로 넘기면 백에서 jwt를 발급해서 응답으로 access token과 refresh token을 프론트로 넘겨주고 있습니다. 이전 프로젝트에서는 두 토큰 모두 localStorage에 저장하는 방식으로 했었는데요, 이번에는 쿠키를 이용해보려고 하고 있습니다. 다만 백엔드에서 set-cookie를 해놓지 않아서 응답으로 받은 토큰을 따로 쿠키에 저장해야하는 상황입니다. 하지만 Server Component에서는 set cookie가 안되는 것으로 알고 있습니다. <목표 구현 방식> route handler를 통해서 백엔드 api를 호출하고 그 값을 쿠키에 저장하도록 코드를 짰습니다. (/app/api/token/route.ts) return 값은 확인을 위해서 임의로 넣었습니다. 그리고 쿠키에 저장된 토큰을 통해서 서버 컴포넌트에서 이를 이용해 백엔드 api 통신을 하고 싶습니다. 하지만 서버 컴포넌트에서 쿠키를 확인하니 비어있는 쿠키인 것을 알 수 있었습니다. 얕은 지식으로 생각을 했을때, (route handler - 브라우저 혹은 서버 컴포넌트)에서 생성한 쿠키는 (백엔드 도메인 - 브라우저 혹은 서버 컴포넌트) 통신에 사용되는 쿠키와 다르기 때문이라고 생각이 들었는데 해답을 찾지 못했습니다. <질문 사항> - 백엔드 서버에서 set-cookie를 하지 않고 직접 구현할 순 없을까요? 쿠키는 forwarding이 안되나요? - 제가 생각한 구조 말고 추천하시는 토큰 관리 방식에 대해서 알려주셔도 감사하겠습니다. 아직 초보 개발자에 글도 잘 쓰지 못해 이해하시기 힘들 것 같지만, 넓으신 아량으로 지식을 나눠주신다면 정말 큰 도움이 될 것 같습니다. 긴글 읽어주셔서 감사합니다 (_ _)"
46,next.js,Next.js RSC Network response관련해서 질문이 있습니다.,"Next.js App router를 사용하고 있습니다. 간단한 검색기능을 구현하는 프로젝트를 진행 중인데 패칭 과정은 아래와 같습니다. 1. 자식 Client 컴포넌트에서 url의 searchParams(router.replace)를 변경하면, 2. 부모 Server Component는 변경된 Search Params를 바탕으로 라우트 핸들러에서 서버에 요청을 하고 필요한 데이터를 Server Component로 받아옵니다 . (부모 RSC는 캐싱을 하지 않게 구현되어있습니다.) 3. 받아온 데이터를 가공 후 자식 Client 컴포넌트에 내려주면, 4. props를 받은 자식 Client 컴포넌트에서 보여주는 방식으로 진행하고 있습니다. 위 과정에서 에러가 발생하는 것은 아니고 정상적으로 잘 동작하고 있습니다. 다만 브라우저 devtool의 Network 탭을 확인하는데 의문점이 있어서 질문을 드립니다. RSC에서 요청을 하면 _rsc 페이로드로 데이터를 받아오는 걸로 알고 있습니다. 분명 _rsc로 요청이 가고 정상적으로 네트워크탭의 preview에 RSC 페이로드가 찍히는가하면 정상적으로 요청이가고 페이지를 확인했을 땐 정상적으로 패칭과 렌더링까지 완료되었는데, 네트워크에서 preview에는 ""no data found for resource with given identifier""로 나옵니다. 결론은 패칭과 렌더링은 정상적으로 동작하지만 네트워크탭의 preview와 response가 나올 때도 있고 안 나올 때도 있어서, 명확한 기준이 있는지 궁금해서 질문을 올립니다."
47,next.js,Next.js에서의 CSR/SSR 질문,"안녕하세요! Next.js에 대해서 공부중에 있는데, 렌더링관련해서 궁금한 점이 있어서 질문드립니다. Next.js를 사용하면 React와는 달리 SSR을 지원한다고 하는데요, 실제로 Next.js로 만들어진 사이트에 접속해보면 특정 페이지에서 새로고침 시에는 페이지 전체를 서버에서 보내주는 형태(SSR)이고, 브라우저단에서 페이지 이동 시에는 서버로부터 JSON 데이터만 가져오고 페이지는 브라우저가 그려주는 형태(CSR)로 동작하는 것으로 보입니다. 이런 동작은 개발자가 특별한 설정을 하지 않고도 Next.js에서 기본적으로 제공하는 기능인 것인지 궁금합니다. 혹시 위 내용이 맞다면, Next.js는 React의 상위 호환인건데, 무조건적으로 Next.js를 쓰는 것이 SSR 이점(초기 로딩 속도 향상, SEO 등)과 CSR 이점(UX 향상)을 모두 취하게 되므로 React는 굳이 쓸 이유가 없겠다란 생각이 들어서 이렇게 질문드립니다!"
48,next.js,"Next.Js의 next/link, middleware 질문합니다!","안녕하세요. 회사에서 Next.js, Vercel 환경에서 개발하는 신입 프론트엔드 개발자입니다. Next.js 기술의 next/link와 middleware 기술에 대해서 궁금증이 생겨서 질문합니다!! next/link는 prefetch기능이 큰 장점으로 알고있어서 Link태그에 경로를 설정해서 미리 데이터를 받아오려고 테스트해보는데 prefetch={true} 속성값을 줘도 개발자도구에서 봤을때 미리 데이터를 받아오지 않는거같습니다 ㅠㅠ 원래 개발자 도구에는 확인이 불가능한건가요?? 그리고 next.js의 middleware는 공식문서에 구글링을 통해서 이론적인 부분은 알고있는데 어떤 경우에 사용해야할지 감이 안잡히네요. 어느 페이지에 middleware를 적용해보는게 좋을까요? 이해하기 쉽게 알려주시면 감사하겠습니다 🙏"
49,next.js,"Next.js의 SSR을 잘 활용해보고 싶은데, 방법을 잘 모르겠어요","안녕하세요. 프론트엔드 개발 공부를 하고 있는 학부생입니다. HTML부터 차근차근 학교 공부하듯이 바닐라 JS, React, Next.js 12를 인터넷 강의를 통해 배웠고 지금은 Next.js 13 프로젝트를 개발 중에 있습니다. 저의 짧은 지식 선에서 Next.js의 두드러지는 장점으로는 SSR을 꼽을 수 있다고 생각했는데요, Next.js 13 버전에서는 서버 컴포넌트와 클라이언트 컴포넌트를 구분하여 클라이언트 컴포넌트의 경우 “use client” 코드를 적어주어야 하잖아요. 근데 개발을 하다 보니 거의 모든 컴포넌트에 react hook이 들어가다 보니 모든 컴포넌트 파일에 “use client” 코드를 적고 시작하며 제가 생각했던 Next.js의 장점을 전혀 활용하고 있지 못하다는 생각이 들어 컴포넌트 분리를 잘못하고 있는 건지 React를 쓰던 버릇이 들어 Next.js를 100% 활용하고 있지 못한 건지 의문이 듭니다. 선배님들의 의견과 조언이 궁금합니다!!"
50,next.js,Next.js 사용시 Spring 을 혼용해서 사용하는 경우 질문하고싶어요.,"안녕하세요. spring (backend) + extjs (front) 로 개발을 하다가, 요즘 nextjs 공부를 하고 있는데요 아직 개념이 잘 안 잡혀서 궁금해서 질문 드립니다. nextjs 가 fullstack framework 로 알고있고, next에서도 backend 기능이 가능하던데요 13버전 기준 app/경로/route.js 에 GET/POST 등등 사용해서 서버 처리가 가능하던데 혹시 위처럼 사용하지 않고, spring 백엔드로 axios를 사용해서 처리하는 경우와 어떤 차이점이 있나요? 비즈니스 로직의 처리 주체가 next인지 spring인지의 차이만 있는것인지.. 혹시 next + spring 을 사용하게 되면 얻는 ""이점"" 이 무엇인가요? 혼용해서 사용할때 얻을수 있는 장점이 궁금합니다."
51,next.js,Next.js server component(app router)의 auth 관련 질문 입니다.,"안녕하세요. 이번에 Next.js(13)에서 최신 기술인 app router를 기반으로 자그마한 홈페이지를 구축 중에 있습니다. JWT 기반으로 SSR을 구축하고 있습니다. middlware로 어떻게 든 토큰 재발행이 가능한 로그인 구현을 완료 했습니다. 하지만 ServerComponent이다 보니, RSC에서 accesstoken 혹은 refreshtoken과 같은 인증 토큰이 만료 되었을 때, 재 발행을 하려면 어떻게 해야 할까요? cookie나 header는 접근은 가능해도 Set-Cookie를 내려 보내거나 할 수는 없는 걸로 문서에 나오고 실제로도 되지 않습니다. 어떻게 하면 ServerComponent에서 토큰을 재발행 하거나 다른 인증 방법이 있을 까요? 아니면 JWT + Session으로 가는 조합을 사용 해야 할까요??? 또, client와 server 간의 토큰 공유를 위해 access-token만 http-only를 해제하고 사용 중에 있습니다. 이게 cors나 csrf와 같은 공격에 취약한 문제가 있어서 이게 올바른 구현 방법일까요? 일단 제가 찾은 방법으로 가장 쉽게 해결되는 방법은 아직 실험 단계인 server action을 활성화 해서 클라이언트에서 토큰을 가지고 있을 필요가 없이 서버에서만 관리 하는 방법입니다. BFF을 일부 수용해서 해결 했습니다. front <-> BFF <-> api"
52,next.js,Next.js에서 URL 파라미터에 한글 입력시 오류가 발생합니다.,[Next.js 13.4.1] 아무 경로나 그냥 URL에 http://localhost:3000?test=테스트 대충 이렇게 쳐도 ---------- Failed to fetch RSC payload. Falling back to browser navigation. TypeError: Failed to execute 'fetch' on 'Window': Failed to read the 'headers' property from 'RequestInit': String contains non ISO-8859-1 code point. ---------- 위와 같은 오류가 발생합니다. 여기저기 구글링 해본 결과 URL에 유니코드 문자가 들어가면 이런 문제가 발생하는 것 같은데 Next.js 공식문서에도 없는 거같고... 파라미터의 한글을 urlencode로 변환도 해보고 별짓을 다해봤는데 해결이 안되네요 어떻게 해야할까요?
53,next.js,학교를 졸업했지만 어디 분야로 가야할지 모르겠습니다,"저는 원래 기계공학과였다가, 저랑은 영 맞지 않는것 같아서 1년 반 다니다가 컴퓨터공학과로 전과했습니다. 그런데 기계공학과와 컴퓨터공학과 모두 공학이긴 하지만 듣는 강의는 차이가 꽤 있어서 기계공학과에서 들었던 학점 대부분은 인정받지 못하고 증발해버렸습니다. 그래서 2학년이긴 하지만 전공학점은 신입생들과 별반 다를바가 없었어요 잘못하면 제때 졸업못하고 최소 1년이상 초과학기를 하게될테고 형편상 그건 어렵기 때문에, 전과해서 아는것도 하나도 없음에도 2학년과 1학년 수업을 같이 들으면서, 어떻게든 학기마다 풀학점으로 꽉꽉 채워서 결국 초과학기는 한 학기만 한 채로 졸업할 수 있었습니다. 그래도 나쁘진 않았습니다. 적어도 기계공학과에 있을 때보단 이쪽이 훨씬 제 적성에 맞았거든요. 그래서 그런지 학점도 4.0/4.5점 으로 괜찮게 졸업할 수 있었습니다. 그런데 너무 수업만 따라가기 바빠서 그런건지 졸업한 뒤 제가 어느 분야로 갈지는 깊게 생각해보질 않았어요. 미리 생각해 놨다면 학교 수업 외에도 그쪽으로 따로 공부를 하면서 준비할 수 있었을텐데, 그러질 않았으니 그저 학교에서 하는 강의만 열심히 들으면서 다녔습니다. 그리고 졸업하니까 어디로 가야할지 모르겠더라고요. 일단 제가 학교에서 배우고 해봤던걸 대충 적어보자면 javascript, java, python, c, html, css, mysql, oracle, unity, android studio, jsp, unix 이정도와 운영체제, 자료구조 같은 cs 입니다. 일단 저는 원티드, 로켓펀치, 프로그래머스 같은 사이트들을 돌면서 공고를 살펴 봤습니다. 프론트엔드쪽 기술스택을 살펴보니 html, css, javascript는 배웠지만 react, redux, node.js, next.js, typescript 이런 것들이 나오는데, 전부 한번도 안해봤던 것들이더라고요. 그래서 백엔드쪽 기술스택을 살펴보니 spring, jpa, django, docker, fastapi, flask 등등 이런것들이 나오는데 역시 안해봤던 것들이었습니다. 그래서 다음은 안드로이드쪽을 살펴봤습니다. 팀프로젝트를 하면서 앱을 만든 경험이 있었거든요 kotlin, flutter, react...역시 안해본 것들입니다 저흰 java만 배워서 코틀린을 안해봤습니다. 그리고 flutter, react 같은 크로스플랫폼 또한 다뤄본 적 없고요 이런식으로 막상 실무에서 요구하는 기술들과 제가 학교에서 배웠던걸 매치해보니 제가 부족한게 너무 많더라고요. 사실 처음 채용공고 봤을땐 제가 모르는 용어들도 많아서 멘붕이 왔었습니다. 물론 이제 막 학교 졸업하고 실무경험도 없는 신입이니 부족한게 많은건 당연한것이고, 신입이 그 기술스택을 다 숙지할 수도 없다는것도 알고 있습니다만, 그럼에도 제가 너무 부족한게 많다는 생각을 지울수가 없더군요 서론이 길었네요 그래서 결론은 현재 저의 상태에서 가장 빠르게 준비해서 취업할 수 있을만한 분야가 어디일까요? 저는 개발쪽이기만 하면 상관없는데, 저희집 사정상 가능한한 빠르게 준비해서 빠르게 취업하고 싶습니다."
54,next.js,Next.js의 SSG와 react-query의 useSuspenseQuery,Next.js v14의 페이지 라우터 및 react-query v5의 useSuspenseQuery를 사용하여 Suspense를 사용할 때 페이지 컴포넌트에서 getStaticProps를 사용하지 않아도 SSG 빌드 타임에서 API request 하는 현상이 발생해서 찾아보니 useSuspenseQuery가 컴포넌트 렌더링 시점에 데이터 로딩하도록 설계가 되어 있기 때문에 빌드 타임에서 HTML을 만들 때 결국 API request 하게 되는 것이라고 이해했었는데 제가 이해한 부분이 맞을까요? react-query(tanstack-query)나 next.js의 공식문서에는 그러한 내용을 찾기가 어려워서 정확한 정보인지 알고 싶습니다!
55,next.js,nextjs에서 Error: Client network socket disconnected before secure TLS connection was established 오류,"nextjs 질문 있습니다! 프로젝트에서 getServerSideProps, getStaticProps를 사용하여 렌더링을 할 경우 페이지 첫 진입 자체는 문제 없는데 새로 고침을 하면 Error: Client network socket disconnected before secure TLS connection was established 위와 같은 오류가 계속 나는데 해결 방법 아시는 분 계신가요?"
56,next.js,취업을 위한 프로젝트 기술 스택 React vs. Next.js,"안녕하세요. 프론트엔드 취업을 준비 중이에요. 이제 포트폴리오용 프로젝트를 진행하려고 하는데, 기술 스택에 고민이 있어 질문 올려요! 혼자하는 프로젝트여도 좀 규모를 크게 완성도 있게 가져가려고 계획 중이고, 기간은 3개월 안 쪽으로 잡고 있어요. 하나 고민인게, 아직 react만 써서 어떤 프로젝트를 개발해 본 적이 없는데, 요즘 회사에서 많이 요구하는 next.js 프레임워크를 바로 플젝에 사용하는 것이 옳은 것인지 조언를 구해요. 물론 next.js를 쓰면 리엑트가 따라오겠지만, 리엑트와 next.js 사이에도 차이는 존재할텐데요. 예를 들어 라우팅하는거나 이미지 태그 등등 지금은 사소한 것 밖에 차이를 모르지만 아마 둘 사이에 많은 것들이 조금씩은 다르겠죠?? 그래서 회사에서 요구하는 next.js를 조금은 나중에 토이 프로젝트로서 경험하고 이번 프로젝트는 제대로 만드는 만큼 오직 리엑트만을 써서 최적화까지 딥다이브하고 나면 다음에 next.js로 프로젝트 할 때 더 많은 것들을 배우지 않을까 싶어서요! 당장 취업도 바라봐야 하지만, 개발자라는 길에 들어선 만큼 리엑트를 깊게 잘 딥다이브를 해야할지 next.js를 쓰면서 리엑트를 같이 배우는 것이 좋을지 의견 듣고 싶습니다!"
57,next.js,Next.js Link 내부의 a 태그 린트 오류,"Link 새 탭으로 여는 것과 관련해서 https://careerly.co.kr/qnas/928 글의 답변을 보고 작성했는데 이런 린트 오류가 뜹니다. ""ESLint: The href attribute is required for an anchor to be keyboard accessible. Provide a valid, navigable address as the href value. If you cannot provide an href, but still need the element to resemble a link, use a button and change it with appropriate styles."" 코드는 답변 해주신 대로 작성했어요. <Link href=''path"" passHref> <a target=""_blank rel=""noreferrer""> </Link> 잘못된 부분이나 해결 방법이 있을까요?"
58,next.js,media query가 배포환경 mobile에선 작동을 안해요… ㅜㅜ,"안녕하세요 ! Nextjs 를 이용해서 프로젝트를 진행하고있습니다 ! 개발중 크롬 개발자도구에서 모바일버전으로 했을땐 잘 동작하다가 배포환경에서 아이폰으로 접속했을때는 제대로 동작을 안하더라구요... // size.ts const MOBILE_PX = '768px' export const MOBILE_MODE = `(max-width: ${MOBILE_PX}) as const` // index.ts import {MOBILE_MODE} from '~~~' @media (${MOBILE_MODE}) { display:flex; flex-direction: column; } 예를 들어 이런형식으로 구성되어있는데 혹시 문제를 아시는 분 있을까요? ㅠㅠ 구글에 가장 많이나오는 글인 <meta name=""viewport"" ~~~ /> 태그는 예전에 삽입되어있구... 읽어주셔서 감사합니다 !"
59,next.js,'꼭 nextjs를 사용할 이유가 없다'가 리액트를 사용해야 할 이유가 될 수 있을까요?,"프로젝트를 진행하면서 팀원들과 리액트와 nextjs 중 어떤 기술 스택을 사용할지 논의하게 되었습니다. 그런데 '이정도 기능에 특별히 nextjs를 사용할 이유가 없고 리액트로 별다른 어려움 없이 충분히 가능하다'는 이유로 리액트 사용에 찬성하는 의견을 들었습니다. 언뜻 듣기엔 그게 맞다고 생각했지만 곱씹다보니 nextjs를 사용하면 안되는 이유도, 리액트를 꼭 사용해야 하는 이유도 아닌 nextjs 굳이 사용할 이유가 없다는 것이 리액트를 사용하자는 말의 근거가 될 수 있을지 문득 궁금증이 생겼습니다. 선택지가 리액트와 nextjs 둘 뿐이라면, nextjs가 리액트를 기반으로 여러 기능이 더해진 프레임워크이기 때문에 단순한 기호나 숙련도 등 개인적인 이유를 배제한다면 기본적으로 먼저 리액트를 고려하고 특별한 이유가 있을 때만 nextjs를 사용하자는 것이 정론일까요?"
60,next.js,next 13 공식 문서를 읽고 있는데 이해가 잘 안되는 부분이 있어서 질문드립니다.,"https://beta.nextjs.org/docs/data-fetching/fundamentals#component-level-data-fetching 이 부분에서 ""Behind the scenes, React and Next.js will cache and dedupe requests to avoid the same data being fetched more than once."" 라는 문구가 있는데, 이게 무슨 말인지 이해가 잘 안되어서 궁금합니다. dedupe가 무슨 뜻인가요? 중복 제거라고 자동으로 중복 요청을 다 제거해준다는 뜻인가요?"
61,next.js,react에서 Nextjs 마이그레이션,"Nextjs마이그레이션 작업을 진행할려고하는데, 사실 막막한 부분이 여러가지가 있습니다. 첫번째는 CSS-in-JS인데 기존 react프로젝트의 styled-component로 제작되어 있는데, 제가 알기론 CSS-in-JS의경우 서버컴포넌트에선 현재 작동하지 않는걸로 아는데 보통 이럴경우 어떻게 진행하나요? 대체방안으로 따로 다른 CSS 라이브러리 등을 이용하는지 궁금합니다 두번째는 데이터 패치관련된 부분인데 Nextjs에서 fetchAPI 부분을 Nextjs에 맞게 캐시와 revalitate옵션을 제공해주는 형태로 제공해주는데, 기존에 프로젝트는 axios를 사용중인데 이것 또한 변경을 해야되는지 궁금하네요 현재 서버렌더링과 클라이언트 렌더링으로 나눠놓긴했는데 나누고보니 상당히 이슈가 많을걸로 예상되어 질문드립니다"
62,next.js,next auth를 사용중인데 서버 컴포넌트에서 useSession을 사용하는 방법이 있을까요?,안녕하세요 next 13버전으로 프론트를 구현하고있습니다. 로그인은 next auth로 하고 있고 12버전에서 13으로 올리면서 useSession을 사용하는 부분에 에러가 발생합니다. Error: React Context is unavailable in Server Components next.js 13버전은 서버컴포넌트가 기본으로 알고 있어서 일반적인 방법으로는 useSession을 사용하지 못하는 것 같습니다. 혹시 서버 컴포넌트에서 next auth의 session값을 불러올 수 있는 방법이 있을까요?
63,next.js,선배님들 진지하게 프엔개발자 취준 상담부탁드립니다,"안녕하세요 올해 31살입니다.. 노션으로 이력서 작성했다가 이미지 로딩이 너무 느린거에 고민을 하다가 react-notion 라이브러리를 알게됬고 그걸로 작업하다가 CORS때문에 그냥 이력서를 리액트로 제가 직접 만들었습니다. 그 이력서로 취업 문을 계속 두드리고있는데 계속 문전박대 당하고있는 상황입니다 그저 개발이 재밌고 내가 구성한거를 이쁘게 ui만들고 하는게 재밌어서 강의나 책 보면서 배운 지식들을 활용한 결과물들을 포트폴리오로 내세운거라 남들이 보기엔 어떨지모르겠지만요.. 깃사용이랑 커뮤니케이션 코드컨벤션등등을 경험하고싶어서 팀프로젝트를 구해서 해본경험도 있습니다만.. 자신감이 많이 떨어져있는 상태입니다ㅜㅜ 비전공 독학 고졸 이 세가지 타이틀을 다 가지고있는 저라서 더 미래가 불안합니다. 여태 배운지식들은 html,css,js,react,nextjs,mongodb,express,awss3활용,파이어베이스 등등입니다. 면접을위한 cs전공지식 책을 사서 겉핥기식이겠지만 cs공부와 모던자바스크립트 웹사이트에서 js공부도 계속 하고있습니다. 최근까지는 서버리스가 개인플젝만들때는 편리해서 파이어베이스랑 리액트 혹은 넥스트13으로 개발을 주로해왔습니다만 솔직히 내세울만한것도 없는거같고 해서 다른 지식들을 어필해보자! 라는 생각이들어서 최근 구상중인 아이디어를 개발할때 적용해보고자합니다 1. Nextjs+nestjs 2. Nextjs + aws서버리스플랫폼 사용 이 두가지중 어떤게 더 나아보이실까요? 마지막으로 제 이력서입니다.. https://resume-react-phi.vercel.app/"
64,next.js,next.js 하고 express.js 로 웹앱 개발중인데,next.js 에서 express 쪽으로 request 날릴때 express 에서 csrf 검증을 통해서 요청을 검증하고 싶은데 csrf token 발급을 어떻게 해야할지 감이 잘 안와서요 next.js 에서 express로 csrf token 발급 request를 날려서 발급받은 csrf token을 쿠키에 저장하는 방법이 좋을까요?
65,next.js,Next.js에서 React Portal을 잘못 적용한건지 궁금합니다.,"안녕하세요! next.js에서 모달 구현을 위해 react portal을 사용하였습니다. 그런데 제가 의도한 것과 다른 결과가 나와 코드를 잘못 작성한건지, 제가 portal에 대해 이해를 잘못 하고 있는건지 궁금해 질문드립니다. 현재 next.js 14.0.4 + tailwind 환경에서 작업하고 있습니다. // src/app/layout.tsx (사진1 첨부) // src/components/modal/ Modal.tsx (사진2 첨부) // 실제 출력 화면 (사진3 첨부) portal을 사용하면 같은 body 태그안에 있는 형제 컴포넌트의 z-index의 영향을 받지 않는다고 알고 있는데, 첨부한 사진과 같이 <body> 안 형제 컴포넌트 하위에 위치한 컴포넌트의 z-index의 영향을 받고 있습니다. portal로 출력할 부분을 children으로도 받아보고, 포탈 컴포넌트 안에서도 작성해보고 했는데 모두 동일한 결과가 출력됩니다. 포탈 컴포넌트에도 z-index를 적용해줘야 하는건지, 제가 코드를 잘못 작성한건지 알고 싶습니다. 감사합니다!"
66,next.js,next.js 14 nextAuth v4 JWT_SESSION_ERROR 도와주세요..,getServerSession 부분에서 JWEDecryprionFailed 에러가 발생하고 있습니다 구글링 결과 authOptions에 secret을 추가하면 된다고 해서 추가해도 계속 발생하네요.. 클라이언트나 서버 컴포넌트에서는 seesion이 가져와 지는데 api 라우트 부분에서만 Session Handling이 안되네요 https://next-auth.js.org/errors#jwt_session_error 콘솔에 출력된 공식 문서를 봐도 해결이 안되네요 도움을 주실분 계신가요..??
67,next.js,프론트엔드 - Docker-Compose 문제,"docker-compose를 세팅 중 빌드 오류가 있어 질문 드립니다. 문제의 원인이 prod 환경의 compose.yml라고 예상되어지는데 dev 환경의 compose에서는 env 파일을 정상 인식하지만 prod 환경의 compose에서는 env 파일을 인식하지 못하는 문제인데요. docker-compose 명령어를 실행할 때, .env 파일이 있는 경로에서 실행을 하고있고 docker-compose.prod.yml과 .env 파일에 정의된 변수 이름도 오탈자는 없습니다. 어떻게 해야 docker build시, prod에서는 args를 사용할 때 production.env(= multiple .env)파일을 인식하게 할 수 있을까요? 혹시 제가 놓치고 있는 부분이 있을까요? 추가로, 관련된 코드와 설정은 Stack Overflow에 업로드를 해뒀는데요, 답변 주시면 정말 감사하겠습니다! https://stackoverflow.com/questions/78857841/docker-compose-not-recognizing-environment-variables-in-next-js-application-pro"
68,next.js,next.js에서 img onload가 가끔 실행이 안됩니다ㅠ,"next.js에서 HTML img element의 onload가 가끔 실행이 안되는데 이유를 아시는 분 계신가요? img의 onload에 isLoading 값을 바꿔주는 콜백 함수를 넣었는데, 가끔 실행이 안되어서 무한 로딩 화면이 보여지더라구요. 간략하게나마 코드 첨부해봅니다. 도와주세요 선생님들 ㅠㅠ import { useState } from ""react""; export default function Home() { const [isLoading, setIsLoading] = useState(true); const hello = () => { console.log(""loaded"") // 왜 안되지... // setIsLoading(false) } return ( <div className=""App""> {isLoading && <p>Loading...</p>} <img onLoad={() => hello()} src=""이미지 url"" /> </div> ); }"
69,next.js,React+Next.js 사이트 배포,"전공자/프론트/React/3년 공백 React+API+Firebase 적용한 프로젝트 2개 보유 취준 생활이 길어지다 보니 부모님의 걱정으로 우선 지인 회사에 취업해 전산 업무를 담당하며 회사 사이트를 관리하게 되었어요. (연봉이 좋습니다.) 전산 업무는 사실상 나이 있으신 분들 컴퓨터 모르는 부분 가르쳐 드리고 나중에 외주 프로그램 오픈 하면 미팅하고 에러 나는 부분만 전화로 해결 요청 드리면 된다고 아무것도 몰라도 알려주겠다 하셔서 여기서 제가 직접 사이트를 만들어 배포하면 나중에 커리어에 추가할 수 있을 것 같아서 다니기로 했습니다. (모르는 게 생기면 대표님(개발관련X)과 친척 분께 여쭤볼 수 있습니다. 친척=유일한 사수) 현재 운영 중인 사이트는 JSP로 기능만 작동하는 아주 단순한 디자인의 사이트(친척이 4개월 동안 개발하고 이직, 프론트X)라 제가 Next.js를 아직 써본 적은 없는데 차차 공부하면서 사이트를 개발해볼까 합니다. 질문 1. 로그인/로그아웃, 회원가입, 게시판 정도의 기능만 하고 나머지는 회사에 대한 설명 위주인 간단한 사이트인데 React + Next.js + MySql 로 개발해서 배포할 수 있을까요? 아니면 따로 Spring으로 백엔드를 따로 개발해야 할까요? (Spring Framework + mariaDB로 ERP 프로그램 개발 경험 있습니다. 배포는 안 해봤습니다.) 질문2. 질문1 중 하나를 선택해 배포할 때 AWS로 할 지 아니면 다른 추천해주실 만한 것이 있는지 궁금합니다. 기존 토이 프로젝트들은 firebase로 db 및 로그인 구현했고 netlify로 배포해서 아는 게 너무 부족합니다. 질문3 - 여담. 지금이라도 도망가야 할까요?ㅋㅋ 혼자서 독학으로 프론트하고 있던지라 앞으로 TypeScript, Next.js 등 공부할 예정이었는데 여기 취업 아니면 국비지원 부트캠프 가려고 했습니다. 대학생 때 학과 1~2등도 해보고 학점도 4.1~4.3 정도로 공부는 잘하는 편...이었습니다ㅎ... 사이트 개발하다가 도저히 안되겠으면 그냥 외주 맡기시라고 하고 저는 다니면서 개인 공부해도 되지 않을까 생각합니다."
70,next.js,"클라이언트, 서버 두 DB의 데이터를 동시에 수정할 때 무결성 보장","안녕하세요 어플리케이션을 만드는 도중 문제가 생겼습니다. indexedDB( 클라이언트 ), postgreSql( 서버 ) 2곳의 데이터를 동일하게 수정해야할 때 ( 추가, 삭제, 수정 등 ) 한 곳의 api 가 실패하는 순간 이미 수정이 된 곳의 트랜잭션을 롤백 ( abort ) 하여 연동된 두 곳의 데이터가 동일 하도록 무결성을 보장하고자 합니다. 그런데 2가지 문제를 발견하였습니다. 1. indexedDB 의 트랜잭션 도중 다른 api 의 await를 쓰는 순간 indexedDB 는 트랜잭션을 즉시 종료시켜 서버 데이터 수정이 실패해도 abort() 가 불가능하다. 2. postgreSql 의 트랜잭션은 next.js 의 서버사이드 api에서 쿼리를 날리기에 중간에 클라이언트 사이드의 indexedDB 수정 api 사용이 불가능하다. indexedDB는 idb, postgreSql 은 pg 라이브러리를 사용중입니다. 수정 되기 전 상태를 임의로 기록 > 2번째 api 실패? > 기록된 상태로 수정하는 api 요청 이라는 단순한 방법도 생각해봤지만 결국 마지막 상태로 수정하는 것도 별도의 api 요청이기에 이 것또한 실패할 시 무결성 보장이 되지않기에 포기하였습니다... 선배님들은 서버와 클라이언트 데이터를 연동할때 무결성 보장을 어떻게 하시나요? next.js 14 환경입니다."
71,next.js,프론트엔드분들은 개인 프로젝트할 때 백엔드를 어떻게 하시나요?,"프론트엔드 분들은 취업이나 이직, 사이드프로젝트 등 개인 프로젝트를 진행할 때 백엔드는 어떻게 하시나요? 예시는 react 진영 기준으로 하였습니다 다른 선호하는 방식이 있다면 댓글로 알려주세요! 1. 클라이언트, 서버 각각 전부 개발 ex. reactjs(nextjs) + nestjs 2. 백엔드 서비스를 활용하여 개발 ex. nextjs + firebase, supbase 3. 풀스택 프레임워크 사용해 한 번에 개발 ex. nextjs + prisma(orm) + s3(storage)"
72,next.js,Next.js에서 page.js,"안녕하세요. Next.js를 공부하던 중 궁금한점이 생겨 질문드립니다 ! 제가 app/page.js 파일에 사용자가 로그인했다면 메인화면 컴포넌트를 보여주고, 로그인하지 않았다면 로그인 컴포넌트를 보여주도록 작성해두었습니다. 그런데 궁금한 점이 로그인을 했는지 유무를 getserversession을 통해 세션을 확인해서 판단합니다. 그런데 이때 비동기처리를 위해 await를 붙여줘야하는데, 그렇다면 page.js의 Home() 자체에 async를 붙여주어야합니다. 그래서 해당 방법을 사용해 제가 생각한 로직은 구현했습니다. 그런데 궁금한 점이 page.js에서 export default async function Home() 이런식으로 작성해도 되나요? 제가 page.js의 역할을 정확히 이해하지 못한 느낌이 들어 질문드립니다. (챗 지피티에게 물어보니 13버전 이전의 내용만 알고 있는 듯합니다. 또한 컴포넌트 자체에 async를 붙이면 안된다고 답변이 옵니다 !)"
73,next.js,next.js dynamic route slug 에러,"next page에서 interest라는 폴더가 있고 user, company로 path를 나누려고 합니다. interest/[id] interest/user/[id] interest/company/[id] interest/[id], interest/[keyword]/[id] <- 이렇게 폴더를 만들었는데 에러가 발생하네요.. You cannot use different slug names for the same dynamic path ('id' !== 'keyword'). interest/[id]도 필요하고 interest/[keyword]도 필요할 경우 동적라우팅을 사용하는 방법이 있을까요?"
74,next.js,react.js VS Next.js 운영비용 외 보안적 측면,"안녕하세요. 신규 프로젝트에 대해서 입장을 내야하는 상황입니다. 서비스는 그룹웨어, HR 같은 서비스여서 SEO 는 필요 없는 서비스입니다. 그러면 무조건 react.js , vue.js 같은 CSR 로만 개발하는게 좋을까요? 걱정은 실제 route 가 많은 서비스라면 SEO 가 없어도 Next.js Nuxt.js 와같은 SSR이 더 효과적일까요? 코드 스플릿을 한다고 해서 충분히 react.js 의 js 번들 다운로드 량을 짧은 시간으로 단축이 가능할까요? 스플릿을 잘해서 라우트가 많은데도 3초 이내에 다운로드가 될 수 있다라던가... Next.js 로 하게되면 react.js 배포와 비용차이가 많이 날까요? (SSG 를 사용할 일이 많지는 않음) 일가견 편하게 부탁드립니다. 제가 어떤 걸 알아야 하고, 어떤 내용을 전달할 수 있을까요?"
75,next.js,next.js getServerSideProps와 서버 컴포넌트,next.js에서 새롭게 선보인 서버 컴포넌트를 공부하다가 생긴 질문 남겨봅니다! 기존에는 SSR을 구현할때 getServerSideProps를 통해서 페이지에 필요한 정보를 내려주고 있었는데요. 이렇게 getServerSideProps에 구현된 로직을 서버 컴포넌트로 바꿔야하는 것인지 궁금합니다. 서버 컴포넌트도 서버에서만 돌아가는 코드니까 getServerSideProps가 하던 역할을 쪼개서 하는건가 싶어서요. (https://beta.nextjs.org/docs/rendering/server-and-client-components)
76,next.js,"Next.js로 프로젝트 중인데, 팀원과 의견조율이 잘 안돼서 도움 부탁드립니다.","안녕하세요, 저는 백엔드 개발자로 일한지 이제 2년차가 된 개발자입니다. 사이드프로젝트에서는 프론트 개발을 하고 있고 현재 Next.js를 사용하고 있습니다. 백엔드팀도 따로 있어서 Next.js의 API routes는 BFF같은 느낌으로 사용하고 있습니다. [Next pages] <-> [Next API] <-> [백엔드 서버] 현재 상황은 유저의 로그인정보를 어떻게 관리하냐로 이야기를 하고 있습니다. 1. 마이페이지 -> 프로필 수정 페이지 2. 로그인 -> 메인페이지 이렇게 유저의 프로필 정보가 많이 쓰이다보니까 이걸 매번 GET해서 가져올까, 전역상태로 관리할까 이야기를 하는데 좀처럼 의견이 좁혀지지가 않는 상황이라 다른 분들의 의견을 여쭙고 싶습니다. (참고로 저희 둘 다 프론트 개발경험이 그리 많지 않습니다) A: 그냥 매번 GET하자.(넥스트 API 캐싱을 사용하자) - 전역상태관리보다 코드 복잡도가 줄어들 것 같다. - 넥스트의 API 최적화를 사용하는 게 더 Next스러운 방식같다. B: 전역 상태로 관리하자. - useEffect로 현재 모든 GET 요청을 하고 있기 때문에 윌업데이트에 변경이 일어나면 재렌더링이 일어남 - (하지만 컨텍스트 정보가 바뀌지 않으면 최초 렌더 이후 리렌더 되지 않음) - 캐싱한 데이터를 받아오더라도 결국 불필요한 api요청을 보내는 것이며 api요청을 보내는 것보다 전역 상태에서 가져다 쓰는 것이 더 바람직하지 않나 서로 비슷한 실력에 사람도 둘 밖에 없어서 결정을 내리기 힘들어서, 다른 분들의 의견을 좀 들어보고 싶습니다. 읽어주셔서 감사합니다."
77,next.js,nextjs에서 react query queryClient 처리,이전에 React를 사용할때는 queryClient를 한번 선언한 후 export하고 invalidateQueries를 실행하는 곳에서 import하여 사용했습니다. 물론 QueryClientProvider에 주입도 선언한 queryClient 그대로 사용했구요. nextjs에서 queryClient를 react처럼 export해서 사용하지 않고 컴포넌트 내부에서 사용하는 이유가 있을까요? 궁금합니다. 또한 invalidateQueries를 사용할 때는 항상 컴포넌트나 커스텀 훅에서 useQueryClient()를 사용해야되는건가요?
78,next.js,Nextjs를 정적 웹 호스팅(dothome)으로 배포하게 될 때 문제점,"안녕하세요. 이번에 맡게된 프로젝트에서 SEO가 중요하다고 판단되어 Nextjs를 사용하여 개발하였습니다. 그런데 저희 팀이 사용하고 있는 웹 호스팅 서버가 dothome입니다. dothome은 정적 웹 사이트 호스팅 서버라고 알고 있는데, 이 서버로 호스팅하게 되면 몇 가지 문제점이 있다고 판단되어 질문을 남기게 되었습니다. 1. dothome에 배포하기 위해 정적 빌드를 하게 되면, 서버 사이드 렌더링(SSR) 기능을 사용할 수 없게 되는데, 이는 NextJS를 사용해서 얻을 수 있는 SEO 측면의 이점을 얻을 수 없게되는 건가요? 그렇게 된다면 SEO를 개선하는 방법이 있을까요? 2. Nextjs에서 제공하는<Image> 태그가 서버 측에서 이미지 최적화기능을 제공하는 것으로 알고 있는데, 정적빌드를 사용하게 되면 일반적인 img 태그와 다를 바가 없어지는 걸까요? 3. 마지막으로 Nextjs를 사용하기 위해서 웹 호스팅을 변경하는 것이 좋을지, 변경해야한다면 어떤 것을 추천하지는 시 여쭤봅니다."
79,next.js,Next.js 미들웨어,Vercel를 사용하지 않고 배포해서 Next.js (v13.4)의 미들웨어를 사용해보았는데 잘 작동하지만 공식 문서에서는 edge runtime에서만 가능하다라고 나와있는데 추후에는 vercel를 사용하지 않고 Next.js를 배포한다면 미들웨어는 사용할 수 없는건가요?! 관련 히스토리에 대해 알고 싶습니다. 감사합니다! https://nextjs.org/docs/pages/building-your-application/routing/middleware#runtime
80,next.js,실무에서 NextJS 이전 버전으로 개발을 진행해도 유지보수에 문제가 없을까요?,"안녕하세요 금일 두번이나 질문을 올리게 되는 주니어 프론트엔드 개발자입니다 :) 개인적으로 고민이 생겼습니다. 현재 나온 NextJS 13버전을 자세히 보면 볼수록 이전 12버전과는 다르게 'use client' 이렇게 주석을 달아서 client components 와 server components를 구분지어놓고 상태관리등을 엄격하게 다루고 있으며, 아직까지 CSS-in-Js 의 지원에 관해서는 진행중이라는 부분에서 많이 어색하고, 어떻게 해나갈지 조금은 막막합니다. 할 줄 아는 SSR 지원 프레임워크는 Next 하나 뿐이라, 13버전을 밀고 나갈지 아니면 안전하게 그 이전의 버전으로 개발을 진행할까가 현재의 고민입니다. 다만 이전 버전으로 초기 개발을 진행할 시에 추후에 업데이트 되는 react 18, next 13 이상의 버전들이 반영될 때마다 유지보수에 어려움을 겪을 수도 있다는 게 개인적인 두려움인데요.. 실무에서 개발 스택을 정하는 시기가 머지 않아서, 미리 여러 인사이트들을 구하고 있는 중에 위의 부분이 마음에 걸려서 글을 써봅니다. 혹은 nextjs 13버전으로 현업에서 활용한 인사이트들이 있는지도 궁금합니다! 감사합니다."
81,next.js,next js getStaticProps rehydration 질문 있습니다.,"SSG, ISR, SSR 이론은 다 알고 있습니다. 그런데 개발도중 NEXT.JS 고질병인 client, server 충돌경고를 종종 겪는중 의문이 생겼습니다. 페이지를 미리 그리는데 왜 에러가 나지 하는 생각에 질문 드립니다. 1. 만약 SSG로 만든 페이지가 HTML로 만들어져서 화면에 미리 렌더링이 되는데, 그럼 미리 렌더링된 이후(제어권이 리액트로 넘어감) CSR은 화면을 로드할때 사전에 만든 HTML을 로딩하나요? 아니면 해당 페이지를 새로 그리나요? 2. 만약 새로 페이지를 그린다면 기존 pre render된 html 파일 내용과 csr이 그린 데이터가 다르면 next.js가 match 경고를 출력하나요? 2.1 next js에서 server, client 내용이 다르면 match경고를 발생시키는 이유는 무엇인가요? 3. csr이 미리 만들어진 html을 사용하여 페이지를 그린다면 이유가 뭔가요?"
82,next.js,Next.js axios patch메서드 cors error,"현재 마이스터고 재학 중인 2학년 학생입니다. 학교에서 Next.js를 사용하여서 서비스를 만드는 프로젝트를 하고있습니다 이 프로젝트 중 서버와의 통신을 위한 axios를 customAxios로 만들었고 기존 put메서드로 수정 api를 호출했을 당시엔 요청이 갔는데 patch메서드로 하니 CORS에러가 계속 뜹니다. velog와 wrtn등을 이용하여 withCredentials: true도 줘보고 package.json에 ""proxy""도 줘봤는데 계속 CORS에러가 뜨네요.. 혹시 몰라서 postman으로 호출했을때는 정상적으로 호출이 가는데 이 경우는 무엇이 문제일까요? 도와주시면 감사하겠습니다.. ㅠㅠ"
83,next.js,nextjs hydration failed because the initial ui...,"안녕하세요. nextjs에서 로그인 유저만 접근 가능한 페이지를 만들기 위해 withAuthRoute라는 HOC 컴포넌트를 구현하여 사용하고 있습니다. HOC에서는 브라우저의 스토리지를 파악해서 토큰이 있으면 Component를 리턴하고 아니면 null을 리턴합니다. 서버사이드 렌더링시에는 스토리지에 접근할 수 없어서 window 객체가 undefined인지를 체크하는 코드가 있습니다. 여기서 문제가 있는데, withAuthRoute컴포넌트로 페이지를 감싸면 항상 nextjs hydration failed because the initial ui does not match what was rendered on the server에러가 발생합니다. 어떤 글 찾아보면 무시해도 되는 에러라고 하는데 로컬에서 너무 신경쓰여서 해결하고싶습니다... 혹시 이런에러 해결해보신 분 있으실까요?"
84,next.js,Next.Js (App router) access token 저장위치 및 전달,"Next.Js App router로 개발중입니다. fetch를 이용하여 요청을 보내는 로그인기능을 구현하였는데요. 로그인 성공시 서버로부터 내려받는 access token을 어디다 저장하는게 좋을까요? 다른 fetch 요청들의 header에 access token을 전달해주어야 하는데, 이걸 전달하려면 결국 전역저장하는 방법밖에 없지 않나요? axios를 사용하면 defaults.header로 해결할 수 있지만 Next.Js에서 fetch를 지향한다고 들어서 방법을 알고 싶습니다. ㅠㅠ server action을 사용하는 요청들도 있어서 localStorage같은 저장소에 저장하면 접근조차 안됩니다."
85,next.js,useSuspenseQuery의 SSR 요청,"안녕하세요, Next.js (v13-14), react-query (v5), page router 환경일 때, useSuspenseQuery와 Suspense를 사용했는데 찾아보니 useSuspenseQuery는 컴포넌트 렌더링 시점에 데이터를 로딩하도록 설계가 되어 있어서 Next.js에서 getStaticProps or getServerSideProps 함수를 사용하지 않아도 서버에서 api 요청이 보내지는게 맞을까요? 제가 테스트해보니 위의 가정 했던 것 처럼 동작하는것을 확인을 했지만 문서에서는 그런 내용을 찾을 수가 없어서 질문을 올려봅니다. 감사합니다!"
86,next.js,Next.js(13.4.0) 모든 페이지에서 토큰 유/무 판단하기,"현재 signup, signin, home, save, mypage 총 5개의 페이지가 있습니다. home, save, mypage에서 refresh-token의 존재 유/무에 따라서 signin 경로로 redirect 시키려고 합니다. 로그인을 하면 localStorage에 access-token 저장, browser cookie에 refresh-token이 저장됩니다. 로그인 후에 임의로 refresh-token 값을 지웠을 때, signin 경로로 redirect 시켜주기 위해 각 페이지에서 getServerSideProps를 사용하여 refresh-token의 존재 유/무를 판단하여 redirect를 시켜주고 있습니다. 현 상황처럼 각 페이지에서 인증을 처리하는 것이 아닌 모든 페이지에서 공통으로 인증을 처리하는 방법이 있는지 궁금하여 질문드립니다."
87,next.js,Nextjs app router middleware + token 여부에 따른 리다이렉트,"안녕하세요, next.js로 팀 프로젝트 진행 중 궁금한 것이 생겨 질문드립니다. next.js의 middleware.ts를 이용하여 모든 라우터에 접근할 때마다 유저 인증 토큰을 확인 후, 토큰이 없으면 /login 페이지로, 토큰이 있다면 원하는 페이지로 이동할 수 있도록 처리하길 원합니다. 유저 토큰은 로그인 시, access token을 body로 내려 받아 전역 utils 파일에 클래스 형태로 저장하고 있고, refresh token은 쿠키로 내려 받아 필요할 때마다 토큰 재발급 요청을 보낼 수 있도록 설계하고 있어요. 그런데 middleware.ts에서 전역으로 관리하는 토큰에 접근이 불가능한 것 같더라구요.. accessToken을 쿠키로 관리하지 않으면 미들웨어에서 토큰에 접근하는 방법이 아예 없는 것일까요? 아니면 제가 뭔가 단단히 착각하고 있는 것이라면 도움을 요청하고 싶습니다! 감사합니다🙇‍♂️"
88,next.js,nextjs typescript 실용성,"저는 원래 백엔드 개발자인데 현재 이직한곳에서 사정상 프론트 서버를 공부하면서 하나 올리게 되었습니다. 공부하면서 개발 진행중인데 잘 이해되지 않는 부분이 있어서 여쭤 봅니다. 기술 스펙은 프론트 nextjs typescript, 백엔드 springboot gradle입니다. 1. 폴더로 라우팅하는게 편해보여서 nextjs로 선택했는데 합리적인가요?? 현재는 nextjs api는 사용계획 없습니다. 2. js 보다는 그래도 미래지향적인 ts를 선택했는데 뭔가 개발하다보니 괜히 사용중인 기술에 비해 오바했다는 생각이 좀 듭니다. 쭉 진행해도 괜찮을까요?? 지금이라도 js react로 바꿔야 할지 제가 프론트적 지식이 많이 부족하여 자문을 좀 구합니다. 감사합니다."
89,next.js,Next.js 클라이언트 컴포넌트에서 api 요청 시 보안 문제?,"Next.js에서 클라이언트 컴포넌트에 사용하는 환경 변수에 NEXT_PUBLIC을 붙여줘야하는 것으로 압니다. 제가 프로젝트에서 api 키를 포함해 클라이언트 컴포넌트에서 fetch 요청을 보내야하는 상황이라(리액트 쿼리 사용 중), 해당 api키에 위와 같은 변수를 붙여주었습니다. 그런데 해당 방법이 안전한걸까요? 전에 chatGPT에서는 NEXT_PUBLIC을 붙이는 환경 변수에는 api 키와 같은 보안에 중요한 변수는 넣지 않는게 좋다고 하더라고요.... 이 말이 사실인건가요? 그렇다면 그 이유가 궁금합니다.. + Next.js에서 리액트 쿼리를 사용하고 있는데 리액트 쿼리를 사용하는 곳은 클라이언트 컴포넌트여야 정상적으로 작동하더라고요.. 만약 api 키가 포함된 요청을 클라이언트 컴포넌트에서 사용하는 것이 보안에 좋지 않다면, 어떤 방법을 써서 api 요청을 보내야할까요? Next.js의 api 라우트를 만들어 요청하는게 맞는건가요? 개발에 대해 잘 몰라 질문이 깔끔하지 않습니다만.. 혹시 아는 분 계시면 도와주세요 😭❕"
90,next.js,Next.js i18n 다국어 시 getServerSideProps 사용 문제,"안녕하세요 Next.js를 통해 프로젝트를 진행하고있는데 궁금증이 생겨서 질문남깁니다 ! i18n 라이브러리를 통해 다국어를 진행하고있는데 getStaticProps를 쓰고있습니다.. getStaticProps는 getServerSideProps랑 같이 사용 못하는 것으로 알고있는데 페이지마다 다국어가 들어가는 상황에서 get api 호출을 어떻게 진행해야할까요? (거의 모든 호출이 query나 param이 있는 동적인 데이터입니다…) 1. CSR형태로 페이지내에서 진행 2. 다국어또한 getServerSideProps로 진행 3. getStaticPath로 ISR형태로 revalidate를 짧게 진행해서 getStaticPaths가 없이 fallback “true”, “blocking” 형태로 진행 또 추가로 4. fallback “true”와 “blocking” 때의 각각의 장단점이 궁금합니다….! (똑같아보여서…😭) 질문이 길지만 너무 감사합니다😂"
91,next.js,TailwindCSS가 Next.js Pre-Rendering 에서 동작하지 않아요,Next.js 13.4 에 App directory 를 사용 중입니다. Pre Rendering 된 결과물에서 보면 TailwindCSS 가 적용되어있지 않네요. 원래 동작이 이런건지? 아니면 별도의 설정 방법이 있는건지 궁금합니다. https://shubhamverma.me/blog/server-side-rendering-of-tailwind-css-styles-in-next-js 이 방식을 사용해봤는데 되지 않네요 ㅜ
92,next.js,next js 14 react query,"next js 14에서 react query를 사용해보고 있는데 QueryClient를 세팅하고 useMutation를 사용했는데 ""No QueryClient set, use QueryClientProvider to set one""라고 오류가 떠서 어떻게 하면 고칠수 있는지 궁금합니다 query-provider.tsx 부분입니다"
93,next.js,NextJS 14 project 시작 단계에서 에러가 발생했어요... 최대한 빠른 답변 부탁드립니다.,npx create-next-app 라는 명령어로 프로젝트를 시작했는데요. 아무것도 건들이지 않은 상태에서 app/layout.tsx 파일을 클릭했는데 맨 위에 에러가 발생해져 있더라구요.. 내용을 보니깐 Parsing error: __classPrivateFieldGet(...).at is not a function eslint 이런 에러가 있고 해당 에러가 tailwindcss.config.ts 파일 맨 윗줄에도 발생해져 있습니다. 어떻게 해야하는 건가요..?
94,next.js,Next.js 로 Spring과 웹소켓 통신이 가능한가요?,"next.js와 spring으로 데이팅앱을 개발중이라 실시간 1:1 채팅 기능을 구현하고 있습니다. 저는 프론트엔드 개발자이고, next.js를 사용중인데 사정이 있어서 클라이언트 사이드에서 fetching을 해오고 있습니다. 그런데 스프링과 통신 설정을 했는데도 connection, send까지는 되는데 subscribe가 안되고 있는지 메시지를 받는게 안되고 있습니다. next.js에서 스프링과 stompjs, sockjs를 통해 실시간 채팅을 구현하는게 불가능한가요?"
95,next.js,Next.js 에러 핸들링,"Next.js 에러 핸들링을 위해 루트에 error.tsx파일을 생성했습니다. 특정페이지에서 서버 컴포넌트를 만든 후 `throw new Error` 를 통해 에러 발생시 위에서 생성했던 에러페이지(root/error.tsx)로 대체됩니다. 그러나 클라이언트 컴포넌트(""use client"")에서 테스트 하기위해, button태그의 onClick을 통해 `throw new Error`를 실행시켰습니다. 이때 콘솔에만 출력되고 따로 에러페이지로 대체 되진않았습니다. 클라이언트 컴포넌트에선 해당 동작을 통해서는 에러페이지로 대체되는 핸들링이 되지않는걸까요?? Next: v14"
96,next.js,Next.js TDD 어떻게 하고 계신가요?,"안녕하세요! 전 직장까지는 AI 서비스기획/개발을 주로 하였으나, 현재 이직 후에는 Next.js를 활용한 프론트를 주로 개발하고 있는데요..! 그러다보니 Next.js(+TypeScript) 프론트 작업시, TDD 트렌드에 대해 잘 몰라 질문드리고자 이렇게 투표를 만들어보게 됐습니다. :D 각 회사/본인의 팀에서는 TDD를 어떻게 적용하고 계신지(Unit Test / 통합테스트) 감사하겠습니다.🙏 의견으로 상세히 설명해주시면 더더더더 감사합니다.😇 npm trends를 조회해보기도 했지만, 이미 시장 장악력의 의한 수치이거나 이미 CRA시 자동으로 들어가 있는 Jest와 같이 사용하지도 않는데 다운만되는 경우가 모두 포함된 경우라고 생각하니 진정한 의미에서의 Trend라고는 생각이 안되더라구요. 커리어리를 통해 함께 TDD Trends를 알아갈 수 있도록 함께해주시면 정말정말 감사하겠습니다 :)! 중복 투표 기능도 없고, 5개 이상 보기를 만들 수 없어서 ㅠㅜ 투표 기능이 참 아쉽습니다만.. 그래도 한 번 의견 주시면 감사하겠습니다! (커리어리 개발자님들 투표기능 업그레이드 부탁드려요!)"
97,next.js,nextjs 전역 상태관리 질문,"안녕하세요 nextjs(App router 사용)로 프로젝트를 진행하고 있는데, 전역상태를 정의하기 위해서 zustand를 사용하려고 하고 생각중입니다. 전역 상태를 정의하기 위해서는 1. 가장 root가 되는 layout.tsx에 provider를 불러와 감싸주어, 전역적으로 참조할 수 있도록 하는 것 2. persist middleware을 사용해서 LocalStorage에 저장하는 방식으로 상태를 관리하는 것 이 정도 두 가지가 있는 것 같은데, 질문은 1. 만약 1번 방법을 사용한다면 client component로 선언한 custom provider로 자식 컴포넌트를 감싸게 될텐데, 그러면 상태가 변경됨에 따라 하위 컴포넌트들(server, client 상관없이)이 모두 리렌더링 되는 것인가요? 만약 그렇게 된다면 SSR의 의미가 사라지는 것 아닌가요? 2. 일반적으로 nextjs에서는 전역 상태를 어떤 식으로 관리하나요? 입니다. 감사합니다!"
98,next.js,next.js에서 Link tag에는 className을 사용할 수 없나요?,next.js에 내장되어 있는 Link태그를 사용하고 있습니다. Link tag에 className을 사용하면 Property 'className' does not exist on type 'IntrinsicAttributes & LinkProps & { children?: ReactNode; }'. 이런 에러가 뜹니다. 해결방법이 있을까요?
99,next.js,Nextjs dev mode에서 실시간으로 ESLint 경고를 띄울순 없나요?,현재 Nextjs 14.1.0 버전으로 스토리북까지 포함한 템플릿 프로젝트를 만드려고 합니다. Nextjs 프로젝트는 처음인데 이전에 리액트 기반으로 했을땐 dev 모드에서 eslint warning이 실시간으로 보였는데 next에서는 보이지가 않네용.. npm run lint로 확인하는 것 말고 실시간으로 확인할 순 없을까요?
100,next.js,선배님들께 입사 한 달 차 프론트 커리어 고민상담 받고싶습니다.,"안녕하세요. 저는 입사 이제 한 달 차가 되어가는 신입 프론트엔드 개발자 입니다. 저는 개발을 좋아하고 관심이 많아서 작년 12월부터 프론트 공부를 시작하게 됐습니다. 그리고 운이 좋게 6월에 취업을 하게 되었습니다. 프론트엔드 개발을 하면서 js, ts, next.js, react-query, redux, zustand등 배워야할 게 정말 많았습니다. 그래서 프로젝트를 하면서 얕게나봐 최신 기술을 많이 공부해봤습니다. 하지만 제가 취업한 회사에서는 하드웨어 기술적 제약때문에 최신 기술을 사용하지 못하고 사용적인 제한이 굉장히 많아서 커리어적으로 성장을 할 수 있을지 고민이 많이 됩니다. 물론 아직 부족하기 때문에 배울 것이 많다는 것을 알지만 요즘 it회사들을 보면 회사 기술 사용 스택을 보면 ts, react-query, next.js, storybook 등 트랜디한 기술을 많이 사용하는 것 같습니다. 경력 없는 신입 취업도 요즘 힘들고 해서 경력을 쌓고 이직을 해야하나 생각을 하고 있는데 최소 1년을 경력을 쌓으려고 생각을 하고 있습니다. 제가 목표로 하는 회사의 기술 스택을 봤는데 ts, react-query, next.js, zustand, emotion 등을 쓰고 있더라고요. 하지만 개발을 하다보면 js공부가 핵심이고 많이 부족하구나를 많이 느낍니다.. 신입 이직을 할 때 중요한 점이 무엇인지 궁금합니다. 3년차 미만이면 코딩테스트를 준비해야할 수도 있다고 하는데 알고리즘 공부를 꾸준히 하는 것이 중요할까요?? 그리고 저런 기술들을 사용한 사이드 프로젝트를 얼마나 해야할까요?? 혹자는 하나만 프로젝트 제대로 해도 면접에서 말하기 부족하다고 하는데, 요즘 취업 준비생들의 스펙을 보면 프로젝트도 많이하고 하는 것 같아서 궁금합니다.. 그리고 선배님들 성장 비결은 무엇인지 무엇으로 공부를 많이 하는지도 궁금합니다. 요즘 저는 깃허브에서 완성된 프로젝트 코드를 보면서 공부를 좀 해보고 있는데 괜찮을까요?? 적다보니 두서없이 적었는데 읽어주셔서 감사합니다. 커리어적 조언과 신입 이직을 위해서 무엇을 준비해야하는지 어떻게 하면 이런 상황에서 성장을 할 수 있는지 궁금합니다..!! 욕심은 많은데 부족함을 많이 느껴서 이렇게 글 적어봅니다.."
101,next.js,Next.JS generateMetadata에서 fetch를 한번 진행하면 prefetch를 하지 않아도 되는건가요?,"Next.JS generateMetadata에서 fetch를 한번 진행하면 prefetch를 하지 않아도 되는건지 궁금합니다. 현재는 사진과 같은 코드처럼 사용하고 있는데, 문득 generateMetadata가 실행될 때 한번 fetching이 이루어지기 때문에 컴포넌트단에서 prefetch를 시켜주지 않아도 된다고 생각했는데, 맞을까요?"
102,next.js,[React vs Next.js 장점과 단점] React와 Next.js중 프로젝트 메인 스택을 선택하는 기준이 무엇일까요?,"안녕하세요, 회사에서 새로운 프로젝트를 만드려고 합니다. 지금 사용하고 있는 서비스를 관리하는 어드민 프로젝트이고 서비스는 Next.js로 만들어져 있습니다. 같이 협업하는 동료는 React에 익숙하지만 Next.js에 익숙하지 않아서 새로운 프로젝트를 Next.js로 시작할지 React로 시작할지 고민입니다. 둘중 고를때 어떤 기준으로 프로젝트를 시작하면 좋을까요? React와 Next.js 장점과 단점 간단히 알려주시면 프로젝트 선택에 큰 도움이 될 것 같습니다. 감사합니다."
103,next.js,Next.js에서 클라이언트 컴포넌트와 서버 컴포넌트의 axios interceptor 동기화,"안녕하세요 Next.js 13버전 page router방식으로 개발중입니다. 클라이언트 컴포넌트와 서버 컴포넌트에서의 통신을 위해 각각 axios interceptor를 구현했습니다. 각각 store와 cookie에서 accesstoken값을 헤더에 넣어주는 역할을 하고 있는데 문제가 되는 부분은 토큰 만료 이후 갱신하는 부분입니다. interceptor가 두개이다보니 처음에는 서로 동일한 토큰응 가지고 있지만, 만약 클라이언트 컴포넌트에서 요청시 토큰이 만료되면 갱신하는 요청을 보내고, 서버 컴포넌트에서 요청시 만료되면 갱신하기 때문에 서로 일치하지 않는, 유효한 토큰이 두개가 되는 상황입니다. 현재 서버에서는 유효한 토큰이 하나만 존재하도록 설계를 해놓진 않아서 작동하는데 문제는 없지만 많이 찝찝하네요. 혹시 좋은 방안이 있을까요? 혹은 비슷하게 구현하신 분들의 상황을 공유 받을 수 있을까요?"
104,next.js,next js middleware 사용시 404페이지 에러문제,"안녕하세요, next js middleware를 사용해 라우팅 제어를 하고있습니다. 허나 404에러 페이지 테스트를 위해 아무 경로를 입력하고 들어가니 아래와 같은 에러를 발생시키더군요, 구글 검색결과 현재까지 수정되지 않은 버그인듯 합니다만,, middleware파일을 삭제하면 에러가 발생하지 않습니다. 혹시 아래와 같은 버그를 해결해보신분 계신가요? next 버전은 13.1 입니다. 이미지가 화질이 안좋은데 Unhandled Runtime Error Error: Invariant: attempted to hard navigate to the same URL /dashboard/customdashboard http://localhost:3000/dashboard/customdashboard 에러입니다."
105,next.js,Next.js 이미지 최적화 방식에 대해 질문이 있습니다.,"안녕하세요! Next.js 14를 사용해 프로젝트를 진행하던 중 이미지 최적화에 관해 궁금한 점이 생겨서 이 곳에 질문을 남깁니다. 프로젝트를 하며 약 500개의 이미지를 랜덤으로 추천해서 렌더링하는 기능을 구현했습니다. 현재 작업 방식은 프로젝트에서 페이지에서 이미지를 업로드 하는 기능은 필요가 없기에 MongoDB에 이미지 'URL'을 모두 저장하고 클라이언트에서 서버로 요청하면 서버에서 DB에 있는 URL을 리턴해주면 그걸 <img> 태그를 이용해서 화면에 띄우는 방식으로 구현했습니다. 하지만, 이렇게 구현하니 이미지 렌더링 속도가 조금 늦는 현상이 발생해 이를 최적화하고 싶습니다. 제가 생각했던 방법들은 다음과 같은데 어떤 방법이 좋은지, 혹은 더 나은 방법이 있는지 아시는 분이 있으면 추천해주시면 감사하겠습니다. 1. 이미지를 모두 다운받아 public 폴더에 넣고 Next/Image를 사용한다. -> 이 방법을 하려니 사진이 500개가 되고 사진마다 png,jpg 형식도 달라서 적용하는 것도 어려울 것 같고 무엇보다도 프로젝트 파일 사이즈가 커지는게 문제가 될 것 같다는 생각을 했습니다. 만약 사진이 500개가 아니라 1000개 2000개가 된다면 더더욱 그럴 것 같아서요. 이 부분에서 추가로 생각해본 방식이 파일 형식을 모두 avif로 바꾸는건데 그런 접근도 괜찮은건가요? 2. 서버에서 URL 넘어온 그대로 Next/image를 사용한다. -> 모든 파일의 url 형식이 달라서 일일이 next.config.ts에서 설정해주는 게 쉽지않을 것 같다고 생각했습니다. 그래서 모든 파일을 AWS S3에 올려놓으면 URL 주소가 같을테니 그렇게 하는 게 맞는지 궁금했습니다. 아직 제 지식이 짧아서 생각해본 방식은 위와 같은데, 추가로 좀 더 좋은 방식이나 현업에서 사용하는 방식이 있다면 알려주시면 감사하겠습니다. 긴 글 읽어주셔서 감사합니다!!!"
106,next.js,Next JS 14 쿠키 관련 질문입니다.,"현재 NextJS 14 버전을 사용 중에 있으며 App Router로 폴더 구성을 하고 로그인 작업을 진행 중에 있으며, 로그인 프로세스는 다음과 같습니다. 1. 프론트엔드 : 사용자가 로그인 버튼 클릭 2. 디스코드 서비스에서 인증 (디스코드 페이지로 이동) 3. 백엔드 서버로 인증코드 전송 4. 백엔드 서버에서 프론트엔드로 리다이렉트 (이 때 쿠키로 엑세스 토큰과 같은 정보를 보내줌) 쿠키 설정도 https에 백엔드랑 같은 도메인으로 맞춰 줬습니다. 여기서 1~4번까지 에러 없이 잘 동작하고, 쿠키도 브라우저에 잘 저장되고 있습니다. 근데 여기서 한 가지 문제가 발생했는데, Nexjs가 서버 사이드 컴포넌트(layout) 에서는 쿠키를 잘 불러오고 있지만 클라이언트 사이드 컴포넌트(page) 에서는 쿠키를 불러올 수 없었습니다. (undefined) 현재 클라이언트 사이드 컴포넌트에는 최 상위에 'use client' 를 붙혀 잘 사용하고 있고, cookies-next 라는 라이브러리로 불러오고 있습니다. 어떤 것이 문제일까요? 문제의 원인과 해결 방법을 알고 싶습니다."
107,next.js,Intercepting Routes로 만든 modal에 데이터를 어떻게 전달하는게 좋을까요?,"Nextjs 14 app router를 사용하고 있습니다. Intercepting Routes와 Parallel Routes를 이용해서 Modal을 불러오고 있습니다. Modal에 진입할때 <Link href={""modal주소""} />를 클릭해서 진입을 하고 있습니다. 이때, Modal에서 Server에 HTTP GET 요청을 보내야하는데, username이나 userpost같은 데이터를 필요로합니다. 저는 <Link href={{pathname:""모달주소"",query:{key:value}}}>이렇게 query로 전달하는 방식을 사용하고 있습니다. 하지만, 찾다보니 왠만한 정보는 query로 전달하는 것을 지양하는 것이 좋다해서 무슨 방법으로 전달해야할까 고민입니다. 어떤 방법으로 전달하는것이 가장 좋을까요?"
108,next.js,next.js 다국어 지원 어떤식으로 구현하시나요?,"안녕하세요, next.js로 여러가지 언어를 지원하는 웹사이트를 만드려고 합니다. 주로 react-i18next또는 next-i18next을 사용해서 라우팅을 변경하는 것으로 구현 하는 것 같은데요. next.js에서는 주로 어떤 라이브러리를 사용하나요? 그리고 다국어 json 폴더 구조를 어떤식으로 잡으시나요 next.js로 다국어 지원 구현해보신 선배님들의 조언을 얻고싶습니다. 감사합니다!"
109,next.js,프론트엔드 개발자 취업 질문입니다.,안녕하세요. 프론트엔드 취업 준비생입니다. 현재 html css javascript react를 공부를 하고 프로젝트 하나를 제작한 상태입니다. 요즘은 next.js를 배우는게 경쟁력이 있다는데 next.js 강의를 듣다보니 node.js는 공부를 해본적이 없는데 node.js에 대해서도 강의를 하더라구요. 제가 묻고싶은건! node.js를 공부하고 next.js 공부를 해야할지.. 아니면 next.js 공부를 현재는 하지말고 es6 typescript를 공부를 하고 이력서를 넣어야 할지 모르겠습니다.. 현재로써는 취업이 너무 급한 상황입니다. 어디 물어볼 곳이 없어서 여기에 글을 남깁니다.
110,next.js,신입 프론트엔드 개발자 이력서 피드백과 공부 방향성에 대해 질문드리고 싶습니다!,"안녕하세요! 현재 부트캠프에서 공부중인 프론트엔드 개발지망생입니다! 현재 여러 회사에 이력서를 제출하였으나 아쉬운 소식만 들리고있습니다 이력서에 대해 많이 고민을 하고 수정을 거치고있으나, 현직 선배분들의 입장에서 어떠한 부분을 수정 하면 좋을지에 대해 알려주시면 너무 감사할 것 같습니다! 아래는 제 이력서 주소입니다! https://hallowed-amethyst-e04.notion.site/a18c3f5f74244a2982d58e8a781a1e41 두 번째로는 앞으로의 공부 방향성에 대해 여쭙고 싶습니다. 현재 공부하려는 목표는 총 네 가지입니다. 1. 최근 프로젝트를 리팩토링하기 최근 프로젝트가 기한내의 완성에 신경을 쓰다보니 컴포넌트와 비즈니스 로직 분리부분에 아쉬운 부분이 많이 있는 것 같습니다. 또 리팩토링을 통해 최근에 공부하고있는 테스트코드와 최적화 부분을 연습할 수 있는 좋은 기회라 생각하여 목표로 하고있습니다 2. 순수 Js로 프레임워크 만들어보기 Js에 대한 이해도를 올리기 위해 직접 간단한 리액트와 같은 프레임워크를 만들어보는 작업을 해보면 어떨까 생각했습니다. 특히 자바스크립트에서 어려운 개념 (클로저, 클래스) 등을 실제로 사용하면서 이해도가 높아 질 수 있을 기회가 아닐까 합니다 3. Next js 공부 심화 Next js에 관한 간단한 프로젝트는 진행한 경험이 있지만 이해도가 부족하다 생각하여 추가적인 공부를 계획중입니다. 최근 채용 공고에서 대부분의 회사가 Next js를 사용하는 것을 보아 중요성을 깨닫고있습니다 4. 실제 이용자가 있는 앱 만들어보기 부트캠프 내의 프로젝트다보니 특정 기한이 끝나면 서버가 닫혀서 직접 보여줄 서비스가 없던 것이 아쉬웠습니다. 또 이용자의 진실한 피드백과 이용자가 있는 서비스를 만들다보면 더 열정이 생겨서 프로젝트를 깊게 수행 하지 않을까라는 생각도 들었습니다. 이용자의 접근성을 높이기 위해 리액트 네이티브를 추가적으로 공부해서 앱형식으로 서비스를 만들어 보려합니다 총 네가지의 목표를 잡고있는데, 우선순위를 어떻게 두면 좋을지가 고민입니다. 이 외에도 선배님들께서 이러한 부분을 신입이 알면 좋겠고, 공부하면 좋겠다 하는 부분이 있으시다면 말씀해주시면 감사하겠습니다! 글이 길어졌는데 읽어주셔서 감사합니다!"
111,next.js,nextJS 에서 안전하게 token 처리하기,nextjs에서 nextAuth 쓰지않고 안전하게 token 처리하는 완벽한 예시가 있는지 알고싶습니다. 사이드 프로젝트중에 여러 시도를 해봤는데 정답을 못찾겠습니다. 일단 axios 인터셉트로 ssr이나 csr이나 모두 토큰을 헤더에 담아서 보내는 것을 목표로 하고 있습니다. 1. 상태관리 라이브러리를 사용한다. 당연히 ssr 환경에서는 불가하니 탈락 2. 그냥 쿠키를 사용한다 보안 문제가 있으니 탈락. 3. http only 쿠키를 사용한다. csr 환경에서 접근할 수 없으니 탈락. 대안으로 생각해본 방법들은 1. 모든 api를 server action을 랩핑해서 미들웨어처럼 사용하고 http only 쿠키 이용하기 2. 쿠키와 상태관리 모두 값을 넣어두고 두가지 다 관리하면서 서버와 클라이언트 컴포넌트에서 각각 제어하기 하지만 두가지 방법은 너무 번거롭고 버그 양산일 것 같습니다. 많은 분들께 여쭤봤을 때는 그냥 쿠키를 사용하고 보안은 어느정도 포기한다는데 다른 방법이 있을까요?
112,next.js,"프로젝트 기술을 선택할 때, 폴더 라우팅같은 장점들 때문에 ssr을 사용하지 않고 Next를 이용하는 것이 타당한 이유가 될까요?","<프로젝트에 대한 설명을 간단히 드리자면...> 동아리 프로젝트입니다. 학교 학우들을 대상으로 하는 고정 타겟층이기에, ssr을 통해 SEO를 높일 필요가 없고, 서비스 크기가 작은 서비스를 만들려합니다.(앱 내의 웹뷰로만 이용자가 접근 가능하게 하려합니다.) <next를 선택한 이유는 아래와 같습니다.> 1. 이미지 최적화와 같은 자동 최적화 기능과 폴더 구조를 통한 직관적 라우팅 등의 이유 (인터렉션이 많아서 서버 컴포넌트보단 클라이언트 컴포넌트의 사용 비중이 더 높을 것 같습니다.) 2. 채용 공고에서 기업들의 next.js 사용 경험에 대한 선호도 (많은 기업들이 next에 대한 경험을 이력에 요구하기 때문에, 괜스레 next를 실제 서비스에서 한 번쯤을 활용해봐야 하는것은 아닌가 조바심도 듭니다.) <제가 고민하는 부분은...> next를 사용하는 가장 큰 이점은 ssr이라고 생각이 됩니다. 선택한 기술의 가장 큰 이점을 사용하지 않고 다른 이점들을 이유로 기술을 선택했다라는게 이력서를 확인한 면접관 입장에서 과연 수긍할 수 있는 부분일까 의문이 듭니다. 개발을 시작한지 2년이 채 안되가기에, 기술 선택에 있어 확신이 없는 것 같습니다. 현업자 분들의 조언이 정말 큰 도움이 될 것 같습니다!"
113,next.js,프로젝트 메인스택 선정 기준(react vs next.js),"안녕하세요. 입사 7개월차인 주니어 프론트엔드 개발자입니다. 사수가 없는 작은 스타트업에서 일하고 있는데, 이번에 새로운 프로젝트가 들어가면서 메인스택을 어떻게 해야하는지 고민이 됩니다. 1. 채팅 기능이 메인 2. 장기적으로 추가 기능 계속 들어갈 계획 nextjs가 csr ssr 모두 확장성이 있다는 생각이 들어서 reactjs 혹은 nextjs로 스택을 분리해서 기술스택을 선정한다는게 의미가 없어보이는데, 그러면 매번 프로젝트 할 때마다 nextjs면 만사해결! 이라는 느낌이 들어서요. 다른 분들은 메인스택을 어떻게 선정하시나요?"
114,next.js,react create-react-app(CRA)에서 네트워크탭 API KEY숨기는법,react CRA로 프로젝트 개발하고있습니다. .env파일에 api를 넣어서 process.env.REACT_APP_APIKEY 이런식으로 사용하고 있는데 네트워크탭에서 authorization header에 key 정보가 다 보이네요. 이걸 숨기는방법에 대해서 찾아보니 next.js를 많이 사용하는것같습니다. rewrite정의하고 해당 route호출해서 한번 감싸주는 방식인것같은데 next.js사용하지않고 react CRA 에서만 해결할수있을 방법은 없을까요?? 찾아보면 다 Next.js사용하는 방법 뿐이네요.
115,next.js,SSR을 사용하지 않는 next.js 앱의 장점은 뭐가 있나요?,SSR을 사용해 next.js 앱을 만들었는데 서버 컴포넌트쪽 인증을 처리하지 못해 전체 앱을 CSR로 전환하자는 의견이 나왔습니다. SEO도 필요하지 않은 앱이라 SSR을 사용하지 않으면 라우팅을 제외하곤 next.js의 어떤 장점을 살릴 수 있는지 잘 모르겠습니다. SSR을 적용한 컴포넌트를 CSR로 전환할바에 앱을 리액트로 변환하는게 프론트 서버를 신경써야하는 단점도 없어질 것 같고 시간도 비슷할거 같아서요. 추가적으로 only CSR로 next.js 사용하시는 분도 계실까요?
116,next.js,nextjs s3 배포시 url창에 직접 라우트 입력,안녕하세요 이번에 처음으로 nextjs를 사용해서 개발 및 배포를 진행한 신입개발자입니다! 본론으로 들어가자면 로컬환경에서는 localhost:3000/signup 을 주소창에 직접 입력해서 들어가도 해당화면이 보였다면 배포환경에서 signup버튼을 이용해 라우트하는것이 아닌 사이트주소/signup을 주소창에 직접 입력하면 해당 화면으로 들어가지지 않았습니다. s3에서는 index.html 이외에 모든 html은 화면으로 인식하지 않아 발생하는 s3의 문제라고 들었는데 그렇다면 nextjs로 빌드한 index.html 이외의 html 파일들은 단지 SEO를 위한 파일들 이라고 생각하면 되는걸까요? 아니면 SSR 을 위해서 랜더시에 해당 html파일을 사용하는건가요..?
117,next.js,[next.js] 서버사이드 렌더링을 하는 페이지에서 Swiper.js 컴포넌트를 사용하면 스타일이 깨집니다.,"안녕하세요 next.js에서 Swiper.js 라이브러리를 사용할 때 발생하는 이슈 관련해서 도움을 받고자 질문드립니다. SSR 페이지에서 Swiper 컴포넌트를 사용하면 아래와 같은 에러가 나오면서 스타일이 깨지는 이슈가 있습니다. Warning: Extra attributes from the server: style 해당 이슈를 해결하기 위해 dynamic import로 Swiper를 사용하는 컴포넌트를 감싸고 SSR:false를 적용했는데요. 이렇게 하면 스타일 이슈는 해결되지만, 해당 컴포넌트가 서버렌더링 되는 html에 포함되지 않아 SEO 이슈가 있을까 걱정됩니다. 혹시 이런 에러를 겪어본 분이 있을까요? 좋은 해결책이나 원인을 아는분들 답변 부탁드립니다! 감사합니다."
118,next.js,Next.js에서 모든 컴포넌트를 dynamic import하는건 별로인가요?,"안녕하세요. Next.js page router 방식으로 프로젝트 진행 중 질문이 있어 글 남깁니다. 현재 프로젝트의 크기가 커져서 최적화 작업을 진행중에 컴포넌트의 import 방식을 정적에서 동적으로 바꾸어 주려고 합니다. 그런데 만약 A 컴포넌트를 X컴포넌트에서 dynamic으로 import하고, Y컴포넌트에서는 정적으로 import하면 그만큼 중복된 코드를 불러온다고 이해하고 있는데, 그럼 프로젝트에서 사용되는 컴포넌트 중 2개 이상의 컴포넌트에서 사용되는 것들은 모두 dynamic import로 선언 해주어야 하나요? 만약 그렇다면 모든 파일에 import문을 dynamic으로 바꾸어 주어야 하나요 아니면 next.config.js에서 일괄적으로 설정하는 방법이 존재하나요?"
119,next.js,"Nextjs, 비용차이 많이 날까요?","안녕하세요 그냥 제 주변인이나 학우 대상으로 플젝 조그만하게 만드는 사람입니다 새 프로젝트를 nextjs로 가다보니 단순 호기심이에요 지금까지 프로젝트는 csr 방식으로 제작해 배포했고 비용은 0원나왔어요(트래픽이 많이 발생한 것도 아니고ㅋㄷ) 이번 플젝은 nextjs approuter을 사용하지만(ssr) client component만을 사용할 것이고 server side에서 Fetching하지 않을 계획이에요 실제 트래픽이 유의미하게 발생해야하고, 배포 플랫폼(버셀, aws)에 따라 다르지만 여러분들의 사례를 대충 알려주신다면 제 궁금증이 해소될 것입니다"
120,next.js,"Next.js나 Express.js , nest.js 현업에서 초기 개발 환경 세팅을 어떻게하는지 궁금합니다.",저 같은 경우엔 create-next-app 같은 명령어들로 개발환경을 세팅하고 개발을 시작하는데 회사 현업에서도 create-next-app 같은 명령어로 환경을 세팅하는지 아니면 회사 깃허브에 있는 next boilerplate 레포를 받아와서 세팅하는지 궁금합니다
121,next.js,Nextjs proxy 백엔드협업 질문드립니다.,"현재 nextjs config 를 통해 rewrites 함수를통해 proxy를 설정하여 cors를해결하여 백엔드와 통신하고있습니다. 그러나 CHAT/8 이라는 특정페이지에 접속하면 whitelabel error 가 발생합니다. 이런경우 어떻게 해야할까요..? 갈피를 전혀잡지못하겠습니다. 해당에러는 api를 이상한주소로 요청하면 스프링에서 내뱉는 에러라고 알고있는데... ㅠㅠ async rewrites() { return [ { source: '/:path*', destination: `백엔드api주소/:path*`, }, ]; }, 이렇게 config가 설정되어있습니다.. 원인이 백엔드주소/chat/8 이렇게 요청을보냈는데 백엔드에는 없는api여서 내뱉는 에러인걸까요? 그렇다면 프론트쪽에선 채팅방ID를 chat?id=8 이런식으로 url라우팅을 바꿔야 하는걸까요?"
122,next.js,개발 공부를 어떻게 하는게 좋을까요? (feat. 프로젝트),"얼마 전 Next.js로 개인 프로젝트를 진행했습니다. 그런데 프로젝트를 진행해보며 제가 어떤 방식으로 개발 공부 뱡향성을 잡아야하는지 혼란스러워 질문드립니다 ,, 🙏 처음 Next.js 쓸 때는 복붙 ,, 같은 기능도 복붙해서 파일 여러 개 만들기를 하고, 서버 컴포넌트와 클라이언트 컴포넌트에 대해 잘 알지 못한채로 프로젝트를 했었습니다. (+ 상태관리나 ,, 이런 것도 아예 모르고 개발했었습니다 ,,) 이번에 제대로 공부해서 기능을 구현해보고 싶어 다시 시작해서 완성했습니다. 그런데 제가 작성한 코드를 다 이해하며 작성했지만, **제가 작성한 코드가 좋은 코드인지? 에 대한 의문이 생겼습니다.** 그래서 팀 프로젝트도 참여해보며 같은 프론트 팀원 분의 코드를 확인해보며 좋아보이는 부분은 참고도 했지만, 이 방법도 한계가 있었습니다. 더 잘해보고 싶어 빨리 보여져야하는 이미지는 이미지를 미리 로드한다거나, next/image로 이미지 최적화를 하고 최대한 코드 중복을 줄이고자 공통 컴포넌트들을 만들기 위해 노력하긴 했었습니다. (나중에 스토리북 이라는 라이브러리를 알게되어 이걸 사용해보지 못한게 아쉽긴 했습니다.) 그래도 많이 부족한거 같아 어떻게 더 나은 개발을 해야할지 잘 모르겠습니다 ,, 첫 프로젝트에서는 부트스트랩 외에는 사용해보지 않아 이번에 제대로 다양한 기술을 써보고자 시도도 해보았습니다. (> 서버 상태 관리를 위해 tansack query도 사용해보고 클라이언트 상태 관리를 위해 recoil을 사용하고, 스타일링에는 css in js가 궁금해 styled components, 직접 어느정도 깔끔한 디자인을 하고싶어 피그마 툴을 이용해보았습니다. 소셜 로그인도 넣어보고 몽고 db 사용하며 데이터베이스도 연결해보았는데 ,, 막상 완성하고 나니 제가 많이 부족하다는 생각이 들었습니다.) 🤔 제가 작성한 코드가 좋은 코드인지 ,, 더 나은 성능을 위해 어떤 개발을 하면 좋은지와 같은 부분은 제가 어떻게 학습하는게 가장 좋은 방법일까요? 또한 어떤 것을 더 배워서 적용해보는게 좋을까요? ,, (제가 생각했을 때 프로젝트를 완성은 했지만, 제 프로젝트의 매력적인 점이 없는거 같아 너무 아쉬운거 같습니다.)"
123,next.js,Next.js 13 fast refresh가 작동하질 않습니다..,"현재 Next.js13 프로젝트를 Pages Router에서 App Router로 마이그레이션 한 이후로 클라이언트 컴포넌트에서만 fast refresh (hot reload)가 작동하지 않습니다. 신기한 건 서버 컴포넌트의 값을 바꾸고 저장하면 바로바로 fast refresh가 된다는 점입니다. 하지만 클라이언트 컴포넌트는 값을 바꿔 저장해도 fast refresh가 되지 않거나 여러번 저장하면 가끔씩 그냥 페이지가 새로고침이 되며 수정값이 적용됩니다. 혹시나 Next 버전 문제인가 싶어 같은 버전(최신버전입니다.)으로 새로운 프로젝트를 생성해 클라이언트 컴포넌트를 수정해 본 결과, 문제없이 fast refresh가 작동했습니다. 구글링을 해봐도 일부 프로젝트의 클라이언트 컴포넌트에서만 fast refresh가 작동하지 않는 경우는 저밖에 없는 것 같습니다.. 도와주세요!"
124,next.js,스타트업 프론트엔드 1년차 이직 고민,"안녕하세요 스타트업에 다니고 있는 프론트엔드 1년차 개발자입니다 최대한 빨리 이직을 준비해서 가고 싶은데 방향성을 어떻게 잡아야 할 지 모르겠어서 조언을 구하고자 이렇게 글을 올립니다 프론트엔드가 회사에 저 혼자여서 사수 없이 회사에서 운영하는 서비스가 2개여서 2개의 웹사이트을 배포하여 서비스를 운영하고 있습니다. 제가 회사에 들어와서 웹사이트를 만들 때 사수도 없고 대표님도 개발에 대한 지식이 없으셔서 기획-디자인-개발까지 2-3달만에 만들라고 하시더라구요 (개발하고 배포까지 1-2달 걸렸습니다) 그래서 제가 비전공자이고 막 부트캠프를 졸업했어서 정말 기초적인 것들로 작업을 했습니다 (사용한 프론트 기술스택은 React, styled-components,recoil(atom만) 등을 썻구요 소셜로그인, 반응형 작업, lighthouse로 성능 최적화도 진행해보았습니다) 1. 프론트엔드 공고를 보면 nextjs,typescript,redux 혹은 react-query가 거의 필수적으로 들어가는 것 같은데 이거를 다 완벽하게 배우고 적용시켜서 이력서에 적어내기에는 시간도 너무 오래걸릴 것 같고 코딩테스트나 cs면접 준비도 해야하는데 현실적으로 불가능할 것 같아서 선택과 집중을 하고 싶은데 어떻게 준비를 해야할까요? nextjs,typescript,redux 혹은 react-query가 들어간 간단한 사이드 프로젝트를 하나 만들어서 이력서에 적어내면 될까요? 2. 제가 만든 사이트를 이력서에 적어서 냈을 때 인사담당자 분들이 꼼꼼히 살펴보실까요? 그러면 리팩토링을 하는게 좋을까요? 3. 자세하게 좀 들여다보면 모든 부분에서 많이 부족한 것 같은데 이직을 해도 될까 싶습니다ㅠㅠ 현재 제 실력에서 어떤 부분을 추가하거나 정리해보면 큰 장점이 될까요? 4. 현재 포괄임금제 + 최저보다 적은 연봉(식대제외)을 받고 있는데 제 경력으로 이직할 때 연봉을 어느정도까지 부를 수 있을까요? 구체적인 수치와 협상방법을 알려주실 수 있을까요? 주절주절 얘기가 많았네요 읽어주셔서 감사합니다 답변해주시면 정말 너무 감사드리겠습니다ㅠㅠ"
125,next.js,취준생 프로젝트 기술스택 고민(React vs Next.js),"안녕하세요, 저는 프론트엔드개발자로 취업 준비를 하고 있는 24살 학생입니다. 최근에 출석관리 프로그램을 만들려고 하고 있는데 제가 프론트부터 백까지 모두 해야 하는 상황이라 기술스택이 고민되어 질문 글 남깁니다! React로 할 경우 MERN스택으로 갈려고 하고 Next.js로 할 경우 DB는 MongoDB를 사용할 거 같습니다. 고민되는 이유 <MERN stack> 1. 이전에 사용 경험 있음. 2. React를 보다 더 깊이 있게 공부 및 적용 예정. 3. 취업공고에 자격요건임. <Next.js> 1. 1인 개발이다 보니 Next.js로 하는 게 개발 속도나 편의성 면에서 더 효율적일 것 같다. 2. 취업공고에 자격요건이 아니라 우대사항임. 위와 같은 이유로 고민중에 있습니다..! 혹시 개발자 선배님들께서 저와 같은 상황이라면 어떤 기술스택을 선택하실 거 같으신지 의견이 궁금합니다!"
126,next.js,spring boot + Next.js로 웹 개발을 할 시에 Next.js의 api routes를 사용해야 하나요?,"spring boot + Next.js로 이번에 프로젝트를 시작하는데 Next.js의 api routes기능은 별도의 백엔드(spring boot)가 있다면 쓸일이 없는 기능일까요? 만약 쓴다면 어떤 역할로 쓰이고, 어떤 이점이 있는지 궁금합니다"
127,next.js,리액트 공부 후 방향,"안녕하세요 프론트엔드로 취업준비중인 취준생입니다. 제가 프론트엔드로 가기위해 리액트공부를 이제 리액트를 사용해서 간단한 쇼핑몰, crud(일기장,투두)정도는 만들 수 있는 정도입니다. 쇼핑몰은 깃허브에서 데이터 받아와서 사용을 했었구요. 그런데 이제 제 앞날에 대한 고민인데 저는 현재 대구에 거주중이라 대구에 일자리를 알아보니 지원을 할 수 있는곳이 너무 없더라구요. 그래서 아마 타지역으로 가야할텐데 서울이나 경기도를 가기엔 너무 멀다는점과 금전적인 부분에 부딪혔습니다.. 그래서 부산쪽을 생각중인데 부산쪽의 개발자 취업은 어떠할까요? 너무 대부분 개발자는 서울이나 판교로 가야한다 라는 말을들어서 이런 고민을 하고있습니다. 그리고 또 방향에 대한 질문은 지방에서 취업을 하기위해선 풀스택할 수 있으면 좋을것이다 라는 글을봤는데 제가 nods.js와 mongoDB를 배워서 풀스택으로 커뮤니티같은 프로젝트를 해볼까싶은데 NodeJs와 mongoDB를 배우는게 맞을지 아니면 제가 본 글에서처럼 리액트 → 타입스크립트 → NextJs 순으로 배워서 NextJs로 프로젝트를 하는게 맞을지가 고민입니다. 주저리 말이많았는데 질문만 축약하자면 1. 지방에서 취업하려면 풀스택을 해야한다? 2. 부산의 개발자취업은 어떠한가요? 3. Node.js와 mongoDB를 배워서 풀스택 프로젝트를 진행해본다 / 타입스크립트 → NextJs 순으로 공부한 뒤 NextJs로 프로젝트를진행해본다. 둘 중 어느방향이 더 좋을까요?"
128,next.js,Docker compose 컨테이너 구성을 어떻게 될까요?,"저는 prisma nextjs postgresql을 사용하고 있습니다 Docker compose에서 컨테이너를 local용postgresql, deploy용postgresql, nextapp 이렇게 3개로 구성하려고 합니다 이렇게 해서 npm run dev로 app을 local로 실행한다고 하면 local용 postgresql과 연결되게 하고 Build를 하고 deploy된것은 deploy용postgresql과 연결되게 하려고합니다 해당 프로젝트가 포폴용이라 상관은 없지만, 정말 서비스를 진행하려고하면 서버를 늘리는 일이 일어날텐데 이런경우 위에서 생성했던 docker이미지를 이용해서 docker compose up을 할텐데요 그러면 새로운 서버가 생길때마다 local용 db를 생성할 수 밖에 없을 것 같은데 제가 아직 배포도 안해보고 프론트라서 제가 지금 생각하는 방식이 맞는지 잘 모르겠습니다 혹시 제가 말한게 맞나요?"
129,next.js,next.js에서 interceptor 어떻게 사용하고 계신가요?,안녕하세요 page router 형식으로 프로젝트 진행 중 궁금한게 있어 게시글 남깁니다. 현재 프로젝트에서는 두가지 AJAX 요청이 존재하는데요. 한가지는 클라이언트 사이드에서의 요청(좋아요 누르기 기능 등)과 서버 사이드 렌더링을 위한 getserversideprops에서의 요청입니다. 문제는 인증 방식으로 엑세스토큰을 사용중인데 axios interceptor을 사용하려고 보니 하나의 interceptor로 두가지 요청을 커버하기가 어렵겠더라구요. 혹시 비슷한 경험이 있으신분들 어떻게 사용하셨는지 공유해주시면 감사하겠습니다.
130,next.js,getServerSideProps를 모든 페이지에서 공통적으로 사용할 수 있는 방법이 있을까요?,Next.js 에서 loginStatus같은 부분들을 CSR로 처리하다보니 새로고침시 false => true로 변경되면서 깜빡이는 문제가 생겨서 SSR로 처리하고싶은데 app.tsx에서 getIntialProps를 사용하였는데 요즘방식에는 getInitialProps보다 getStaticProps나 getServerSideProps를 권장한다고 들어서 변경할려고 합니다… 매 페이지에 공통적으로 들어가는 getServerSideProps같은 경우는 어떻게 처리를 해야할까요…? ㅜㅜ
131,next.js,nextjs ssr 관련,"안녕하세요. nextjs로 react로 사이트 구축중에 있습니다. 도메인별로 meta tag가 달라지는데 ""getServerSideProps""로 매태태크 정보를 가져와서 head에 넣어줘도 브라우저에서는 타이틀을 랜더링하나 카카오톡에서는 적용이 안되고 있는데 혹시 방법을 아시는 분 계실까요? 몇일째 삽질하는 느낌이네요 next-seo로도 ssr 랜더링 해봐도 소스에 노출되는 meta 태그는 없고.ㅜㅜ _document.txt는 도메인을 기준으로 서버 api 호출하는데 도메인을 인식하지 못하고 어렵네요. 혹시 아시는 분 계시면 도움부탁드립니다. 감사합니다."
132,next.js,Next.js SSR에서 token refresh를 어떻게 처리하나요?,"access token, refresh token을 cookie에 저장, 사용하는 방식으로 로그인 로직을 작성중입니다. 1. SSR에서 access token으로 로그인 유무를 확인한다. 2. access token이 만료됐다면, refresh 요청을 한다. 3. 새로운 token cookies를 받아온다. 4. 서버에서 새로운 token cookies를 받아왔으니 클라이언트에 token cookies 쿠키를 똑같이 전달해야하는데, 어려움이 있습니다. 해결책이나 혹시 더 좋은 방법이 있으시면 답변 부탁드립니다!"
133,next.js,사용자가 생성하는 컨텐츠에 대해서 Sitemap 을 동적으로 생성해주려고 하는데 Sitemap 을 위한 전용 테이블을 추가하는 방법이 효율적일까요 ?,"이번에 Sitemap 을 추가해야 하는데 사용자가 생성하는 컨텐츠라서 dynamic url path 를 가집니다. ex) articles/[:id] 그래서 사이트맵을 직접 만들어 줘야 하는데 어떤 방법으로 해야할지 고민이에요. 현재 문제는 테이블의 updatedAt 값을 sitemap 의 lastmod 값에 어떻게 적용할지 인데요. 처음에 생각한 방법은 Article 테이블의 updatedAt 을 그대로 사용해서 sitemap 을 동적으로 만들어 주려고 했는데, 이렇게 하면 실시간으로 페이지를 생성하는데 한계가 있어서 캐싱이 무조건 필요 하겠더라고요. 그래서 차라리 테이블을 추가해서 (ArticleSitemap ?) 여기에 updatedAt 을 실시간으로 업데이트 시켜두고 Sitemap 생성에 활용하려고 하는데 문제 없을까요 ? 참고로 사용하는 스택은 next.js, nest.js, MySQL 입니다."
134,next.js,Next.js 14 SSR post method,Next.js 14와 django를 사용해서 웹을 개발하고 있는데 열려있는 Port가 하나밖에 없는 상태에서 로그인을 위한 로직을 작성하였는데 django의 port로 접근할 수 없어 타임 아웃이 발생합니다. next와 django는 같은 pc에서 동작하기 때문에 SSR 을 사용하면 외부에서 django로 접속하지 못해도 데이터를 연동할 수 있을 것이라 생각했습니다. 로그인 로직을 SSR로 구현하려면 어떻게 해야 하나요?
135,next.js,Next.js app router의 쿠키값을 어떻게 세팅해야 할까요?,"Next.js app router에서 쿠키로 JWT로그인을 사용 하고 있습니다. 서버는 백엔드 api 서버가 별도로 존재하는 상황입니다. 현재 인증 기반 api를 호출을 할 때, 만약 해당 accessToken이 만료가 됐다면 재발급을 해주는 백엔드 api를 통해 새로운 accessToken을 브라우저에 업데이트하는 로직을 구현하려고 했습니다. 클라이언트 컴포넌트에서는 전혀 문제가 없었습니다. 어차피 set-cookie를 백엔드에서 해주면 알아서 브라우저에 반영이 되니까요. 근데 문제는 서버 컴포넌트에서 동일한 요청을 하는 경우입니다. 동일하게 재발급 요청을 보낸 다음 set-cookie를 백엔드에서 해줘도 어차피 서버 컴포넌트에서 api를 쐈던것이기 때문에 그 반환값이 서버 컴포넌트로 오게 되고, 이는 브라우저에 반영이 안 되는데요ㅠ 혹시 이럴 경우에는 어떻게 처리를 하는게 좋을까요? 미들웨어나 라우트 핸들러를 사용하려 해도 그 방법을 도저히 모르겠네요"
136,next.js,turbo Repo 빌드 속도 멀티레포 보다 빠를까요?,"최근에 회사에 모노레포 도입하려고 터보레포에 대해 학습하고 있습니다. 공식문서 보면 빌드도 병렬적으로 실행할 수 있고 원격 캐시를 통해 변경된 코드에 대한 프로젝트만 빌드가 가능하다는 내용을 봤습니다. 공식문서 앞부분을 학습해 봤을 때 제가 드는 생각은 멀티 레포로 운영되는 하나의 프로젝트 코드를 수정하고 빌드 후 배포하는 시간보다 터보 레포로 빌드하고 배포하는 시간이 대체적으로 더 빠를 것이라 생각듭니다. 예를들어 모노레포에서 lint나 공용으로 사용하는 ui컴포넌트는 packages/ 에서 관리하고 프로젝트 코드는 app/project1의 구조의 형태를 가지고 있다고 가정했을 때 case1. 린트 코드 한 줄 수정하고 배포 - 터보레포: 린트 수정한 프로젝트에 대해서만 빌드 - 멀티레포: 프로젝트에 전체 코드에 대한 빌드가 실행 case2. 한번에 린트, 공통ui, 특정 프로젝트 코드 수정하고 배포 - 터보레포: 병렬적으로 배포해서 빠른 배포 - 멀티레포: case1과 같이 전체 코드에 대한 빌드가 실행해서 case1과 빌드시간이 비슷하다 개발은 next.js로 하고 vercel에서 배포하고 있습니다. 제가 위에 작성한 case처럼 터보레포가 빌드시간이 더 빠르게 될까요?? 추가로 next.js프로젝트 vercel에 배포했을 때 캐시전략을 사용할 수도 있는지도 궁금하네요. redeploy할 때만 캐시를 사용할지 선택할 수 있는 것만 알고있습니다. 물론 개발자가 설정한 캐시 전략과 경우에 따라 다르겠지만 대체적으로 어느 방식이 더 빠른지 궁금합니다."
137,next.js,nextjs 13 getStaticProps 질문,"안녕하세요. nextjs 13에서 변경된 app 디렉토리에서는 getStaticProps를 지원하지 않고 fetch의 cache로 getStaticProps 등의 동작을 수행할 수 있게 된 부분에 있어서 의문점이 생겨서 질문 남깁니다. 1. 서버 컴포넌트니까 console등은 서버에서 찍히는 것을 확인하였습니다. 이것은 서버 컴포넌트는 항상 ssr로 동작한다는 의미인것인가요? 2. fetch를 사용하지 않고서는 static, ssr, isr 을 구분시킬 수 없는 건가요? 3. 이전 버전(12)에서는 getStaticProps를 사용해서 fs, gray-matter 같은 static하게 서버에서 생성 해놓기를 원했던 경우에 사용하기도 하였는데 이런 부분은 구현할 수가 없는 건가요? (코드 첨부)"
138,next.js,Next.js App dir에서 fetch API를 사용할 때 interceptor는 어떻게 설정할 수 있나요?,"axios의 interceptor를 사용한 로직이 있었는데, Next의 App dir에서는 getServerSideProps 등이 fetch API 로 대체된걸로 알고 있어요. 이러면 axios의 interceptor를 사용하려면 어떻게 해야할까요? 그리고 fetchAPI가 400번이나 500번 정도의 에러 코드를 제대로 잡지 못한다는 말을 들은 적이 있는데 이건 어떻게 대응할 수 있을까요?"
139,next.js,3년차 프론트엔드 이직 질문,"안녕하세요 곧 만 3년 경력이 채워지는 웹 개발자입니다 현재는 에이전시에서 웹개발 업무를 맡고 있습니다 웹개발시에는 클라이언트에게 수주받아 프로모션 웹사이트를 만드는 일을 주로 하고 있습니다 다만 저는 프론트엔드 개발자로의 이직을 원하는데 현재 프로젝트를 개발할때 개발환경이 JS, PHP, MySQL을 사용하고 있습니다 기본적으로 위의 개발 언어들로 프로모션 사이트를 마크업(HTML/CSS), 프론트단부터 만들어서 백단까지 작업해서 하나의 프로젝트를 만드는게 가능합니다 또한 CSS Animation, GSAP과 Lottie 등을 이용해 웹 사이트에 애니메이션을 구현하는 부분도 하고 있습니다 보통 프론트엔드 개발자 구인글의 요구사항에는 '프론트엔드 개발 경력 3년 이상이신분 또는 그에 준하는 역량을 보유하신 분'이라고 되어있는데요 이때 제가 프론트엔드 3년차 경력으로 지원할 수 있는지 아니면 중고신입으로 지원을 해야하는지 조언을 듣고자 글을 작성하게되었습니다 * React는 회사 홈페이지를 리뉴얼할때 사용하고 프로젝트에서는 사용해보지 못하였습니다. (React, Redux-toolkit, express를 사용하였고, 애니메이션 구현에 GSAP, 프레이머모션, Lottie를 사용했습니다. 현재는 Next.js로 마이그레이션되었습니다)"
140,next.js,API가 제공하는 데이터의 범위를 어떻게 잡을지 고민입니다.,"안녕하세요. 개인 프로젝트로 풀스택 웹 서비스를 여러 번 만들어보다가 생긴 의문입니다. 보통 저는 백엔드는 nestjs와 프론트엔드는 nextjs로 개발을 합니다. 프론트 쪽에서 react query를 사용하여 백엔드의 데이터를 fetch하여 사용하는데, 한 화면에 여러 데이터가 필요한 경우가 있습니다. 원래 백엔드 api를 짤 때 resource를 기준으로 잡았었는데 이렇게 하다보면 재사용 측면에서는 좋으나 위에서 말한 경우와 같이 한 화면에 여러 resource에 대한 데이터마다의 api를 호출하기 때문에 한 화면에서 여러 api 통신이 이루어지게 되어 cost가 있지 않을까 생각이 들었습니다. 1. 그래서 아예 한 화면에 쓰이는 데이터를 전부 serving하는 api 라우트 하나를 두면 해당 api 하나만 호출했을 때 한 번의 통신만으로 데이터를 가져오기 때문에 이 방식이 괜찮다고 생각이 들었는데 실제로 어떤 것이 더 좋은지 궁금합니다. 뭔가 감으로는 리소스별로 독립된 api를 여러개 호출하는 방식이 장점이 많은 것 같은데(querykey로 캐싱을 따로 할 수 있는 등) api 갯수가 1개랑 3개라고 하면 사용자마다 3배 많은 통신이 이루어지게 되어 이 부분이 조금 걸립니다. 2. 그리고 유저에 대한 데이터를 응답한다고 했을 때 해당 테이블에 join으로 엮을 수 있는 다른 모든 테이블도 같이 포함시키는 것이 좋은지, 아님 분리시켜서 user 테이블의 속성만 제공하는 api(/users)와 다른 테이블의 정보도 같이 포함하는 api(/users/courses)를 따로 구분하는 것이 좋은지 그 범위를 아예 모든 정보를 다 가져오는 것과 딱 필요한 정보만 제공하는 것 중 어느 방식이 어떤 측면을 가지고 있는지 궁금합니다."
141,next.js,next.js pages 폴더에 라우팅 관련이 아닌 컴포넌트 파일을 넣는 것은 안티패턴인가요?,"안녕하세요. next.js로 프로젝트를 하고 있는데요, 팀원이 작성해준 코드를 보다가 궁금한 점이 생겨서 질문드립니다. next.js는 파일 기반 라우팅 시스템이어서 pages에 작성한 컴포넌트는 실제로 라우팅이 되는것으로 알고있습니다. login이라는 폴더에 작성한 index.tsx는 login으로 접속할 수 있는데요. 팀원이 login폴더에 라우팅과 관련되지 않은 LoginButton, LoginAuth와 같은 컴포넌트를 한곳에 같이 작성해두었습니다. 이렇게하면 라우팅할때 문제가 되지 않나요? 팀원의견은 같은 역할을하는 코드가 한 폴더에 있으면 관리하기 쉬워서 위와같이 작성했다고 했는데. 저는 실제 path와 연관된 컴포넌트만 pages에 있고, 나머지 컴포넌트는 별도 폴더로 구분해야 한다고 생각합니다. 기준을 어떻게 가져가면 좋을까요.. pages에 라우팅 관련이 아닌 컴포넌트를 넣어도 괜찮나요? 감사합니다."
142,next.js,React에서 SEO 적용하는 방법,"안녕하세요, React로 서비스를 개발했는데 SEO를 적용하는 방법이 궁금합니다. Next.js 등으로 SSR을 적용하면 된다고 알고 있는데, Next.js로 전환하기에는 시간이 많이 소요될 것 같아서 다른 방법을 알아보고 있습니다. [현재 상황] 1. AWS를 사용하고 있고, EC2에는 백엔드 소스가 올라가 있고, S3에 프론트엔드 소스가 올라가 있습니다. 2. AWS S3에 React로 만든 프론트엔드 소스가 정적 웹 페이지 형태로 올라가 있습니다. [문제점] React 렌더링 방식이 SSR이 아닌 CSR 형태라서 SEO 적용이 되지 않고 있습니다. [질문] 1. https://prerender.io 를 사용해보려고 하는데요, 사이트에서 제공하는 방법 중에 cloundFront를 사용해서 작업하려고 하는데 정확한 방법을 모르고, prerender.io에서 제공하는 적용 예제가 오래되서 걱정이 됩니다. 2. 빠르고 쉽게 SEO를 적용할 수 있는 다른 방법이 있을까요?"
143,next.js,Next.js 질문,"아직 next의 개념을 잘 몰라서.. 혼란스러움에 질문드립니다..ㅠㅠ 전역상태에서 state를 꺼내서 사용하거나 react-query, pagination같은것들은 모두 csr로 변경해서 코드를 짜야하던데 그러다보니 page가 거의 use client로 도배되었는데요… 그럼 SSR의 장점들을 모두 잃어버리는건가요…? getStaticProps나 getServerSideProps들을 사용해서 이러한 문제들을 해결할 수 있다는데, 이것들로 해결해야하는걸까요..? 🥲"
144,next.js,커리어리 앱은 어떻게 만들었나요?,"대학교 3학기를 마치고 군 복무 중인 초급 개발자입니다. 커리어리 같은 앱을 만들고 싶은데요. 웹/앱 개발을 위해 풀스택 로드맵을 찾아보니 여러 디자인 프레임워크, 프론트엔드 프레임워크, 백엔드 프레임워크, 데이터베이스들이 있더라고요. 디자인 프레임워크에는 Material UI, Bootstrap, ... 프론트엔드 프레임워크에는 React, Next.js, Flutter, ... 백엔드 프레임워크에는 Spring, Django, Express, ... 데이터베이스에는 MySQL, SQLite, ... 이렇게 여러가지가 있던데 각각 장단점들이 있어서 이중에서 어떤 것을 공부해야 할지 모르겠어요. 저는 Python, C/C++, Kotlin(약간)을 배웠습니다. 제게 필요한 프레임워크는 어떤게 있고 어떻게 찾아야 할까요? 일단은 Material UI, Flutter, Express, SQLite로 해볼까 합니다. 이게 괜찮은 선택일까요?"
145,next.js,Next.js와 SSR관련 질문있습니다 !,"Next.js 를 공부하다가 궁금증이 생겨 질문합니다 ! 1. Next.js로 만들어진 프로젝트를 S3 + CloudFront와 같은 정적 웹사이트 형태로 배포시에는 SEO와 같은 SSR의 이점을 볼 수 없고, SSR이 동작을 안하는 걸까요?! 2. 페이지 내에서 useEffect를 이용해 api fetch를 통해 데이터를 가져오는 부분이 CSR형태인가요? getServersideProps를 통해 데이터를 받아오면 혹시 이 방법과 비교했을때 장점이 무엇이 있는지… 궁금합니다 ! 질문이 길지만 고수님들 답변 부탁드립니다😭"
146,next.js,Next JS 공식문서에서 getStaticProps()관련 문구의 해석을 했음에도 이해가 되지 않습니다.,The data can be publicly cached (not user-specific). This condition can be bypassed in certain specific situation by using a Middleware to rewrite the path. 위의 내용입니다. 해석해도 무슨의미인지 이해가 되지 않습니다.
147,next.js,Nextjs Application error를 핸들링 할 수 있나요?,Nextjs로 개발중인데 Application error: a client-side exception has occurred가 간헐적으로 발생하고 있습니다. 위 에러가 뜰 경우에는 예외 처리를 해주려고 하는데 언제 어떻게 뜰 지 모르기 때문에 핸들링이 안되고 그대로 에러가 노출되고 있습니다 핸들링을 할 수 있는 방법이 있다면 공유 해주시면 감사하겠습니다!
148,next.js,next.js를 실무에서 많이 쓰나요?,"안녕하세요, React를 이제 막 시작한 학생입니다. React를 배우다보니 next.js관련 키워드가 많은 것 같더라구요. 커리어리에도 next.js 질문이 많네요. next.js를 실무에서 많이 쓰나요? 만약에 그렇다면 react를 배우기 전에 먼저 next.js를 배우는게 좋을까요? 좀더 효율적으로 공부하고싶은데 고수님들의 답변을 듣고 싶습니다. 감사합니다!"
149,next.js,카카오톡은 og 정보를 어떤 방식으로 읽는건가요?,최근 NextJS로만든 블로그를 만들고 고쳐나가고 있는 와중에 알게 된 사실이 카카오톡은 next/head의 Head에 포함된 정보들을 크롤링 하지 못하는것같더라구요. 대신 next/document의 Head태그의 정보만 가져오는것 같구요. 그래서 궁금한점이 동적으로 페이지마다 next/head의 Head 정보들을 삽입하고 카카오톡으로 url을 공유할때 next/head의 head의 og정보를 카카오톡이 크롤링할수 있는 방법이 존재하나요?
150,next.js,학점 2점대 비전공자 취업 고민,"안녕하세요 학점2.88에 비전공자 이지만 웹개발에 흥미가 생겨 나름의 노력들을 거쳐 지금은 프론트엔드 개발자를 희망하고 있는 취준생입니다. 27살 남자이고 제가 현재까지 쌓아온 스펙과 경험은 -중경외시 전자공학 -중소기업 인턴경험 1회 (3개월 React.js, Express.js, MySQL) 사용 -개인 프로젝트 3개 (React.js, Next.js, MongoDB 등 사용하여 배포까지 진행) -AWS associate 자격증 (Developer, SSA) -토익 935 -토익 스피킹 180 -중국어 HSK 5급 -교내 경진대회 최우수상 1개 (로봇팔 프로젝트) -SQLD 입니다. 낮은 학점과 비전공자인점을 커버하기위해 내가 비록 비전공자이고 학점도 낮지만 다른건 전부 풀스팩으로 맞추겠다는 마음가짐으로 달려왔습니다. 깃헙도 정리하고 나름의 포트폴리오도 만들어서 웹에 띄우고 깃헙잔디도 작년 10월부터 시작해서 푸릇푸릇하게 만들었습니다. 현재는 정처기 필기 취득후 실기 시험 앞두고 있습니다. 취업준비는 4개월정도 되는 시점이고 현재 국비지원 부트캠프 수강하면서 취업준비를 하는데 스타트업, 중소기업, 중견기업, 대기업, 정직원, 인턴 가리지 않고 지원했는데 서류 통과조차 안되서 너무 답답한 마음에 글 올려봅니다.. 역시 학점과 전공이 발목을 잡는걸까요 아니면 다른것이 문제일까요. 조언 부탁드립니다."
151,next.js,nextjs 14 form xss방지를 위한 검증방법,nextjs 14 server action 으로 form 전송하려고 합니다 xss공격을 방지하기위해 input의 html이나 script코드를 걸러내고싶은데 혹시 어떤라이브러리를 사용하는게 좋을까요?
152,next.js,next.js / s3 + cloudfront 새로고침 403 문제... ㅜㅜㅜㅜㅜ,안녕하세요 ! next.js 로 프로젝트를 진행중에 s3 + cloudfront로 배포를 진행하였습니다 ! route53으로 도메인 지정까지 완료되어 무사히 배포된줄알았는데… 첫 index.html 페이지를 제외한 부분에서는 새로고침시 403에러 access denined가 떠서 구글링 해보니까 403 에러시 200코드와 함께 index.html로 보내주는 해결방법이 가장 많더라구요…! 근데 지금 개발중인 서비스가 이메일과 sms로 알림발송시 페이지 링크가 발송되어 저 방법으로 해결시 링크 클릭시 리다이렉트되어 index.html로만 접속되는거같은데…. 따른 해결방법이 더 있을까요? 고수님들의 답변이 시급합니다 … ㅜㅜ
153,next.js,next.js 로그아웃 기능 (서버/클라이언트 공통 코드 작성 방법),"안녕하세요. 현재 로그아웃 기능을 구현하고 있습니다. 로그아웃 진행 시 다른 서브 도메인을 갖고 있는 사이트로 redirect 시킨 후 다시 돌아와야 합니다. 예) a.example.com에서 로그아웃 시 -> b.example.com?redirect=a.example.com 사이트로 리다이렉트 후 다시 a.example.com 사이트로 이동 해당 로직을 구현 함에 있어 클라이언트에서는 문제가 없습니다. 하지만, 서버 미들웨어에서 정상 동작은 하나 첨부 이미지와 같은 CORS 에러가 발생됩니다. 서버/클라이언트에서 동시에 사용할 수 있는 코드로 로그아웃 버튼을 클릭 하여 로그아웃 처리되는 로직을 만들고 싶은데요. 방법이 있을까요? (서버에서 로그아웃 처리가 필요한 이유는 토큰 만료 시 서버 단에서 로그아웃 시키기 위하여..) 단, b.example.com 사이트에서는 어떠한 설정도 불가능"
154,next.js,Next.js React-query 관련해서 질문있습니다 ㅜㅜ,안녕하세요 Next.js를 공부하고있는데 현재 페이지 내에서 useQuery 커스텀훅으로 데이터를 가져오고 있는데 SSR 형식으로 getServersideProps를 통해 데이터 패칭을 가져올려고 바꿀려고 합니다 ! 1. getSersideProps 쪽에서도 useQuery 커스텀훅을 사용할수 있을까요..? 2. 혹시 안된다면 데이터 받아오는것을 getServersideProps쪽에서 다 하면 useQuery 커스텀훅은 따로 쓸 필요가 없을까요?! 만약 쓴다면 어떠한 경우에 써야 될까요? 질문이 난잡해서 죄송합니다😭😭
155,next.js,nextjs scroll restoration (스크롤 유지),"혹시 next.js에서 스크롤 유지 (뒤로가기 시, 전 페이지의 스크롤 유지) 기능을 구현해보신 분 계신가요? next.js에서 실험적으로 설정을 켜면 되는 것 같긴한데 (https://mmazzarolo.com/blog/2021-04-10-nextjs-scroll-restoration/), 뭔가 실험적인 기능인 것 같아서 써도 되는지 잘 모르겠어서요. 혹시 깡(?) js로 구현해보신 능력자분 있으시면 지나가면서 아이디어 한번씩 부탁드립니다. (보통 이렇게 깡?으로 구현하는게 좋은건가요? 아니면 지양해야할까요?)"
156,next.js,AWS Amplify에서 PnP를 지원하지 않나요?,"안녕하세요~ 회사에서 진행중인 Next.js 프로젝트가 serverless framework를 사용하고 있어서 Next 13으로 업그레이드가 안되던 문제를 Amplify를 도입하여 해결하였습니다. 내친 김에 Yarn Berry의 Plug’n’Play까지 도입해봤는데요, 문제는 이 경우에 Amplify의 빌드에 실패합니다. 결과적으로는 배포가 안돼서.. 결국 Plug’n’Play를 못쓰게 되었어요. ChatGPT에게 물어보니 AWS Amplify가 현재 PnP를 지원하지 않는다는데.. 정확성이 부족하다고 판단되고 관련된 GitHub Issue도 명확하게 답변이 나오지는 않은 것 같아서요. 혹시 저처럼 Next.js 13 + PnP를 사용한 프로젝트를 AWS Amplify에 배포해보신 분이 계실지, 아니라면 해당 프로젝트를 성공적으로 배포하신 케이스는 어떤 걸 사용한 케이스인지 알고싶습니다!"
157,next.js,Next.js 13 Vercel로 배포 질문,"안녕하세요 이전에 사용한적 없던 Next.js를 이참에 13 버전이 나온 김에 공부를 하고 있습니다 DB의 경우 PlanetScale와 Prisma를 사용하여 같이 사용하고 있습니다 Vercel을 통해 Next.js를 배포한 상태이구요. 혼자 개발 공부용으로 하고있다보니 일단 배포DB와 개발 DB는 동일한걸 사용중입니다 npm run dev로 localhost를 접속하면 DB에 수정된 사항이 새로고침하면 바로 반영이 됩니다 (예시 : DB에 데이터가 4개가 있다가 > 6개로 변경) 하면 바로 반영이 됩니다 그러나 Vercel를 통해 배포한 페이지의 경우 동일한 DB를 사용하고 있으나 변경사항이 즉각 반영이 되지 않습니다, 항상 재 배포를 해야 그때 기준 최신화된 데이터를 가져옵니다 (예시 : DB에 배포 직전까지 데이터가 6개가 있다가 > 배포 후 4개로 변경 > 동일 DB 사용하니 당연히 이거도 반영이 되겠지? > 예상과 달리 데이터가 6개 그대로인 상황이 발생) 배포 버전에서도 DB 최신화된 사항을 그대로 반영시킬려면 어떻게 해야할까요??.."
158,next.js,next.js에서 페이지 접근 권한 관리 방법,"현재 회사에서 next로 개발중인데요! 각 page마다 접근 관리를 개선해보려고 합니다. 현재 각 page에 해당하는 component에 내 정보가 있는지 없는지 확인해서 redirect해주는 custom hook으로 접근을 제한하고 있는데, 이는 한눈에 들어오지도 않고 한눈에 들어오지도 않고 일일히 page마다 hook을 넣어줘야해서 비효율적인거 같습니다! 따라서, react-query key를 관리하는 방식처럼 한 파일에 모든 route를 모아놓고, _app.tsx에서 route 체크를 통해 application 코드는 건들지 않고 route.ts만 수정하는 방법으로 각 route의 접근 설정을 해보려고 하는데 혹시 더 좋은 방법이 있을까요???"
159,next.js,js 라이브러리 프레임워크 선택 고민,현재 파견을 나와있는 상태입니다. 그런데 많이 급한건 아니고 본사쪽에서 node를 사용해서 서버를 띄우고 거기안에 간단한 게시판성 사이트를 만드려고 합니다. 현재 같이 일을 하시는 분이 react말고는다른 라이브러리를 사용하신적이 없기에 백엔드를 nextjs를 사용하려합니다. database도 사용을하려는데 java spring만을 사용해왔기에 javascript는 문법 살짝아는 정도 이고 지식이 너무 없기에 그래도 사용하고 있는 react기에 next js를 사용하려고 합니다 모르는건 생활코딩 강의를 보고 조금더 만들어나가려고 합니다 다른 방법은 pug nunjucks 라는 기술을 사용하려고 했지만 조금더 개발이 편한쪽은 최신기술쪽이라 생각을해서 좀 더 선택에 가까운 상황입니다. 같이 일하시는 분께서는 저에게 기술선택권을 넘겨주신 상황입니다. 선배님들께서는 이 상황에 어떤 선택을 하는게 좋을지 의견 듣고 싶습니다!
160,next.js,사이드 프로젝트에서 학습 목적으로 도입한 기술은 사용한 이유를 어떻게 설명하는것이 좋을까요?,"안녕하세요 프론트엔드 취준생입니다. CSR, SSR에 대해 공부하면서 Next.js를 알게 되었습니다. SSR의 장점, SEO 등등에 대해 이론적인 개념(?)을 먼저 공부했고 직접 프로젝트에 적용하면서 느껴보고 싶었습니다. 하지만 사이드 프로젝트의 주제가 특별히 Next.js의 장점을 잘 활용할 수 있는 프로젝트는 아니었습니다. (팀 프로젝트라 팀원들과 함께 주제를 선정하다보니 불가피하게 되었습니다.) 그래서 만약 면접관이 제 이력서를 보고 Next.js를 사용한 이유를 묻는다면 어떻게 답변하는 것이 좋을지 잘 모르겠습니다. ""Next.js의 장점을 잘 활용하지는 못했지만, 어떠어떠한 개념을 알고있으며 이걸 직접 프로젝트에 적용해보면서 학습하기위해 사용했다""고 답변하는 것이 혹시 좋지 않은 인상을 주는 답변일지 궁금합니다."
161,next.js,코딩 강의에 나온 내용을 어떻게 사용할지 전혀 모르겠습니다,"안녕하십니까 선배님들! - 현 상황 Code with mosh라는 사이트에서 자바스크립트 강의를 듣고 있습니다. 기본적인 문법은 끝냈고, prototype, polymorphism, getter and setter 등 — 강의 제목상 intermediate level로 추정되는 — 을 배우고 있습니다. 저세한 상황을 말씀드리면 저는 28살 비전공자이며, 공부한지는 한 달 반 정도 되었습니다. 하루에 8시간 자리에 앉아서 6시간은 집중해서 하고 있습니다. 그동안 이런저런 강의(드림코딩, 해외 유튜버 무료 강의)도 듣고 codewars라는 사이트에서 문제도 풀어보았습니다(7kyu - 23문제, 6kyu - 10문제). login-register page, modal, toast, snake game 등의 튜토리얼도 열 개 정도 만들어봤습니다. react 튜토리얼도 찍먹 해보았고, Chatgpt를 이용해서 아무것도 모르지만.. mongodb와 연결하여 회원가입, 로그인 기능까지 구현해보았습니다. 지금 듣고 있는 강의가 끝나면 리액트(+타입스크립트) 강의를 들을 예정이고, 그 다음은 NEXT.js 강의를 들어볼 생각입니다. 언어 공부하는 건 되게 재밌습니다. - 고민 1. 초반에 쉬운 문법은 사용할 구석이 되게 많아보였는데 지금 배우고 있는 내용을 접목할만한 실습 예제를 못 찾고 있습니다. 그래서 현재 배우는 내용은 그냥 아~ 그렇구나 정도로 넘기고 있습니다. 언제쯤 부트캠프나 작게라도 협업 프로젝트를 해야할지 궁금합니다. 2. 저는 컴퓨터 공학적 지식, 수학적 지식이 전혀 없습니다. 딴에는 필수는 아니라고 하시지만, 코딩 면접에서 치루게 될 문제(백준, 프로그래머스 예제들)을 보면 수학적 지식이 꽤나 중요하게 작용할 것으로 보입니다. 또, 면접에서 공학적 내용에 대해 질문할텐데 이 부분은 어느 정도 레벨까지 올려아할지 궁금합니다. 지금 문법 공부에만 하루 6시간을 쓰고 있는데 더 할애해서 공학적 지식과 수학 공부를 해야할지 고민됩니다. (사실 8시간을 앉은 자리에서 집중하려고 하니 꽤나 힘듭니다ㅠㅠ) 긴 글 읽어주셔서 감사합니다."
162,next.js,next.js 서버 인스턴스간 isr memory 공유 방법,"배포 환경: google cloud run 환경: next v14.0.3 app router 컨테이너 인스턴스 수가 10대인 상황에서 time-based revalidate or tag revalidate를 했을 때 next 서버 백그라운드에서 요청한 사용자의 인스턴스에만 재검증 요청을 보내고 있습니다. 인스턴스가 여러대 일 때, next 서버에서 모든 인스턴스에 동일한 재검증 요청을 보내게 하는 방법은 없을까요..?"
163,next.js,Next.js 에서 처음 보여주는 페이지를 변경하는 방법이 있나요?,"Next.js에서 첫 페이지를 index가 아닌 특정 라우트로 설정하려면 어떤 방법을 사용해야 할까요? 딱 접속했을 때 특정 라우트에서 처음 접속하게 하고 싶은 상황입니다. index.tsx에서 useEffect와 router.push를 사용하여 시도해 보았지만, 버그가 발생하는 것 같아 이 방법이 적절하지 않은 것 같더라고요... 다른 방법이 있을까요?"
164,next.js,_app.tsx에서 session을 접근하고 싶어요.,next-auth.js를 사용 중이고 next.js 버전은 v13이에요. 새로이 가입한 유저일 경우 특정 페이지로 넘어가게 할려고 하는데 이에 대한 코드가 있을 적절한 위치가 _app.tsx인데 pageProps로 받은 session은 undefined이기도 해서 다른 방식으로 접근해야 하는지 할 수 있다면 어떤 방법인지 궁금합니다.
165,next.js,현업에서도 nextjs로 데이터 서빙하는데 사용하시나요?,nextjs가 backend 프레임웍으로 분류되어 있더라고요. 그럼 api서버(DB연결)의 역할을 하면서 프론트 파일 서빙하는 것 까지 nextjs 하나로 충분한가요? 그리고 실제로 현업에서도 nextjs를 baas 로 사용을 많이 하시는지 궁금합니다!
166,next.js,Next.js 에서 커스텀 API 앞에 붙는 /api prefix 를 변경하는 방법이 있을까요 ?,Next.js 에서 admin 관련 api 를 추가했습니다. 코드는 /api 폴더 내에 작성하고 path 는 /admin/xxx 으로 작성하고 싶은데 이렇게 하는게 가능할까요 ? 아직 폴더로 route 를 만드는게 익숙하지 않아서 가능한 건지 잘 모르겠습니다 🥲
167,next.js,"API url주소를 개발서버,프로덕션일때 어떻게 구분해줘야하나요?",현재 Nextjs로 사이드프로젝트를 진행중인 프론트엔드 취준생입니다. 현재 저희는 개발서버에서 cors를 해결하기위해 next.config 에서 rewrites 함수 를 사용하여 proxy설정을 해주었는데요. 문제는 배포된곳에서 즉 프로덕션환경일때에도 proxy가 설정되어있어서 오히려 여기에서 CORS 에러가 발생하고있습니다. 즉 배포된곳에서는 API 요청을 https://own-server.vercel.app/ 요청을 보내져야하는데 localhost:3000으로 요청을 보내고있기 떄문이라고 생각하고있습니다. 이런경우 환경을 달리할때 api주소라던지 proxy설정이라던지 뭔가 나눠야할것같은데 갈피를 못잡겠어서 질문글 남겨봅니다 ㅠ
168,next.js,Next.js middleware 질문입니다,"getServerSideProps에서 통신하는 axios의 헤더에 쿠키에 들어있는 엑세스 토큰을 삽입하려고 합니다. 다음과 같이 요청시 헤더에 엑세스 토큰을 넣는 middleware를 작성하고 실행을 시켰는데 동작하지 않습니다. 정확히 말하면 middleware에서 request.url.includes('api') 값을 찍어보면 false밖에 출력되지 않고, 엑세스 토큰이 요청 헤더에 전달되지 않는거 같습니다. next.config에서 프록시 설정도 해주었는데 뭐가 문제일까요? page router 방식이고 로컬 환경에서 실행중입니다."
169,next.js,Next.js 와 React Query SSR 네트워크 요청관련,"현재 next.js 13버전과 react query를 같이 사용하고있습니다. https://tanstack.com/query/v4/docs/react/guides/ssr 공식문서에 나와있는 방법중 Hydration 방식을 사용하고있는데 서버 컴포넌트에서 prefetchQuery 를 하고 클라이언트 컴포넌트에서 useQuery 를 같은 키값으로 한다면 클라이언트 즉, 브라우저 네트워크 탭을 확인했을때 해당 요청이 네트워크 탭에서는 확인이 안되어야 정상일까요?"
170,next.js,Ubuntu에 Next.js pm2 배포,"안녕하세요. 이번에 Ubuntu에 Next.js로 된 프로젝트를 배포하는 일을 맡았습니다. 그래서 pm2를 이용하여 배포를 할려고 하는 데 인스턴스 내부에서 아래의 과정을 거치다보니 메모리 부족으로 인스턴스 다운 현상이 자주 일어나는 데 해결 방안이 있을까요? 1. git clone 2. yarn 3. yarn build 4. pm2 start yarn -w -i 0 --name ""next"" -- start"
171,next.js,Nextjs에서 뒤로가기를 했을 경우 firebase에 다시 요청을 넣는 문제,"안녕하세요! 개발을 시작한지 1년도 안된 대학생입니다. CS를 전공중이지만 개인 프로젝트를 만드는건 이번이 처음이네요. 다소 엉뚱한 질문을 한다고 생각하셔도 너그럽게 봐주시면 감사하겠습니다 ^^ 저는 지금 Next.js와 Firebase를 이용해서 간단한 웹사이트를 개발하고 있습니다. 사용자의 위치를 기준으로 등록된 장소에 대한 리스트를 나열하고, 해당 장소를 클릭하면 상세페이지로 이동하는 꽤나 전형적인 웹사이트입니다. 등록된 장소는 Firebase DB (firestore)에 요청을 넣어 받아온 정보를 표시합니다. 문제는 상세페이지로 들어갔다가 다시 뒤로가기를 통해서 홈페이지에 나왔을때 발생합니다. 다시 Home을 랜더링하다보니까 유저가 상세페이지를 갔다가 나올때마다 서버에 요청을 넣습니다. firestore는 document 하나를 읽을때마다 읽기횟수를 소모하는데 한번 접속할때마다 ~100개 가까운 read count를 소모하는 것도 꽤나 부적절한 마당에 유저가 왔다갔다를 몇번 하면 눈깜빡할 사이에 몇백달러를 청구당할까봐 두렵네요 (ㅋㅋ) 아무리 생각해도 간단 블로그부터 유튜브, 아마존같은 모든 웹사이트들이 비슷한 형태로 홈페이지에 접속하면 서버에서 제품이나 콘텐츠를 fetch해오고, 상세페이지를 들어갔다가 다시 나오면 받아온 정보를 다시 fetch하진 않을것 같은데, 제가 뭔가 큰걸 놓치고 있는 기분이 듭니다. 사소한 조언이라도 좋으니 부탁드립니다. 감사합니다."
172,next.js,웹사이트 프로젝트 피드백 주시면 감사하겠습니다!..,"안녕하세요! 저는 현재 대학교 3학년 마치고 휴학 중인 코린이입니다.... 제가 실력이 너무 부족한 느낌이라서 혼자 프로젝트를 진행해도 이게 맞는 코드인지 잘 모르겠네여 ㅠㅠ.. 코드는 client쪽만 봐주시면 됩니당! 따끔한 피드백 부탁드립니다! 감사합니다 반응형이 아니라서 ㅠㅠ 웹으로 봐주셔야합니다~ 기술 스택 : nextjs, typescript, react-query 사이트 주소 : https://bestanimals.vercel.app/ 깃허브 주소 : https://github.com/kmj0973/bestanimals"
173,next.js,"Next.js 서버 컴포넌트, 클라이언트 컴포넌트 어떤 식으로 분리해야 하나요??","현재까지 React를 사용하다가 SEO측면이나 사용자 경험 등 여러 방면에서 서버 사이드 렌더링이 갖는 장점이 크다 생각하여, Next로 프로젝트를 하면서 공부하는 중입니다. 지금까지 Next로 프로젝트를 진행하면서, 구글에 찾아봐도 명쾌하게 답을 얻지 못한 문제가 있어서 질문드립니다! 공식문서에서는 최대한 서버 컴포넌트로 만들고, 상호작용이 필요한 부문만 최대한 작게 클라이언트 컴포넌트로 만드는 것을 추천하고 있습니다. 이 말은 당연하게도 이해가 잘 되었습니다. 하지만 제가 만들고 있는 프로젝트에는 검색 페이지, 유저 페이지 등이 있습니다. 검색 페이지를 예로 들면, 사용자가 입력한 검색어를 쿼리 파라미터로 검색 결과 페이지에 넘겨주게 되고, 해당 검색어에 해당하는 데이터를 불러와야 합니다. 그 과정에서 검색어를 useParams()를 사용해서 받아오게 되는데, 이러한 훅을 사용하려면 클라이언트 컴포넌트여야 합니다. 그렇게 최상단에서 검색어를 파싱해서 데이터를 불러와 자식 컴포넌트들에게 넘겨주게 되면, 결국 루트가 클라이언트 컴포넌트가 되어 버리는데, 이런 검색 결과 페이지와 같은 경우엔 SSR이 큰 의미가 없나요?? 비슷한 원리로, 유저의 마이페이지와 같은 경우엔 유저 정보를(userId 등) 이용해서 데이터를 불러와 해당 유저의 정보를 보여주게 되는데, 유저 정보를 프론트 서버에서 페이지를 보내주는 시점에는 알 수 없습니다. 때문에 검색 페이지와 비슷하게 recoil의 atom 등과 같은 곳에서 유저 정보를 빼와서 데이터를 불러오게 될텐데, 그럼 이 경우에도 루트가 클라이언트 컴포넌트가 되어 버립니다. 이렇게 동적으로 발생하는 데이터를 이용해서 데이터를 불러오는 페이지는 SSR이 큰 의미가 없는 것인지 궁금합니다!! 개발 초보라 완전히 잘못 이해하고 있는 것일 수도 있지만, 바로 잡아주시면 감사하겠습니다!"
174,next.js,웹뷰 전역 레이아웃 스타일 관련 질문드립니다 !,"안녕하세요 ! 웹 프론트엔드를 공부하고 있는 뉴비입니다. 현재 웹뷰(?) 프로젝트를 진행하고 있는데요 ! Nextjs와 styled-components를 이용해 개발하고 이를 PWA를 적용해 모바일에서 실행 가능하도록 하는것이 목표입니다. 페이지 작업 도중 개발자 도구의 각 모바일 기기 환경에서 레이아웃이 달라지는 문제가 발생하고 있는데요 ! 예를 들어, 아이폰 SE환경 (width 375px) 에서는 페이지의 컨텐츠가 얼마 없음애도 불구하고 y축 스크롤이 생기는 문제, 이보다 큰 기기인 아이폰 14 pro (width 430px) 등에서는 아래쪽 여백이 너무 많아 허전한 느낌이 듭니다 ㅠㅠ 이를 해결하려면 어떤 식으로 접근해야 할까요 ? 현재 globalCss는 캐치테이블(https://app.catchtable.co.kr/)의 Wrapper div를 참고하여 대강 적용해둔 상태입니다 .. !"
175,next.js,nextauth 많이들 쓰시나요?,토이프로젝트 하는중에 nextauth 를 사용하고있는데 제가 초보자라 오류가 많이나네요ㅋㅋㅋ 저는 공식문서 만으로는 잘 안 되는것 같은데 .. 점점 nextjs 정 떨어지는중 ㅠㅠ 다들 nextAuth 사용하실때 공식문서 만 보시나요??
176,next.js,next js 프로젝트 설계 시 'use client' 사용,"이번에 프로젝트를 새로 시작하면서 next js 를 사용해야 하는 상황이 생겨서 app router 형식으로 만들어서 현재 퍼블리싱, 기본 로직생성만 진행중입니다. 그런데 use- 로 시작하는 리액트 훅을 사용하려면 최상단에 'use client'를 사용해서 클라이언트 컴포넌트로 선언하여 사용해야 한다고 해서 현재 로그인 회원 가입 등의 input 창 입력을 받아야 하는 페이지들은 모두 클라이언트 컴포넌트를 선언했습니다. (useState 사용을 위해서) 이렇게 전체 페이지를 'use client'를 사용해서 클라이언트 컴포넌트로 빼도 되는걸까요?"
177,next.js,next.js에서 브라우저에 있는 탭기능을 구현하려고 합니다.,"next.js로 구성된 사이트에서 특정 링크를 클릭해서 새로운 url로 이동되면 새로운 url로 이동됨과 동시에 브라우저 탭처럼 새로운 탭이 생성됩니다. 그리고 다른 url로 이동하면 새로운 탭이 생성 됩니다. 그리고 기존의 탭에는 새로운 url로 변경하기전에 있는 데이터들과 상태값이 유지되어 있고, 사용자가 해당 탭을 클릭시에 기존에 하던 화면을 그대로 보여줘야 합니다. 간단하게 이야기해서 웹사이트내에 크롬 상단 브라우저탭 기능을 만들려고합니다. 이것저것 시도해보고 있는데 next.js의 url routing를 사용하면서 기존의 상태값을 유지하기가 쉽지가 않네요 혹시 좋은 조언이 있으면 구하고 싶습니다. 감사합니다!"
178,next.js,next.js app-router에서 fetch revalidate 옵션을 주었을 때 데이터가 갱신되지 않는 현상,현재 서버에서 하루 단위로 DB데이터를 업데이트하고 있습니다. 거기에 맞춰 프론트단에서도 하루 단위로 갱신된 데이터를 보여주기 위해 api fetch옵션인 `{ next: {revadliate : 36000} }` 을 설정해 두었습니다. 그런데 revalidate로 설정한 시간이 지나도 화면에 나타나는 데이터가 갱신되지 않아요... 개발 환경에선 업데이트 된 데이터가 나오다가도 배포 페이지에선 이전 데이터가 나오는거 같아요. (배포는 aws로 했습니다) 서버 db 데이터는 잘 업데이트 되고있는걸 확인했습니다. 혼자서 자료를 아무리 찾아봐도 원인과 해결법을 모르겠어서 도움 요청합니다ㅠㅠ fetch 코드와 fetch를 호출하는 코드도 함께 첨부합니다.
179,next.js,웹 개발자를 지망하는 취준생의 여러 고민이 있습니다 (매우 장문),"안녕하세요 . 98년생 27(25살) 취준생입니다. 제가 올해 2월에 졸업해서 웹 개발자가 되어보려고 공부를 진행중에 있는데 여러가지 궁금한점이 생겨서 선배님들의 조언이 궁금해서 질문 올려봅니다 <현재 스펙상태> 정보처리기사 SQLD ( 따로 스터디를 하다가 Data-on-Air에 있는 SQL 단원 50개로 되어있는 부분에서 p내용 조금씩 보고있습니다) 서울 잡대 컴공 4년제 졸업 백준 실버3 입니다 정량화된 기준은 없지만 기본적으로 CS나 운영체제 , 데이터 통신 분야에 대한 기초용어나 기초 지식 정도는 설명가능한것 같습니다. (학교 수업) 학점은 3.3입니다. 추가적으로 기초 문법(시중에 있는 기본책 한권정도의 )를 알고 있는 언어는 :JAVA , TS,JS , 입니다. 대강어떤 건지 예제만 만져본 프레임워크 : Spring , react(라이브러리) , next.js, 그리고 현재 부트캠프 ( 스프링 3개월 + 리액트3개월) 을 하는 과정을 수강하고 있습니다. 순수 공부는 앉아있는 시간은 한 8~9시간 정도 되는것 같고 제가 생각하기에 냉정하게 순수 집중력을 발휘하는 시간은 5시간 인것 같습니다. <목표> 일단은 백엔드를 목표하고 있는데 , 프론트도 나름의 재미가 있는것 같아서 (백7:프3)으로 비율을 유지하려고합니다. 공부는 일단은 내년3월 까지로 생각하고 있습니다. ( 그전에 운이 좋다면 취업 할 생각은 있지만 , 그냥 저냥 좋은 조건이 아니라면 공부 할 생각입니다) 내년 상반기 취업 공부시작 : 2024.02.05 에 시작하였습니다. 공부예정 : 2024.02.05 ~ 2025.03.30 하루 공부하는 부분들 : 운영체제(30분 읽기 ) // 스프링 인강 듣기(4시간)// 백준 솔브드 클래스2번 1문제씩 풀기(1시간) // DB 한챕터씩 읽고 노션에 대량 정리하기 (30분) <질문> 1.제가 진로를 많이 헤매고 그냥저냥 주어진 과제만 적당히 하다가 웹 개발을 24년도 2월에 시작하면서 27(25)란 나이가 많이 늦지는 않은건가 , 실무에서 보통 선배님들은 언제 취업을 하시고 준비하셨는지 내가 너무 늦어버린건 아닐지 궁금합니다. 2. SQLD를 딴 상태에서 (Data-on-Air)로 공부하다 보니 sqlp내용의 초중반부 까지 공부하고 있습니다 . 뭔가 적당히 할만해서 그랬던것 같습니다. 그래서 웹 개발자를 희망하는 학생이 SQLP라는 자격증에 어느정도 시간을 투자하는것이 효율적인지 , 또한 SQLP 자격증 자체가 취업할 때 어느정도 인정을 받는 자격증인지 궁금합니다. 3.백엔드 비중을 좀 높게 공부하면서 (부트 캠프에서 인프런 스프링강의를 넣어줬습니다) 뭔가 더 공부하면 어떤 기능을 가진 프로그램을 만들 수 있을 것 같은데, 도커나 AWS같은 배포도 공부를 해야하는것 인지 궁금합니다. 4.뭔가 웹 관련 http 지식들 이나, 웹과 관련된CS지식들을 좀 더 공부해보고 싶은데 , 추천 자료나 인강이 있는지 궁금합니다. 제가 생각하기에 저는 뭔가 공식문서 보다는 책이나 인강을 좀 더 좋아하는 것 같습니다. (그래서 여쭤보고 싶습니다) 5. 저의 부족한 지식으로 뭔가 객기일수도 있겠지만 백엔드7 프론트3의 비중을 가지고 공부를 하려한다면 백엔드가 스프링일때 프론트 엔드는 어떤 기술을 공부해보면 좋을지 궁금합니다. 6.코테 준비를 위해서 솔브드 문제를 그냥 혼자서 머리 박으면서 공부하고 있습니다. 하지만 클래스2 정도의 난이도도 슬슬 안풀리는 문제들이 생겨서 이것도 선배님들이 추천해주실만한 인강, 교재, 블로그 등등의 조언을 받고 싶습니다. (언어는 Java를 사용하고 있습니다) 7.마지막으로 고민중인 것이 조언을 받고 공부를하다가 이력서를 넣을때 내 실력이 완성 되어있는 상태가 되어야 구직 활동을 시작하는게 좋을까요 ? 아니면 한70~80 선에서 실무에서 여러 경험하신 선배님들을 만나보며 경험해보면 좋을지가 궁금합니다. 너무 장문으로 많은 질문을 한번에 드린거 같아서 .. 죄송합니다 문장도 엉망인거 같은데 여러 생각들이 떠오르는 그대로 옮겨 적어서 그런것 같습니다., 제가 개발자를 끝까지 하던 아니던 뭔가 어느정도의 수준 까지는 도달하고 그 여부를 결정해보고 싶어서 여러 공부방향에 대한 질문을 했습니다. 이제 일요일 끝나가는데 새로운 한주 시작이 행복하셨으면 좋겠습니다 선배님들의 답변 기다리겠습니다 .^.^ 좋은하루되세요"
180,next.js,프론트 배포 관련 구글 검색에 노출 질문,안녕하세요 프론트엔드 개발자 입니다 이번에 사이드 프로젝트로 Next.js로 프로젝트를 만든 이후 vercel에 배포하였습니다 해당 프로젝트에 sitemap.xml과 robots.txt 파일 모두 설정하고 meta 태그에 title과 description도 모두 설정하였는데 구글에 검색해도 노출이 되지 않네요 혹시 또 다른 설정이 필요한지 궁금합니다!
181,next.js,[Next.js] 미디어쿼리가 모바일 배포환경에서만 적용되지 않습니다ㅠㅠ,"현재 Next.js를 이용해서 프로젝트를 진행하고 있는 대학생입니다! 프론트엔드를 개발하면서 반응형 웹을 계획하고 미디어쿼리를 이용해 반응형 레이아웃을 테스트하는데 데스크탑 개발환경 및 배포(vercel)환경에서는 미디어쿼리가 잘 작동하지만 모바일로 배포환경에 접속하면 미디어쿼리가 적용되지 않습니다. 해결을 위해 시도한 방법 1. ""일반 css파일과 css_module파일이 특정 상황에서 충동을 일으킬 수 있다""는 정보를 토대로 모든 스타일 파일을 css_module로 통일했습니다. 2. ""metadata에 viewport 구문이 빠져있을 수 있다""는 정보를 토대로 next/Head를 이용해서 viewport를 따로 명시했습니다. 위 방법들을 모두 시도했지만 여전히 데스트톱에서만 미디어쿼리가 작동하고 모바일 배포환경에서는 먹통입니다. 선배님들의 도움이 필요합니다ㅜㅜ"
182,next.js,Next.js 13 서버 컴포넌트 조건부 렌더링,"안녕하세요. 개인프로젝트로 SEO가 중요한 웹 애플리케이션을 만들고 있어서 Next.js 13을 배워 사용중입니다. 프로젝트를 진행하다보니 막막한 구간에 들어섰습니다. 조건부 렌더링으로 사용자의 조작에 따라서 각각 다른 컴포넌트들을 렌더링하려고 페이지 루트 컴포넌트에 useState()를 사용했습니다. 그리고 그러다보니 루트 컴포넌트에 'use client'를 선언하게 되었고 루트 컴포넌트는 자연스럽게 클라이언트 컴포넌트가 되었습니다. 그런데 여기서 의문이 들었습니다. next 13 공식문서에서는 컴포넌트를 클라이언트 컴포넌트로 만들면 모든 하위 컴포넌트들이 클라이언트 컴포넌트가 되기 때문에 SEO에 취약해질수있다. 그러니 되도록이면 서버 컴포넌트를 상위에 배치시키고 클라이언트 컴포넌트는 하위 컴포넌트로 배치하는게 좋다. 이렇게 나와있는데 조건부 렌더링 기능을 넣자니 클라이언트 컴포넌트로 만들어야되서 SEO가 취약해지고, 조건부 렌더링을 빼자니 프로젝트가 너무 밋밋해지고.. 되도록이면 루트컴포넌트는 서버컴포넌트를 유지하면서 조건부 렌더링 기능을 넣고싶은데 막막하네요.. 혹시 서버컴포넌트에서 조건부 렌더링을 할수있는 방법이 있을까요? 현업에서는 이런상황일때 어떻게 하시나요?"
183,next.js,Next js 개발 방식이 궁금합니다,react를 공부한 후 Next js를 공부하고 있습니다. 컴포넌트를 만들 때 react에서는 dev 모드에서도 리로드가 빨라서 바로바로 css 스타일을 적용하며 코드를 작성했는데 Next에서는 동일하게 작업할 시 리로드가 오래걸려 개발속도가 늦어지는 것 같습니다. 혹시 Next를 사용하는 분들은 어떻게 개발하시는지 과정이 궁금합니다.
184,next.js,"Next js에서 소셜 로그인 구현할 때, 발생하는 redirect 문제",사내에서 블로그 어플리케이션을 만들고 있는데 Next js를 처음 적용하다보니 마주하는 문제들이 많아 해당 내용에 대해 아이디어를 얻고자 글을 남깁니다! 현재 로컬에서는 소셜 로그인 과정이 무리없이 동작 했는데 배포 이후 소셜 로그인을 진행할 때 redirect url로 페이지로 오는 과정에서 지정해둔 페이지가 아닌 메인 페이지로 오게 됩니다 도메인을 보면 redirect url로 지정해둔 경로이고 인가코드가 쿼리스트링으로 그대로 있는 상황입니다 이에 이어서 다른 페이지에서 새로고침을 하는 경우 다시 메인 페이지로 오는 에러가 있습니다 해결방법을 찾아봤을때 next.config.js 에서 해결하는 방법이 있다고 했는데 어떤 방식으로 적용해야하는지 감이 잡히질 않습니다.
185,next.js,제가 프론트엔드 취준을 잘하고있는지 궁금합니다.,"안녕하세요 프론트엔드 개발자 준비하는 취준생입니다. 목표는 it 서비스 기업, 빅테크 기업입니다. 쉽게 말해 네카라쿠배입니다. 제가 현재 잘 준비하고있는지 객관적으로 궁금한데, 제 주위에 현업에서 일하시는 분들이 없어서 여기에 작성합니다. 1. 코딩테스트 현재 node.js로 준비 중입니다. 불편한 점이 없진 않은데 바꾸기엔 너무 익숙해져서 쭉 가고있습니다. 수준으로 백준 기준으로 골드 3-4는 기본적으로 풀고 그 위는 좀 고민을 많이 해봐야 풀리는 정도입니다. 2. 프로젝트 제대로 된 프로젝트 4개 해봤습니다. 전부 프론트엔드 및 ui&ux 디자인을 맡았습니다. 협업은 github으로 진행했습니다. 심도있게 사용하진 않았고 pullrequest, 코드 리뷰, merge, git branch, git flow 정도로 기본적인 것만 했습니다. 2.1. 교통 관련 프로젝트: 학부 생들의 교통편 관련 웹 서비스 였습니다. 두달 정도 운영했습니다. 2.2. 헬스 관련 프로젝트: 해커톤으로 준비했던 프로젝트인데 6-7 페이지 정도 되는 웹 서비스였습니다. 실제로 운영하진 않았습니다. 2.3. 전기차 관련 프로젝트: 해커톤에 나갈 용도로 전기차 충전 관련 웹 서비스를 개발했습니다. 실제로 운영하진 않았습니다. 2.4. 동아리 웹사이트 프로젝트 : 졸업 후 몸담았던 동아리 웹페이지 제작을 했습니다. 저는 아니고 후배들이 이어서 운영중입니다. 3. 수상 3.1. 교내 웹 개발 교육 봉사 활동으로 인한 최우수상 3.2. 전국 대회 해커톤 우수상 4. cs 지식 DB, 네트워크, 운영체제 같은 기본적인 cs 지식은 없다고 봐도 무방합니다. 알아도 학부 때 배운 만큼 아니면 그 이하입니다. 5. 기술 스택 html, css, java, javascript, react 위 5개가 자신있게 사용할 수 있는 정도 입니다. 다만 리액트는 동작원리나 유용한 훅에 대한 공부가 필요해서 최근에 시작했습니다. 6. 계획 우선 알고리즘은 감을 잃지 않기 위해 매일매일 꾸준히 풀고있습니다. 지금 하고 있는 리액트에 대한 공부는 한달 반 정도 내에 끝낼 예정이고, 이후에 타입스크립트, 여유가 되면 Next.js까지 배워볼 생각입니다. 그리고 계획된 일정으로 취직을 하지 않는다면 제대로 된 프로젝트를 하나 더 할 것 같습니다. 7. 궁금한 점 제가 제대로 하고 있는 건지, 트렌드를 잘 따라가고 있는지, 아니라면 혹은 부족한 부분이 있다면 무엇인지 궁금합니다. 매워도 되고 차가워도 됩니다. 채찍도 좋아합니다. 솔직하고 객관적인 충고 부탁드립니다. 감사합니다."
186,next.js,Nextjs13 route..,안녕하세요 nextjs와 springboot를이용하여 프로젝트를 진행하고 있습니다. 회원정보확인부분을 구현중인데 .. 로그인 page.js 에서 회원아이디와 비밀번호를 api-route.js 를 통해 post json 방식으로 넘겨주고 싶습니다.. 값을 어떻게 넘겨주어야 될까요..? 전혀 감이 오질 않습니다 ㅠㅠ
187,next.js,Next.js 링크 hover 시점에 prefetch 기능 비활성화하기,Next.js 링크 태그의 prefetch 기능을 비활성화 하려고 합니다. 그런데 <Link href={'...'} prefetch={false} /> 를 적용해도 hover 시점에는 계속 prefetch 를 하네요? 공식 문서를 찾아보니 hover 시점에는 prefetch 를 한다고 적혀있는데 이걸 제한하는 방법은 아예 없는 건가요? ㅠ
188,next.js,next.js를 무조건 써야할까요?,"안녕하세요 kdt수강을하며 이제 마무리 단계에 들어가게되어 개인 웹사이트를 제작해보려고하는 초보입니다.. 다름이아니라 현재까지 스프링부트+마리아db+리액트를 공부하며 사이트를 제작 하였었는데 인터넷이나 주변 지인분들은 next.js라는 편한툴이 생겨서 공부해보라고 하여 찾아봤습니다. 지금까지 알아본 내용으로는 프론트+백엔드를 같이할수있다. 리액트문법을 알고있다면 편하게 구축할수있다. 정도인데 장단점으로는 스프링부트가 동시처리가되서 빠르다 next는 한곳에서 처리가 가능해서 편하다 이렇게 알고있습니다.. 스프링부트+마리아db+리액트 아직 완벽하지는 않지만 로그인, 회원가입, 게시판등등은 제작이 가능한데 빨리 next.js를 처음부터 배우는게 나을까요? 아니면 공부를 더 하고 나중에넘어가는게 나을까요 ?"
189,next.js,Nextjs 탭 기능 질문,Next 14 앱라우터 버전과 react-query를 사용하고 있습니다. 게시물 목록을 보여주는 페이지를 만들고 있고 게시물의 카테고리를 필터링 해주는 탭을 만드려고 하는데요. 기존에 React에서 할땐 searchparams 값을 넘겨주는 식으로 필터링이 됐는데 next에서는 url을 바꾸는 식으로 하려면 페이지 이동을 해야 하는 것 같아서 이걸 페러렐 라우트로 처리를 해야할지 url 처리 없이 가야할지 고민이 됩니다 ㅠㅠ
190,next.js,Gatsby VS Next.js 비교,"Create React App에서 Gatsby나 Next.js 로 마이그레이션 해보신 분이 계실까요? 검색 엔진 최적화를 위해 두 프레임워크 중 하나로 개인 사이드 프로젝트를 이전하려고 하는데, Gatsby의 경우에는 Next.js에 비해 낯설어서 사용해보신 분들의 경험을 들어보고 싶습니다."
191,next.js,프론트엔드 이직은 어떻게 준비하나요?,"안녕하세요! 6개월차 프론트엔드 신입입니다. 사실 이직을 바로 생각하는건 아니고 지금있는 회사에서 1년은 넘기고 이직이나 중고신입으로 대기업에 가고싶습니다 하지만 여러가지 준비는 해야하는걸로 생각이 들고, 어떻게 하면 좋을지 여기서 앞서나간 선배님들의 조언을 듣고자합니다. 현제 제 상태는 이렇습니다. 컴퓨터공학 22년 차석졸업 계약직 인공지능강사 6개월 현직 프론트엔드 개발자 해커톤 수상 4회 (1등 2회, 2등 1회, 3등 1회) 교육부 장관상 1회 소프트웨어 특허 1개 소프트웨어 저작권 9개 경험) 소프트웨어 동아리 회장, 교내 연구생 알고리즘) 프로그래머스 레벨3 외국어) 영어 프리토킹 스택) sveltekit(현직),nextjs,tanstack-query,redux-rtk,playwright,tailwind,css,styled-compnent,sotrybook,mocking service worker 취업을 할때는 대회에서 상을 받았던 이력으로 회사에서 좋개 봐줘서 빠르게 입사했지만, 대기업에 중고신입이나 이직은 많이 다를거 같아 고민입니다. 따로 토이프로젝트나, 오픈소스 기여를 하면 좋다는걸 알지만 개인적으로 회사에서 프로젝트가 재미있어 기존 회사 코드 성능 향상에 몰두하고있습니다. 회사코드를 보고 다듬고 동료들과 커뮤니케이션하는게 좋아, 자진해서 거의 15시간정도 회사 일만하고 있지만 정작 나중에 되서 다른회사 지원하면 안좋게 보이까 걱정도 조금됩니다 그래서 이곳에서 도움을 구하고자합니다 긴글 읽어주셔서 감사합니다"
192,next.js,nextjs app router,"많이들 사용하시나요? 사용한다면 어느 조합으로 사용 하고 계신지 궁금합니다. 주로 궁금한거는 기존의 v13 or v14, 기존의 css-in-js 사용이 불가능한 상황에서 스타일링에는 무엇을 사용하는지, 별도의 데이터 패칭 라이브러리(swr, tanstack-query)와 전역상태도구(zustand, jotai)를 사용하는지. 음 기존 page router 쓰시던 분들은 프로덕션 레벨에서도 마이그레이션 해서 사용중인지도 궁금하네요 추가로 특정 조합에 장점이 있는지도 궁금합니다 감사합니다!"
193,next.js,너무 멍청하고 재능이 없는 것 같습니다,"먼저 눈살 찌푸려지게 만드는 제목 죄송합니다. 이래야 많은 분들이 보러 와주실 것 같아서 이런 식으로 작성하였습니다. 안녕하세요. 현재 소프트웨어학과를 재학 중인 2학년 학부생입니다. 저는 1학년 남들이 열심히 살아갈 때 혼자서 아무것도 안 하고 그냥 숨만 쉬고 살았습니다. 그러다 문득 생각이 들었습니다. '이렇게 해서는 안 되겠다. 나를 갉아먹는 것 밖에 되지 않는다.'라고 판단하여 바로 군대를 다녀오고 2학년에 복학해서 전공을 들으며 어찌저찌 다니고 있습니다. 근데 이제 1학년 때 아무것도 하질 않아서 기본적인 개념 조차 모르니 1학년 전공 지식을 알고있을 것이라는 전제 하에 진행하는 수학 관련 전공들은 따라가기 급급하며 프로그래밍 언어는 기본적인 자료형 조차 까먹은 완전 노베이스입니다. 그래서 공부를 시작했습니다. 어떻게 해야할지도 감도 안 오고, 책을 보며 공부를 해봤는데 저에겐 맞지 않아서 그냥 무작정 백준- solved.ac를 연결해서 class 문제에 머리를 들이박아 헤딩 중에 있습니다. 근데 여기서 제 문제점이 나옵니다. 사람들은 잘 푸는 것 같은데, 항상 기본적인 부분에서 실수를 합니다. 이차원 리스트를 정렬할 때, 정렬하고자 하는 값을 int 변환 없이 바로 str인 상태로 정렬을 시키고 어디서 잘 못 되었는지를 모른다거나, 또, 클래스 1 문제를 다 풀고 클래스 2로 들어오니까 한 문제 한 문제를 해결할 때 너무 많은 시간이 듭니다. 당장 이항 계수를 구하는 코딩을 작성하는 문제, 요세푸스의 순열 문제, 계수 정렬로 정렬하는 문제, 순열 문제를 해결하기 위한 완전 탐색 등등 다양하고 처음 보는 개념들이 많이 나옵니다. 그래서 문제를 해결하려고 막상 부딪혀보면 해당 내용들을 알지 못하면 저는 절대 해결하지 못하더군요. 그리고 이제 파이썬과 C++을 배우며 파이썬으로 백준을 풀어나가는 중인데, 또 다시 C++로 백준을 풀라고 하면 똑같이 헤맬 것 같습니다. 아니 그냥 당장 4일 걸려서 도달했던 실버 직전 문제들을 풀라고 하면 다시 머리 싸매면서 힘들어할 것 같습니다. 이게 맞는 걸까요? 추가적인 질문으로, 백준 티어가 높으면 실무에서 많이 도움이 되나요? 이제 막 시작해서 실버5 밖에 되지 않아 높은 분들의 세계를 동경하기만 하는 중이라 한 번 여쭤봅니다. 마지막 질문으로, 친구들이랑 장난감 만들듯이 진행하는 소규모 프로젝트라고도 하기 애매한 웹페이지 제작을 하고 있는데요. 컨셉이나 주제 등을 정하기도 어려워서 그냥 무작정 제공해주는 지도 api를 가져올 수 있는 웹페이지를 하나 만들어보자! 부분만 집중하고 있습니다. 리액트와 next.js를 공부해서 열정적으로 공부하면 js언어를 빠르게 습득할 수 있을까요? 또, 백엔드는 어떻게 쌓아올려야하는 걸까요? 모르는 게 너무 많은 것 같습니다 휴.. - 3줄 요약- 1. 1학년 때 놀아서 2학년인 지금 따라가기 너무 벅찹니다. 그래서 무작정 감을 익혀보고자 백준을 풀고 있는데 이것조차 이제 모르는 개념이 나오면 한 개념 이해하는데 몇 시간씩 소모하고 그럽니다. 이게 맞는 걸까요? 2. 백준 티어가 높으면 실무에서 도움이 되나요? 3. 웹페이지 제작 같은 경우에는 아무것도 모르는 노베이스 상태로 시작해도 괜찮을까요? 리액트와 next.js를 이제 막 배우고 있습니다. 그리고 백엔드는 언제 접목시키는 건가요? 다른 분들이 하시는 멋진 고민들- 실무에서의 실수, 개발자의 미래, 자신이 희망하는 진로에 대한 세부적이고 열정있어보이는 질문-에 비하면 너무나도 수준이 낮아보이는, 그런 질문인 것 같아 죄송하네요. 읽어주셔서 감사합니다."
194,next.js,사이드프로젝트중 proxy관련 질문있습니다.,현재 사이드프로젝트를 진행중인 취준생입니다. 프론트엔드측에서 로컬에서 원활한 API통신을 위해 proxy를 설정하여 cors를 우회하였는데요. Nextjs13을 사용중이고 rewrites 함수를 next.config 에서 사용하였습니다. 문제는 프로덕션이었습니다. 현재 저희는 Vercel 로 간편하게 배포를 해두었는데요. 프론트 개발서버에서는 cors를 우회하여 api요청과 응답이 정상적이었지만 배포된곳에서는 뜬금없이 403에러가 발생합니다. 혹시 proxy때문에 403에러가 발생하는것일까요?
195,next.js,Next.js Link의 as속성 질문드립니다.,"안녕하세요. nextjs에서 Link 사용 시 as 속성을 넣었는데 404에러가 발생합니다. 1번 코드로도 해보고, next.config.js에서 2번 코드처럼도 해봤는데 주소창에 url은 as 처럼 보여지고 실제로도 /login으로 이동하더라구요. 무엇이 문제일까요? ㅠ"
196,next.js,CSS 프레임워크를 현업에서 적절하게 사용하는 부분이 궁금합니다.,"안녕하세요. 이번에도 도움만 받는 주니어 프론트엔드 개발자 입니다. 금일의 고민은 css 프레임워크의 활용입니다. 그동안은 CSS 적응력을 기르기 위해서 구성되어있는 bootstrap이나 mui 말고, styled-components, tailwindcss 정도로 개발을 진행해왔습니다. 이 부분이 더 커스텀하기에 용이하기도 해서 말이죠. 이번에 현업에서 개발을 들어가게 되었는데, 빠른 진행력을 위해서 어느정도 레이아웃까지는 CSS 프레임워크의 간편함을 빌려야되겠다는 생각이 문득 들게 되었습니다. 여기서 궁금한 부분은 CSS 프레임워크를 사용하여 다른 컴포넌트까지 빠르게 만들 수 있으나, 기획과 디자인의 용도에 맞는 커스텀 제작에 어려움을 겪을 수도 있을 것 같고 또한, 용량으로 인해 사용자 경험이 저하될까봐 우려가 됩니다. 하지만, 속도도 포기할 순 없단 말이죠? 선배 개발진분들의 현업에서 빠른 UI 제작을 위한, 그리고 모든 요구사항과 최대한의 최적화를 고려한 CSS 활용에 대한 팁을 듣고 싶습니다. 괜찮으시다면, css 프레임워크를 추천을 해주시면 더욱 감사할 것 같습니다 :) 감사합니다. 아! 참고로 Nextjs 를 사용하여 제작할 예정입니다. next 초기 설정에서 tailwindcss 를 밀어주는 느낌이 없지 않아 있어서 마음이 흔들립니당"
197,next.js,Next.js 의 _layout.tsx 파일 내에서 server side 데이터를 활용할 방법이 있을까요 ?,"네비게이션 바에서 로그인, 로그아웃 상태를 구분해서 구현을 다르게 해주려고 합니다. 문제는 네비게이션 바 컴포넌트를 _layout.tsx 내에 구분했는데 여기서 getServerSideProps 를 사용할수 없더라고요. API 호출을 사용하면 해결되기는 하지만 getServerSideProps 를 사용할 때보다 느려서 사용하기 애매합니다. 혹시 다른 좋은 방법이 있을까요 ?"
198,next.js,next.js getStaticProps에서 user agent를 확인하는 방법?,안녕하세요 next.js로 웹 사이트를 만들고 있는데 질문이 있습니다. 서버사이드에서 mobile 기기 접속여부를 알아야 하는데 getStaticProps안에서 user agent를 확인하는 방법이 있을까요?
199,next.js,seo가 중요하지 않은 웹서비스 만들 때 react랑 nextjs 중에 뭘 더 추천하시나요?,"신입이지만 스타트업이라서, 어쩌다보니 제가 프론트를 리드하게 됐습니다. 웹을 만들어야 하는데 react와 nextjs 중에 고민이 됩니다. react 개발 경험은 있는데, nextjs는 처음이라서요. 어떤 걸 추천하시나요?"
